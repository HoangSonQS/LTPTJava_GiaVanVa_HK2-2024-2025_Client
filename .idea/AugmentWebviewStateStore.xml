<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiI0ZmZkNWVjNC05ODgwLTQxNDAtOWJhYy1lYzNjYWIyYzUzZjciLCJjb252ZXJzYXRpb25zIjp7IjNlZDQ1ZDY1LTVjNTAtNDBhMy1iNTAyLTc3ZDhiNGM5NGQwMCI6eyJpZCI6IjNlZDQ1ZDY1LTVjNTAtNDBhMy1iNTAyLTc3ZDhiNGM5NGQwMCIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMTdUMTU6NDI6MDIuMzY2WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTE4VDA4OjU0OjE0LjcwNFoiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4MTJkYjg0My1kY2MyLTRmNDAtYWQzMy04ZDU5NDkxYjQyYTgiLCJyZXF1ZXN0X21lc3NhZ2UiOiJwcml2YXRlIHZvaWQgdXBkYXRlTGFiZWxzKFRhaUtob2FuIHRrKSB7XHJcbiAgICAgICAgbGJfbWFUSy5zZXRUZXh0KHRrLmdldE1hVGFpS2hvYW4oKSk7XHJcbiAgICAgICAgbGJfdGVuRE4uc2V0VGV4dCh0ay5nZXRUZW5EYW5nTmhhcCgpKTtcclxuICAgICAgICBsYl9tay5zZXRUZXh0KHRrLmdldE1hdEtoYXUoKSk7XHJcbiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW0gZGQvTU0veXl5eVwiKTtcclxuICAgICAgICBsYl90Z2RuLnNldFRleHQodGsuZ2V0VGhvaUdpYW5EYW5nTmhhcCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcclxuICAgICAgICBsYl9tYU5WLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodGsuZ2V0TmhhblZpZW4oKSkpO1xyXG5cclxuICAgIH1cbnTDtGkgbXXhu5FuIGzhuqV5IG3DoyBuaMOibiB2acOqbiB04burIG5ow6JuIHZpw6puIHRow6wgdGjhur8gbsOgbyIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJwcml2YXRlIHZvaWQgdXBkYXRlTGFiZWxzKFRhaUtob2FuIHRrKSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgbGJfbWFUSy5zZXRUZXh0KHRrLmdldE1hVGFpS2hvYW4oKSk7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgbGJfdGVuRE4uc2V0VGV4dCh0ay5nZXRUZW5EYW5nTmhhcCgpKTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICBsYl9tay5zZXRUZXh0KHRrLmdldE1hdEtoYXUoKSk7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW0gZGQvTU0veXl5eVwiKTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICBsYl90Z2RuLnNldFRleHQodGsuZ2V0VGhvaUdpYW5EYW5nTmhhcCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICBsYl9tYU5WLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodGsuZ2V0TmhhblZpZW4oKSkpO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiJcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgIH0ifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InTDtGkgbXXhu5FuIGzhuqV5IG3DoyBuaMOibiB2acOqbiB04burIG5ow6JuIHZpw6puIHRow6wgdGjhur8gbsOgbyJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoixJDhu4MgbOG6pXkgbcOjIG5ow6JuIHZpw6puIHThu6sgxJHhu5FpIHTGsOG7o25nIG5ow6JuIHZpw6puIHRyb25nIFRhaUtob2FuLCBi4bqhbiBj4bqnbiB0aGF5IMSR4buVaSBkw7JuZyBjdeG7kWkgY8O5bmcgbmjGsCBzYXU6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXCIgbW9kZT1cIkVESVRcIj5cbmBgYGphdmFcbnByaXZhdGUgdm9pZCB1cGRhdGVMYWJlbHMoVGFpS2hvYW4gdGspIHtcbiAgICAgICAgbGJfbWFUSy5zZXRUZXh0KHRrLmdldE1hVGFpS2hvYW4oKSk7XG4gICAgICAgIGxiX3RlbkROLnNldFRleHQodGsuZ2V0VGVuRGFuZ05oYXAoKSk7XG4gICAgICAgIGxiX21rLnNldFRleHQodGsuZ2V0TWF0S2hhdSgpKTtcbiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW0gZGQvTU0veXl5eVwiKTtcbiAgICAgICAgbGJfdGdkbi5zZXRUZXh0KHRrLmdldFRob2lHaWFuRGFuZ05oYXAoKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICAgICAgIGxiX21hTlYuc2V0VGV4dCh0ay5nZXROaGFuVmllbigpLmdldE1hTlYoKSk7XG59XG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cblRoYXkgdsOsIHPhu60gZOG7pW5nIGBTdHJpbmcudmFsdWVPZih0ay5nZXROaGFuVmllbigpKWAsIHRhIHPhu60gZOG7pW5nIGB0ay5nZXROaGFuVmllbigpLmdldE1hTlYoKWAgxJHhu4MgbOG6pXkgdHLhu7FjIHRp4bq/cCBtw6MgbmjDom4gdmnDqm4gdOG7qyDEkeG7kWkgdMaw4bujbmcgTmhhblZpZW4uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YTo2MDcwLTY3ODlcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YToxMDcyNC0xMTYwMFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhOjEzMjE4LTEzNTI1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6MTM1MjUtMTQyMDNcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOjE1NzM0LTE2MjMyXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YToyNzIyNS0yODI2NVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjgzMDQtOTAyOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjkwMjktOTc3Nlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjExNjgxLTEyMzQ0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YTozOTI1LTQ4MDFcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1RhaUtvYW5fY29udHJvbGxlci5qYXZhOjc1OTctODM2MVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmE6ODM2MS05MTkxXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhOjYwMjktNjU4OVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YToxMDc4Mi0xMTc1NFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YToxMTc1NC0xMjQxMlxuc3JjL21haW4vamF2YS9pdWgvZml0L2VudGl0aWVzL1RhaUtob2FuLmphdmE6MTg0LTkzNFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo2Mzk2LTcyNzJcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6MTI3MDktMTM1MTZcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6NjYzOS03NDkzXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjE0MzI4LTE1MDA2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmE6MzQ4Ni00Mjc5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmE6NjQzNC03MTQ0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmE6Nzc2OC04MzkwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmE6ODM5MC05MTU5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjY0MTAtNzI1N1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YToxMzAyMS0xMzc0N1xuc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWw6MzM3OC00NjE3XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9LaGFjaEhhbmdfY29udHJvbGxlci5qYXZhOjc3ODctODQ0MVxuc3JjL21haW4vamF2YS9pdWgvZml0L0RhdGFGYWtlclJ1bm5lci5qYXZhOjIyMzQtMjY3M1xuc3JjL21haW4vamF2YS9pdWgvZml0L1JNSUNsaWVudE1lbnUuamF2YTo1MzUxLTY2MjEifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJwcml2YXRlIHZvaWQgdXBkYXRlTGFiZWxzKFRhaUtob2FuIHRrKSB7XHJcbiAgICAgICAgbGJfbWFUSy5zZXRUZXh0KHRrLmdldE1hVGFpS2hvYW4oKSk7XHJcbiAgICAgICAgbGJfdGVuRE4uc2V0VGV4dCh0ay5nZXRUZW5EYW5nTmhhcCgpKTtcclxuICAgICAgICBsYl9tay5zZXRUZXh0KHRrLmdldE1hdEtoYXUoKSk7XHJcbiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW0gZGQvTU0veXl5eVwiKTtcclxuICAgICAgICBsYl90Z2RuLnNldFRleHQodGsuZ2V0VGhvaUdpYW5EYW5nTmhhcCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcclxuICAgICAgICBsYl9tYU5WLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodGsuZ2V0TmhhblZpZW4oKSkpO1xyXG5cclxuICAgIH1cbnTDtGkgbXXhu5FuIGzhuqV5IG3DoyBuaMOibiB2acOqbiB04burIG5ow6JuIHZpw6puIHRow6wgdGjhur8gbsOgbyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IsSQ4buDIGzhuqV5IG3DoyBuaMOibiB2acOqbiB04burIMSR4buRaSB0xrDhu6NuZyBuaMOibiB2acOqbiB0cm9uZyBUYWlLaG9hbiwgYuG6oW4gY+G6p24gdGhheSDEkeG7lWkgZMOybmcgY3Xhu5FpIGPDuW5nIG5oxrAgc2F1OlxuXG5gYGBgamF2YSBwYXRoPXNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSBtb2RlPUVESVRcbnByaXZhdGUgdm9pZCB1cGRhdGVMYWJlbHMoVGFpS2hvYW4gdGspIHtcbiAgICAgICAgbGJfbWFUSy5zZXRUZXh0KHRrLmdldE1hVGFpS2hvYW4oKSk7XG4gICAgICAgIGxiX3RlbkROLnNldFRleHQodGsuZ2V0VGVuRGFuZ05oYXAoKSk7XG4gICAgICAgIGxiX21rLnNldFRleHQodGsuZ2V0TWF0S2hhdSgpKTtcbiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW0gZGQvTU0veXl5eVwiKTtcbiAgICAgICAgbGJfdGdkbi5zZXRUZXh0KHRrLmdldFRob2lHaWFuRGFuZ05oYXAoKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICAgICAgIGxiX21hTlYuc2V0VGV4dCh0ay5nZXROaGFuVmllbigpLmdldE1hTlYoKSk7XG59XG5gYGBgXG5cblRoYXkgdsOsIHPhu60gZOG7pW5nIGBTdHJpbmcudmFsdWVPZih0ay5nZXROaGFuVmllbigpKWAsIHRhIHPhu60gZOG7pW5nIGB0ay5nZXROaGFuVmllbigpLmdldE1hTlYoKWAgxJHhu4MgbOG6pXkgdHLhu7FjIHRp4bq/cCBtw6MgbmjDom4gdmnDqm4gdOG7qyDEkeG7kWkgdMaw4bujbmcgTmhhblZpZW4uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiI2MDcwIiwiY2hhcl9lbmQiOiI2Nzg5IiwiYmxvYl9uYW1lIjoiNWIwOGI1M2M2YmQxMWVjY2E0NDEwY2FlOGEyZWNlZDYxZDY1ZTY5YmFmNzFjNWY0OTM1MTUzNjg4ODM2YWQ5MSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMDcyNCIsImNoYXJfZW5kIjoiMTE2MDAiLCJibG9iX25hbWUiOiI1YjA4YjUzYzZiZDExZWNjYTQ0MTBjYWU4YTJlY2VkNjFkNjVlNjliYWY3MWM1ZjQ5MzUxNTM2ODg4MzZhZDkxIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEzMjE4IiwiY2hhcl9lbmQiOiIxMzUyNSIsImJsb2JfbmFtZSI6IjViMDhiNTNjNmJkMTFlY2NhNDQxMGNhZThhMmVjZWQ2MWQ2NWU2OWJhZjcxYzVmNDkzNTE1MzY4ODgzNmFkOTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTM1MjUiLCJjaGFyX2VuZCI6IjE0MjAzIiwiYmxvYl9uYW1lIjoiNWIwOGI1M2M2YmQxMWVjY2E0NDEwY2FlOGEyZWNlZDYxZDY1ZTY5YmFmNzFjNWY0OTM1MTUzNjg4ODM2YWQ5MSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxNTczNCIsImNoYXJfZW5kIjoiMTYyMzIiLCJibG9iX25hbWUiOiI3YzJjNWU1YTVhN2ViMzhjNDhjYzA1ODY2NjhkZDFiODc2ZTgyNjc5NWIwYjZkYjQ1NjRjOTU1MTYzYTEyYzA5IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjcyMjUiLCJjaGFyX2VuZCI6IjI4MjY1IiwiYmxvYl9uYW1lIjoiN2MyYzVlNWE1YTdlYjM4YzQ4Y2MwNTg2NjY4ZGQxYjg3NmU4MjY3OTViMGI2ZGI0NTY0Yzk1NTE2M2ExMmMwOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjgzMDQiLCJjaGFyX2VuZCI6IjkwMjkiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjkwMjkiLCJjaGFyX2VuZCI6Ijk3NzYiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjExNjgxIiwiY2hhcl9lbmQiOiIxMjM0NCIsImJsb2JfbmFtZSI6ImRlNWUxZDVlYTQyZDVlMzhjMmI2NzY4ODIxZmVmZTAyODhhZDY2MTc3NTUyOTk4NmNlMDg2MTAzNzZmNTkwY2EiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzkyNSIsImNoYXJfZW5kIjoiNDgwMSIsImJsb2JfbmFtZSI6IjdjODFiOGIwZGQ1OTRlN2ExODk0MTQ4ODRhMWFjNzUyMWIwYTY3MmZiMDc1ZDZlZWI0ZjFhOTYyNTQ0YjA1Y2IiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI3NTk3IiwiY2hhcl9lbmQiOiI4MzYxIiwiYmxvYl9uYW1lIjoiN2M4MWI4YjBkZDU5NGU3YTE4OTQxNDg4NGExYWM3NTIxYjBhNjcyZmIwNzVkNmVlYjRmMWE5NjI1NDRiMDVjYiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1RhaUtvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjgzNjEiLCJjaGFyX2VuZCI6IjkxOTEiLCJibG9iX25hbWUiOiI3YzgxYjhiMGRkNTk0ZTdhMTg5NDE0ODg0YTFhYzc1MjFiMGE2NzJmYjA3NWQ2ZWViNGYxYTk2MjU0NGIwNWNiIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjAyOSIsImNoYXJfZW5kIjoiNjU4OSIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEwNzgyIiwiY2hhcl9lbmQiOiIxMTc1NCIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjExNzU0IiwiY2hhcl9lbmQiOiIxMjQxMiIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE4NCIsImNoYXJfZW5kIjoiOTM0IiwiYmxvYl9uYW1lIjoiNTFlMDBhZmFkYmM1ZGU5YWM0NDIzZmYwOTczNjAzMjVmOGNiOTgyNTQyY2RiZWY0MTExYTQ3OTQwNjdmYWExZiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9lbnRpdGllcy9UYWlLaG9hbi5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjYzOTYiLCJjaGFyX2VuZCI6IjcyNzIiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjcwOSIsImNoYXJfZW5kIjoiMTM1MTYiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2NjM5IiwiY2hhcl9lbmQiOiI3NDkzIiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTQzMjgiLCJjaGFyX2VuZCI6IjE1MDA2IiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzQ4NiIsImNoYXJfZW5kIjoiNDI3OSIsImJsb2JfbmFtZSI6IjNmZDJiNWEwODY5N2ZhMTgxZmI3YjAxNDE5NWRmYTI2MTNhNDA4YzNjYzU2NDE0NTk4MDA0MTQyMzMwZDY4YTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjQzNCIsImNoYXJfZW5kIjoiNzE0NCIsImJsb2JfbmFtZSI6IjNmZDJiNWEwODY5N2ZhMTgxZmI3YjAxNDE5NWRmYTI2MTNhNDA4YzNjYzU2NDE0NTk4MDA0MTQyMzMwZDY4YTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzc2OCIsImNoYXJfZW5kIjoiODM5MCIsImJsb2JfbmFtZSI6IjNmZDJiNWEwODY5N2ZhMTgxZmI3YjAxNDE5NWRmYTI2MTNhNDA4YzNjYzU2NDE0NTk4MDA0MTQyMzMwZDY4YTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODM5MCIsImNoYXJfZW5kIjoiOTE1OSIsImJsb2JfbmFtZSI6IjNmZDJiNWEwODY5N2ZhMTgxZmI3YjAxNDE5NWRmYTI2MTNhNDA4YzNjYzU2NDE0NTk4MDA0MTQyMzMwZDY4YTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjQxMCIsImNoYXJfZW5kIjoiNzI1NyIsImJsb2JfbmFtZSI6IjVmYjBiNDI4YjFmNzU5NzgwNjliNjBkNDBlZDNkYjIzZjY0ODIxNzUyZmFlYzk5YTBlOTNhMjQyNDAxNzUwYzkiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEzMDIxIiwiY2hhcl9lbmQiOiIxMzc0NyIsImJsb2JfbmFtZSI6IjVmYjBiNDI4YjFmNzU5NzgwNjliNjBkNDBlZDNkYjIzZjY0ODIxNzUyZmFlYzk5YTBlOTNhMjQyNDAxNzUwYzkiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjMzNzgiLCJjaGFyX2VuZCI6IjQ2MTciLCJibG9iX25hbWUiOiJhNjA2MTUzNGU4M2VmYWM5ZGM2MWM3NDQyN2M0ZGFkN2YxYmZiNzBhNmIzM2ExMTZjMTkwMGYzNGE4Mzk5MzdmIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWwifX0seyJjaGFyX3N0YXJ0IjoiNzc4NyIsImNoYXJfZW5kIjoiODQ0MSIsImJsb2JfbmFtZSI6IjJmZjMxMjg3NzU0YTRmNGJjMWE3ZDM4YmNhZjExNzk3YTExODZlYWY0YzZjODFjMjJjNTRiZDA5OGUwN2U0ZTUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9LaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjIyMzQiLCJjaGFyX2VuZCI6IjI2NzMiLCJibG9iX25hbWUiOiI2N2I4NjE2MmFhNmQ0ZDc2ZjUyNzJkZDgwY2YxMDM5ZDM0NDRlNzFjZDkwYTY2NWJhYjdkOWExNGQ4ZjI0ZGU1IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L0RhdGFGYWtlclJ1bm5lci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjUzNTEiLCJjaGFyX2VuZCI6IjY2MjEiLCJibG9iX25hbWUiOiIwYjM2YTU3NmE0ZDI1ODgzYzE3YmI3MGEzMTJlYjJmMzc4MzY0MTE0YWQ5YzNhNGRkOGZkOGQxZDYwY2RmZTk5IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L1JNSUNsaWVudE1lbnUuamF2YSJ9fV19LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0MzIwZmUyZi1mMjc4LTQ1YzUtOWU2Zi04MjMyNTI3MjVhNTIiLCJyZXF1ZXN0X21lc3NhZ2UiOiJjbF9tYU5WLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYU5WXCIpKTsgc+G7rWEgZMOybmcgbsOgeSDEkeG7gyBs4bqleSBtw6MgbmjDom4gdmnDqm4gdOG7qyBuaMOibiB2acOqbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJjbF9tYU5WLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYU5WXCIpKTsgc+G7rWEgZMOybmcgbsOgeSDEkeG7gyBs4bqleSBtw6MgbmjDom4gdmnDqm4gdOG7qyBuaMOibiB2acOqbiJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoixJDhu4MgbOG6pXkgbcOjIG5ow6JuIHZpw6puIHThu6sgxJHhu5FpIHTGsOG7o25nIG5ow6JuIHZpw6puIHRyb25nIGLhuqNuZywgYuG6oW4gY+G6p24gc+G7rWEgbOG6oWkgbmjGsCBzYXU6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXCIgbW9kZT1cIkVESVRcIj5cbmBgYGphdmFcbmNsX21hTlYuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXROaGFuVmllbigpLmdldE1hTlYoKSkpO1xuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5UaGF5IHbDrCBz4butIGThu6VuZyBgUHJvcGVydHlWYWx1ZUZhY3RvcnlgLCB0YSB04bqhbyBt4buZdCBgU2ltcGxlU3RyaW5nUHJvcGVydHlgIG3hu5tpIHbDoCBs4bqleSBtw6MgbmjDom4gdmnDqm4gdGjDtG5nIHF1YSBgZ2V0TmhhblZpZW4oKS5nZXRNYU5WKClgLiDEkGnhu4F1IG7DoHkgc+G6vSBoaeG7g24gdGjhu4sgbcOjIG5ow6JuIHZpw6puIHRyb25nIGPhu5l0IHTGsMahbmcg4bupbmcgY+G7p2EgYuG6o25nLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NjA3MC02Nzg5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6MTAyNTYtMTA3MjRcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YToxMDcyNC0xMTYwMFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhOjExNjAwLTEyMjc0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6MTIyNzQtMTMyMThcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YToxMzUyNS0xNDIwM1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjY0NTYtNzQxOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjc0MTktODMwNFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjgzMDQtOTAyOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjkwMjktOTc3Nlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjk3NzYtMTA4NjhcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YToxMTY4MS0xMjM0NFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmE6NzU5Ny04MzYxXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmE6ODM5MC05MTU5XG5zcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9UcmFDdXVUYWlLaG9hbl9ndWkuZnhtbDozMzExLTQzNjNcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6MTExNzgtMTE4MjFcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6MTI3MDktMTM1MTZcbnNyYy9tYWluL3Jlc291cmNlcy9meG1sL1RyYUN1dU5oYW5WaWVuX2d1aS5meG1sOjMzMzctNDI1OFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YToxMDA2Mi0xMDc4Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YToxMDc4Mi0xMTc1NFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YToxMTQ3MS0xMjA3NVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YToxMjA3NS0xMjczNFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YToxMjczNC0xMzM4Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YToxNDMyOC0xNTAwNlxuc3JjL21haW4vamF2YS9pdWgvZml0L2VudGl0aWVzL1RhaUtob2FuLmphdmE6MTg0LTkzNFxuc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWw6MjM1MS0zMzc4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjExMjE2LTEyMDMzXG5zcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbDoyMzUyLTMzMDUifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJjbF9tYU5WLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYU5WXCIpKTsgc+G7rWEgZMOybmcgbsOgeSDEkeG7gyBs4bqleSBtw6MgbmjDom4gdmnDqm4gdOG7qyBuaMOibiB2acOqbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IsSQ4buDIGzhuqV5IG3DoyBuaMOibiB2acOqbiB04burIMSR4buRaSB0xrDhu6NuZyBuaMOibiB2acOqbiB0cm9uZyBi4bqjbmcsIGLhuqFuIGPhuqduIHPhu61hIGzhuqFpIG5oxrAgc2F1OlxuXG5gYGBgamF2YSBwYXRoPXNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSBtb2RlPUVESVRcbmNsX21hTlYuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXROaGFuVmllbigpLmdldE1hTlYoKSkpO1xuYGBgYFxuXG5UaGF5IHbDrCBz4butIGThu6VuZyBgUHJvcGVydHlWYWx1ZUZhY3RvcnlgLCB0YSB04bqhbyBt4buZdCBgU2ltcGxlU3RyaW5nUHJvcGVydHlgIG3hu5tpIHbDoCBs4bqleSBtw6MgbmjDom4gdmnDqm4gdGjDtG5nIHF1YSBgZ2V0TmhhblZpZW4oKS5nZXRNYU5WKClgLiDEkGnhu4F1IG7DoHkgc+G6vSBoaeG7g24gdGjhu4sgbcOjIG5ow6JuIHZpw6puIHRyb25nIGPhu5l0IHTGsMahbmcg4bupbmcgY+G7p2EgYuG6o25nLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbeyJjaGFyX3N0YXJ0IjoiNjA3MCIsImNoYXJfZW5kIjoiNjc4OSIsImJsb2JfbmFtZSI6IjViMDhiNTNjNmJkMTFlY2NhNDQxMGNhZThhMmVjZWQ2MWQ2NWU2OWJhZjcxYzVmNDkzNTE1MzY4ODgzNmFkOTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTAyNTYiLCJjaGFyX2VuZCI6IjEwNzI0IiwiYmxvYl9uYW1lIjoiNWIwOGI1M2M2YmQxMWVjY2E0NDEwY2FlOGEyZWNlZDYxZDY1ZTY5YmFmNzFjNWY0OTM1MTUzNjg4ODM2YWQ5MSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMDcyNCIsImNoYXJfZW5kIjoiMTE2MDAiLCJibG9iX25hbWUiOiI1YjA4YjUzYzZiZDExZWNjYTQ0MTBjYWU4YTJlY2VkNjFkNjVlNjliYWY3MWM1ZjQ5MzUxNTM2ODg4MzZhZDkxIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjExNjAwIiwiY2hhcl9lbmQiOiIxMjI3NCIsImJsb2JfbmFtZSI6IjViMDhiNTNjNmJkMTFlY2NhNDQxMGNhZThhMmVjZWQ2MWQ2NWU2OWJhZjcxYzVmNDkzNTE1MzY4ODgzNmFkOTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTIyNzQiLCJjaGFyX2VuZCI6IjEzMjE4IiwiYmxvYl9uYW1lIjoiNWIwOGI1M2M2YmQxMWVjY2E0NDEwY2FlOGEyZWNlZDYxZDY1ZTY5YmFmNzFjNWY0OTM1MTUzNjg4ODM2YWQ5MSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMzUyNSIsImNoYXJfZW5kIjoiMTQyMDMiLCJibG9iX25hbWUiOiI1YjA4YjUzYzZiZDExZWNjYTQ0MTBjYWU4YTJlY2VkNjFkNjVlNjliYWY3MWM1ZjQ5MzUxNTM2ODg4MzZhZDkxIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY0NTYiLCJjaGFyX2VuZCI6Ijc0MTkiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc0MTkiLCJjaGFyX2VuZCI6IjgzMDQiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjgzMDQiLCJjaGFyX2VuZCI6IjkwMjkiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjkwMjkiLCJjaGFyX2VuZCI6Ijk3NzYiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijk3NzYiLCJjaGFyX2VuZCI6IjEwODY4IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMTY4MSIsImNoYXJfZW5kIjoiMTIzNDQiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc1OTciLCJjaGFyX2VuZCI6IjgzNjEiLCJibG9iX25hbWUiOiI3YzgxYjhiMGRkNTk0ZTdhMTg5NDE0ODg0YTFhYzc1MjFiMGE2NzJmYjA3NWQ2ZWViNGYxYTk2MjU0NGIwNWNiIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODM5MCIsImNoYXJfZW5kIjoiOTE1OSIsImJsb2JfbmFtZSI6IjNmZDJiNWEwODY5N2ZhMTgxZmI3YjAxNDE5NWRmYTI2MTNhNDA4YzNjYzU2NDE0NTk4MDA0MTQyMzMwZDY4YTEiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9OaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzMxMSIsImNoYXJfZW5kIjoiNDM2MyIsImJsb2JfbmFtZSI6IjkwZDIzODYzNWM4MmIzYjczNDg4YzNjMDk4ZWI1NWU4MGQ5MmQ1MWU0YTczMzBlYWY2OTAzZTExYmY1YjlmMjQiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9UcmFDdXVUYWlLaG9hbl9ndWkuZnhtbCJ9fSx7ImNoYXJfc3RhcnQiOiIxMTE3OCIsImNoYXJfZW5kIjoiMTE4MjEiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjcwOSIsImNoYXJfZW5kIjoiMTM1MTYiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIzMzM3IiwiY2hhcl9lbmQiOiI0MjU4IiwiYmxvYl9uYW1lIjoiNDEzZTVjNDhlNzM4MWJmZmViODAwMTE4NTVhNjAzYTVlYzAyMTFmN2Q5Mjg0YmMyOTk3ZGQ0YzJhYzE3NWY3MSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL3Jlc291cmNlcy9meG1sL1RyYUN1dU5oYW5WaWVuX2d1aS5meG1sIn19LHsiY2hhcl9zdGFydCI6IjEwMDYyIiwiY2hhcl9lbmQiOiIxMDc4MiIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEwNzgyIiwiY2hhcl9lbmQiOiIxMTc1NCIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjExNDcxIiwiY2hhcl9lbmQiOiIxMjA3NSIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEyMDc1IiwiY2hhcl9lbmQiOiIxMjczNCIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEyNzM0IiwiY2hhcl9lbmQiOiIxMzM4MiIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE0MzI4IiwiY2hhcl9lbmQiOiIxNTAwNiIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE4NCIsImNoYXJfZW5kIjoiOTM0IiwiYmxvYl9uYW1lIjoiNTFlMDBhZmFkYmM1ZGU5YWM0NDIzZmYwOTczNjAzMjVmOGNiOTgyNTQyY2RiZWY0MTExYTQ3OTQwNjdmYWExZiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9lbnRpdGllcy9UYWlLaG9hbi5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjIzNTEiLCJjaGFyX2VuZCI6IjMzNzgiLCJibG9iX25hbWUiOiJhNjA2MTUzNGU4M2VmYWM5ZGM2MWM3NDQyN2M0ZGFkN2YxYmZiNzBhNmIzM2ExMTZjMTkwMGYzNGE4Mzk5MzdmIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWwifX0seyJjaGFyX3N0YXJ0IjoiMTEyMTYiLCJjaGFyX2VuZCI6IjEyMDMzIiwiYmxvYl9uYW1lIjoiNWZiMGI0MjhiMWY3NTk3ODA2OWI2MGQ0MGVkM2RiMjNmNjQ4MjE3NTJmYWVjOTlhMGU5M2EyNDI0MDE3NTBjOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjM1MiIsImNoYXJfZW5kIjoiMzMwNSIsImJsb2JfbmFtZSI6ImMxMzUxYzI2MzhlMTMzZjAyYzBiMjJmNTEyNDNhYTE3ZDJhOWFlOWZhZGJjOTgyNDMwMmU3ZTYzZDFjYjU4YmQiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbCJ9fV19LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyZjdhZjA4ZC1hZTgyLTRmZTAtYmRjNC1mYWVjYjVmYjVmMTQiLCJyZXF1ZXN0X21lc3NhZ2UiOiJwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XHJcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcclxuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVfZ3VpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgc+G6o24gcGjhuqltXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIjpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVIb2FEb25fZ3VpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgaMOzYSDEkcahblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIjpcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBwaGnhur91IG5o4bqtcFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIjpcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dU5oYW5WaWVuX2d1aVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IG5ow6JuIHZpw6puXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIjpcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBraMOhY2ggaMOgbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XG4gaMOgbSBuw6B5IGPDsyB24bqlbiDEkeG7gSBnw6wga2jDtG5nIHThuqFpIHNhbyBuw7Mga2jDtG5nIGhv4bqhdCDEkeG7mW5nIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6InByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIjpcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICB0cnkge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dV9ndWlcIik7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBz4bqjbiBwaOG6qW1cIik7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgfVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiOlxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIjpcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICB0cnkge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dUhvYURvbl9ndWlcIik7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBow7NhIMSRxqFuXCIpO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIH1cciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICBicmVhaztcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiOlxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIHRyeSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiKTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IHBoaeG6v3Ugbmjhuq1wXCIpO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIH1cciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICBicmVhaztcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiOlxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIHRyeSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCIpO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgbmjDom4gdmnDqm5cIik7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgfVxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiOlxyIn0seyJ0eXBlIjoiaGFyZEJyZWFrIn0seyJ0eXBlIjoidGV4dCIsInRleHQiOiIgICAgICAgICAgICAgICAgICAgIHRyeSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiKTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IGtow6FjaCBow6BuZ1wiKTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICAgICAgICAgICAgICB9XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHIifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiAgICAgICAgICAgIH1cciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgICAgICB9KTtcciJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiICAgIH0ifSx7InR5cGUiOiJoYXJkQnJlYWsifSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiBow6BtIG7DoHkgY8OzIHbhuqVuIMSR4buBIGfDrCBraMO0bmcgdOG6oWkgc2FvIG7DsyBraMO0bmcgaG/huqF0IMSR4buZbmcifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlNhdSBraGkgeGVtIHjDqXQgY29kZSwgdMO0aSB0aOG6pXkgY8OzIG3hu5l0IHPhu5EgduG6pW4gxJHhu4EgdGnhu4FtIOG6qW46XG5cbjEuIENhc2UgXCJUw6BpIGtob+G6o25cIiDEkWFuZyB0cuG7kW5nIChjaOG7iSBjw7MgYnJlYWspLCDEkWnhu4F1IG7DoHkgY8OzIG5naMSpYSBsw6Aga2hpIGNo4buNbiBcIlTDoGkga2hv4bqjblwiIHPhur0ga2jDtG5nIGPDsyBow6BuaCDEkeG7mW5nIG7DoG8gxJHGsOG7o2MgdGjhu7FjIGhp4buHbi5cblxuMi4gTuG6v3UgYuG6oW4gxJFhbmcg4bufIGdpYW8gZGnhu4duIFRyYUN1dVRhaUtob2FuIHbDoCBjaOG7jW4gXCJUw6BpIGtob+G6o25cIiwga2jDtG5nIGPhuqduIHBo4bqjaSBjaHV54buDbiBnaWFvIGRp4buHbi5cblxuxJDDonkgbMOgIGPDoWNoIHPhu61hOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgLy8gS2jDtG5nIGzDoG0gZ8OsIG7hur91IGNo4buNbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiVMOgaSBraG/huqNuXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCI6XG4gICAgICAgICAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVHJhQ3V1X2d1aVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIjpcbiAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVIb2FEb25fZ3VpXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIjpcbiAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIjpcbiAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVOaGFuVmllbl9ndWlcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgLy8gUmVzZXQgY29tYm9ib3ggduG7gSBnacOhIHRy4buLIFwiVMOgaSBraG/huqNuXCJcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIlTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5OaOG7r25nIGPhuqNpIHRp4bq/biB0cm9uZyBjb2RlIG3hu5tpOlxuXG4xLiBLaeG7g20gdHJhIHPhu5ttIG7hur91IG5nxrDhu51pIGTDuW5nIGNo4buNbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWkgKFwiVMOgaSBraG/huqNuXCIpXG4yLiBHb20gbmjDs20geOG7rSBsw70gdHJ5LWNhdGNoIMSR4buDIGNvZGUgZ+G7jW4gZ8OgbmcgaMahblxuMy4gVGjDtG5nIGLDoW8gbOG7l2kgxJHhu5luZyB0aGVvIGxv4bqhaSBnaWFvIGRp4buHbiDEkcaw4bujYyBjaOG7jW5cbjQuIFJlc2V0IGNvbWJvYm94IHbhu4EgZ2nDoSB0cuG7iyBoaeG7h24gdOG6oWkgbuG6v3UgY8OzIGzhu5dpXG5cbk5nb8OgaSByYSwgYuG6oW4gY+G6p24ga2nhu4NtIHRyYTpcbjEuIGBBcHAuc2V0Um9vdCgpYCBjw7MgxJHGsOG7o2MgY8OgaSDEkeG6t3QgxJHDum5nIGtow7RuZ1xuMi4gQ8OhYyBmaWxlIEZYTUwgY8OzIHThu5NuIHThuqFpIHbDoCDEkcO6bmcgdMOqbiBraMO0bmdcbjMuIMSQxrDhu51uZyBk4bqrbiDEkeG6v24gY8OhYyBmaWxlIEZYTUwgY8OzIGNow61uaCB4w6FjIGtow7RuZ1xuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NjE3Ni02ODk1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NzkxOS04MjU1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6ODI1NS05NDExXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6OTQxMS0xMDM2M1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhOjExNjk3LTEyNjU2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6MTI2NTYtMTM1NDZcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6NjYzOS03NDkzXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjg0OTktODgzNFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTo4ODM0LTEwMDUyXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjEwMDUyLTExMDA0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhOjYwMjktNjU4OVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YTo3NjE5LTc5NTZcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmE6Nzk1Ni05MDQ4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTAyOS05Nzc2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTc3Ni0xMDg2OFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjExNjgxLTEyMzQ0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhOjYzOTYtNzI3Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo4MjY2LTg2MDBcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6ODYwMC05NzYwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhOjEyNzA5LTEzNTE2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjg2MzctOTcyOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvTG9naW5fY29udHJvbGxlci5qYXZhOjI1MjUtMzQwN1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmE6MzQwNS0zOTI1In1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoicHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xyXG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XHJcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVHJhQ3V1X2d1aVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IHPhuqNuIHBo4bqpbVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVHJhQ3V1SG9hRG9uX2d1aVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IGjDs2EgxJHGoW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgcGhp4bq/dSBuaOG6rXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVOaGFuVmllbl9ndWlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBuaMOibiB2acOqblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUga2jDoWNoIGjDoG5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxuIGjDoG0gbsOgeSBjw7MgduG6pW4gxJHhu4EgZ8OsIGtow7RuZyB04bqhaSBzYW8gbsOzIGtow7RuZyBob+G6oXQgxJHhu5luZyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IlNhdSBraGkgeGVtIHjDqXQgY29kZSwgdMO0aSB0aOG6pXkgY8OzIG3hu5l0IHPhu5EgduG6pW4gxJHhu4EgdGnhu4FtIOG6qW46XG5cbjEuIENhc2UgXCJUw6BpIGtob+G6o25cIiDEkWFuZyB0cuG7kW5nIChjaOG7iSBjw7MgYnJlYWspLCDEkWnhu4F1IG7DoHkgY8OzIG5naMSpYSBsw6Aga2hpIGNo4buNbiBcIlTDoGkga2hv4bqjblwiIHPhur0ga2jDtG5nIGPDsyBow6BuaCDEkeG7mW5nIG7DoG8gxJHGsOG7o2MgdGjhu7FjIGhp4buHbi5cblxuMi4gTuG6v3UgYuG6oW4gxJFhbmcg4bufIGdpYW8gZGnhu4duIFRyYUN1dVRhaUtob2FuIHbDoCBjaOG7jW4gXCJUw6BpIGtob+G6o25cIiwga2jDtG5nIGPhuqduIHBo4bqjaSBjaHV54buDbiBnaWFvIGRp4buHbi5cblxuxJDDonkgbMOgIGPDoWNoIHPhu61hOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSBtb2RlPUVESVRcbnByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAvLyBLaMO0bmcgbMOgbSBnw6wgbuG6v3UgY2jhu41uIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJUw6BpIGtob+G6o25cIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIjpcbiAgICAgICAgICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUcmFDdXVfZ3VpXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiOlxuICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dUhvYURvbl9ndWlcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiOlxuICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiOlxuICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dU5oYW5WaWVuX2d1aVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiOlxuICAgICAgICAgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAvLyBSZXNldCBjb21ib2JveCB24buBIGdpw6EgdHLhu4sgXCJUw6BpIGtob+G6o25cIlxuICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiVMOgaSBraG/huqNuXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5gYGBgXG5cbk5o4buvbmcgY+G6o2kgdGnhur9uIHRyb25nIGNvZGUgbeG7m2k6XG5cbjEuIEtp4buDbSB0cmEgc+G7m20gbuG6v3UgbmfGsOG7nWkgZMO5bmcgY2jhu41uIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaSAoXCJUw6BpIGtob+G6o25cIilcbjIuIEdvbSBuaMOzbSB44butIGzDvSB0cnktY2F0Y2ggxJHhu4MgY29kZSBn4buNbiBnw6BuZyBoxqFuXG4zLiBUaMO0bmcgYsOhbyBs4buXaSDEkeG7mW5nIHRoZW8gbG/huqFpIGdpYW8gZGnhu4duIMSRxrDhu6NjIGNo4buNblxuNC4gUmVzZXQgY29tYm9ib3ggduG7gSBnacOhIHRy4buLIGhp4buHbiB04bqhaSBu4bq/dSBjw7MgbOG7l2lcblxuTmdvw6BpIHJhLCBi4bqhbiBj4bqnbiBraeG7g20gdHJhOlxuMS4gYEFwcC5zZXRSb290KClgIGPDsyDEkcaw4bujYyBjw6BpIMSR4bq3dCDEkcO6bmcga2jDtG5nXG4yLiBDw6FjIGZpbGUgRlhNTCBjw7MgdOG7k24gdOG6oWkgdsOgIMSRw7puZyB0w6puIGtow7RuZ1xuMy4gxJDGsOG7nW5nIGThuqtuIMSR4bq/biBjw6FjIGZpbGUgRlhNTCBjw7MgY2jDrW5oIHjDoWMga2jDtG5nXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiI2MTc2IiwiY2hhcl9lbmQiOiI2ODk1IiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI3OTE5IiwiY2hhcl9lbmQiOiI4MjU1IiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4MjU1IiwiY2hhcl9lbmQiOiI5NDExIiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5NDExIiwiY2hhcl9lbmQiOiIxMDM2MyIsImJsb2JfbmFtZSI6IjEyOWE1NWNhMmU0YjEyN2FjYjM4NjE4NGQzOTJhNDEwY2U2ODhlNmE2MGIwZjVlNzc0N2NhODA3YWE3OTBmNDYiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTE2OTciLCJjaGFyX2VuZCI6IjEyNjU2IiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjY1NiIsImNoYXJfZW5kIjoiMTM1NDYiLCJibG9iX25hbWUiOiIxMjlhNTVjYTJlNGIxMjdhY2IzODYxODRkMzkyYTQxMGNlNjg4ZTZhNjBiMGY1ZTc3NDdjYTgwN2FhNzkwZjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY2MzkiLCJjaGFyX2VuZCI6Ijc0OTMiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NDk5IiwiY2hhcl9lbmQiOiI4ODM0IiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODgzNCIsImNoYXJfZW5kIjoiMTAwNTIiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMDA1MiIsImNoYXJfZW5kIjoiMTEwMDQiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2MDI5IiwiY2hhcl9lbmQiOiI2NTg5IiwiYmxvYl9uYW1lIjoiN2E4ZWIzNTY2Zjg3NTRlYzA0ODRkOTFiZjZiOTExNGVlNWJmMGI2ZGMxNGM0NGFiOTU5ODRjZTMwOGFlYWQwMyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzYxOSIsImNoYXJfZW5kIjoiNzk1NiIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc5NTYiLCJjaGFyX2VuZCI6IjkwNDgiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5MDI5IiwiY2hhcl9lbmQiOiI5Nzc2IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5Nzc2IiwiY2hhcl9lbmQiOiIxMDg2OCIsImJsb2JfbmFtZSI6ImRlNWUxZDVlYTQyZDVlMzhjMmI2NzY4ODIxZmVmZTAyODhhZDY2MTc3NTUyOTk4NmNlMDg2MTAzNzZmNTkwY2EiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTE2ODEiLCJjaGFyX2VuZCI6IjEyMzQ0IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2Mzk2IiwiY2hhcl9lbmQiOiI3MjcyIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODI2NiIsImNoYXJfZW5kIjoiODYwMCIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg2MDAiLCJjaGFyX2VuZCI6Ijk3NjAiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjcwOSIsImNoYXJfZW5kIjoiMTM1MTYiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NjM3IiwiY2hhcl9lbmQiOiI5NzI5IiwiYmxvYl9uYW1lIjoiNWZiMGI0MjhiMWY3NTk3ODA2OWI2MGQ0MGVkM2RiMjNmNjQ4MjE3NTJmYWVjOTlhMGU5M2EyNDI0MDE3NTBjOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjUyNSIsImNoYXJfZW5kIjoiMzQwNyIsImJsb2JfbmFtZSI6IjY4MDZkMzZmYTk5MWNiMTg0ZTRiODJhZGU3N2I5YjIwNzE3NjkwMGZiZjU2ZDA4MGZiMTNhNzVlYjQwYzAzN2EiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzQwNSIsImNoYXJfZW5kIjoiMzkyNSIsImJsb2JfbmFtZSI6IjdjODFiOGIwZGQ1OTRlN2ExODk0MTQ4ODRhMWFjNzUyMWIwYTY3MmZiMDc1ZDZlZWI0ZjFhOTYyNTQ0YjA1Y2IiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YSJ9fV19LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjMmEwNDcxOC1mMGI1LTQ3MDQtODhlYi0zZDEwMjkzMzQ3MzUiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ0aMO0bmcgY2h1eeG7g24gdGjDoG5oIGPDtG5nIG5oxrBuZyBnaWFvIGRp4buHbiBraMO0bmcgY2h1eeG7g24iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidGjDtG5nIGNodXnhu4NuIHRow6BuaCBjw7RuZyBuaMawbmcgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJW4bqlbiDEkeG7gSBjw7MgdGjhu4MgbuG6sW0g4bufIGPDoWNoIGBBcHAuc2V0Um9vdCgpYCDEkcaw4bujYyB0cmnhu4NuIGtoYWkuIFNhdSBraGkgeGVtIGNvZGUgdHJvbmcgYEFwcC5qYXZhYCwgdMO0aSB0aOG6pXkgY8OzIHRo4buDIGPDsyB24bqlbiDEkeG7gSB24bubaSBiaeG6v24gYHByaW1hcnlTY2VuZWAuIFxuXG7EkMOieSBsw6AgY8OhY2ggc+G7rWE6XG5cbjEuIMSQ4bqndSB0acOqbiwgc+G7rWEgbOG6oWkgcGjGsMahbmcgdGjhu6ljIGBzZXRSb290YCB0cm9uZyBgQXBwLmphdmFgOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvaXVoL2ZpdC9BcHAuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wdWJsaWMgc3RhdGljIHZvaWQgc2V0Um9vdChTdHJpbmcgZnhtbCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICB0cnkge1xuICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbCArIFwiLmZ4bWxcIikpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiS2jDtG5nIHTDrG0gdGjhuqV5IGZpbGU6IFwiICsgZnhtbCk7XG4gICAgICAgIHRocm93IGV4O1xuICAgIH1cbn1cbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuMi4gSG/hurdjIHRoYXkgdsOsIHPhu60gZOG7pW5nIGBBcHAuc2V0Um9vdCgpYCwgYuG6oW4gY8OzIHRo4buDIHPhu61hIGzhuqFpIGBzZXR1cENvbWJvQm94SGFuZGxlcmAgdHJvbmcgY29udHJvbGxlciDEkeG7gyBjaHV54buDbiBzY2VuZSB0cuG7sWMgdGnhur9wOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiVMOgaSBraG/huqNuXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIlTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5Dw6FjaCB0aOG7qSBoYWkgc+G6vSB0cuG7sWMgdGnhur9wIHThuqFvIHNjZW5lIG3hu5tpIHbDoCBzZXQgY2hvIHN0YWdlIGhp4buHbiB04bqhaSwga2jDtG5nIHBo4bulIHRodeG7mWMgdsOgbyBgQXBwLnNldFJvb3QoKWAuIMSQaeG7gXUgbsOgeSBjw7MgdGjhu4MgZ2nDunAgdHLDoW5oIGPDoWMgduG6pW4gxJHhu4EgbGnDqm4gcXVhbiDEkeG6v24gdmnhu4djIHF14bqjbiBsw70gc2NlbmUgdHJvbmcgYEFwcC5qYXZhYC5cblxuTmdvw6BpIHJhLCBow6N5IGNo4bqvYyBjaOG6r24gcuG6sW5nOlxuMS4gQ8OhYyBmaWxlIEZYTUwgY+G7p2EgYuG6oW4gbuG6sW0gxJHDum5nIHRyb25nIHRoxrAgbeG7pWMgYC9zcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9gXG4yLiBUw6puIGZpbGUgRlhNTCBraOG7m3AgY2jDrW5oIHjDoWMgduG7m2kgdMOqbiDEkcaw4bujYyBz4butIGThu6VuZyB0cm9uZyBjb2RlXG4zLiBDw6FjIGNvbnRyb2xsZXIgxJHGsOG7o2Mga2hhaSBiw6FvIMSRw7puZyB0cm9uZyBmaWxlIEZYTUxcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50Ijoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTo1Njc4LTY0NDFcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6NjQ0MS02NjM5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjg0OTktODgzNFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTo4ODM0LTEwMDUyXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjEwMDUyLTExMDA0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NjE3Ni02ODk1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6ODI1NS05NDExXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6OTQxMS0xMDM2M1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo4NjAwLTk3NjBcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6OTc2MC0xMDcxMlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjk3NzYtMTA4NjhcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmE6Nzk1Ni05MDQ4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjg2MzctOTcyOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YTo5NzI5LTEwNzQzXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvQXBwLmphdmE6MTc4NS0yNDE1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvQXBwLmphdmE6MjQxNS0zMjA4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvQXBwLmphdmE6NDY2Ny01NjM1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvQXBwLmphdmE6NjcwOC03NjEwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmE6MjUyNS0zNDA3XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YTozNDA1LTM5MjVcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOjk2NzktMTA1MDUifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJ0aMO0bmcgY2h1eeG7g24gdGjDoG5oIGPDtG5nIG5oxrBuZyBnaWFvIGRp4buHbiBraMO0bmcgY2h1eeG7g24ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJEOi9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJW4bqlbiDEkeG7gSBjw7MgdGjhu4MgbuG6sW0g4bufIGPDoWNoIGBBcHAuc2V0Um9vdCgpYCDEkcaw4bujYyB0cmnhu4NuIGtoYWkuIFNhdSBraGkgeGVtIGNvZGUgdHJvbmcgYEFwcC5qYXZhYCwgdMO0aSB0aOG6pXkgY8OzIHRo4buDIGPDsyB24bqlbiDEkeG7gSB24bubaSBiaeG6v24gYHByaW1hcnlTY2VuZWAuIFxuXG7EkMOieSBsw6AgY8OhY2ggc+G7rWE6XG5cbjEuIMSQ4bqndSB0acOqbiwgc+G7rWEgbOG6oWkgcGjGsMahbmcgdGjhu6ljIGBzZXRSb290YCB0cm9uZyBgQXBwLmphdmFgOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9tYWluL2phdmEvaXVoL2ZpdC9BcHAuamF2YSBtb2RlPUVESVRcbnB1YmxpYyBzdGF0aWMgdm9pZCBzZXRSb290KFN0cmluZyBmeG1sKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgIHRyeSB7XG4gICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sICsgXCIuZnhtbFwiKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBleCkge1xuICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJLaMO0bmcgdMOsbSB0aOG6pXkgZmlsZTogXCIgKyBmeG1sKTtcbiAgICAgICAgdGhyb3cgZXg7XG4gICAgfVxufVxuYGBgYFxuXG4yLiBIb+G6t2MgdGhheSB2w6wgc+G7rSBk4bulbmcgYEFwcC5zZXRSb290KClgLCBi4bqhbiBjw7MgdGjhu4Mgc+G7rWEgbOG6oWkgYHNldHVwQ29tYm9Cb3hIYW5kbGVyYCB0cm9uZyBjb250cm9sbGVyIMSR4buDIGNodXnhu4NuIHNjZW5lIHRy4buxYyB0aeG6v3A6XG5cbmBgYGBqYXZhIHBhdGg9c3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIG1vZGU9RURJVFxucHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlTDoGkga2hv4bqjblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJUw6BpIGtob+G6o25cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYGBcblxuQ8OhY2ggdGjhu6kgaGFpIHPhur0gdHLhu7FjIHRp4bq/cCB04bqhbyBzY2VuZSBt4bubaSB2w6Agc2V0IGNobyBzdGFnZSBoaeG7h24gdOG6oWksIGtow7RuZyBwaOG7pSB0aHXhu5ljIHbDoG8gYEFwcC5zZXRSb290KClgLiDEkGnhu4F1IG7DoHkgY8OzIHRo4buDIGdpw7pwIHRyw6FuaCBjw6FjIHbhuqVuIMSR4buBIGxpw6puIHF1YW4gxJHhur9uIHZp4buHYyBxdeG6o24gbMO9IHNjZW5lIHRyb25nIGBBcHAuamF2YWAuXG5cbk5nb8OgaSByYSwgaMOjeSBjaOG6r2MgY2jhuq9uIHLhurFuZzpcbjEuIEPDoWMgZmlsZSBGWE1MIGPhu6dhIGLhuqFuIG7hurFtIMSRw7puZyB0cm9uZyB0aMawIG3hu6VjIGAvc3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvYFxuMi4gVMOqbiBmaWxlIEZYTUwga2jhu5twIGNow61uaCB4w6FjIHbhu5tpIHTDqm4gxJHGsOG7o2Mgc+G7rSBk4bulbmcgdHJvbmcgY29kZVxuMy4gQ8OhYyBjb250cm9sbGVyIMSRxrDhu6NjIGtoYWkgYsOhbyDEkcO6bmcgdHJvbmcgZmlsZSBGWE1MXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiI1Njc4IiwiY2hhcl9lbmQiOiI2NDQxIiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjQ0MSIsImNoYXJfZW5kIjoiNjYzOSIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg0OTkiLCJjaGFyX2VuZCI6Ijg4MzQiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4ODM0IiwiY2hhcl9lbmQiOiIxMDA1MiIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEwMDUyIiwiY2hhcl9lbmQiOiIxMTAwNCIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjYxNzYiLCJjaGFyX2VuZCI6IjY4OTUiLCJibG9iX25hbWUiOiIxMjlhNTVjYTJlNGIxMjdhY2IzODYxODRkMzkyYTQxMGNlNjg4ZTZhNjBiMGY1ZTc3NDdjYTgwN2FhNzkwZjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjgyNTUiLCJjaGFyX2VuZCI6Ijk0MTEiLCJibG9iX25hbWUiOiIxMjlhNTVjYTJlNGIxMjdhY2IzODYxODRkMzkyYTQxMGNlNjg4ZTZhNjBiMGY1ZTc3NDdjYTgwN2FhNzkwZjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijk0MTEiLCJjaGFyX2VuZCI6IjEwMzYzIiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NjAwIiwiY2hhcl9lbmQiOiI5NzYwIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiOTc2MCIsImNoYXJfZW5kIjoiMTA3MTIiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5Nzc2IiwiY2hhcl9lbmQiOiIxMDg2OCIsImJsb2JfbmFtZSI6ImRlNWUxZDVlYTQyZDVlMzhjMmI2NzY4ODIxZmVmZTAyODhhZDY2MTc3NTUyOTk4NmNlMDg2MTAzNzZmNTkwY2EiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzk1NiIsImNoYXJfZW5kIjoiOTA0OCIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg2MzciLCJjaGFyX2VuZCI6Ijk3MjkiLCJibG9iX25hbWUiOiI1ZmIwYjQyOGIxZjc1OTc4MDY5YjYwZDQwZWQzZGIyM2Y2NDgyMTc1MmZhZWM5OWEwZTkzYTI0MjQwMTc1MGM5IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5NzI5IiwiY2hhcl9lbmQiOiIxMDc0MyIsImJsb2JfbmFtZSI6IjVmYjBiNDI4YjFmNzU5NzgwNjliNjBkNDBlZDNkYjIzZjY0ODIxNzUyZmFlYzk5YTBlOTNhMjQyNDAxNzUwYzkiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjE3ODUiLCJjaGFyX2VuZCI6IjI0MTUiLCJibG9iX25hbWUiOiI2ODdlNjZhNTA5NTY5NzQzNTE2MzU2OTlkMWMzMjEyMDJkNTkyNzRkZjFkYmFkZGM1NDU2ZGU4ODUzMTI5YjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjI0MTUiLCJjaGFyX2VuZCI6IjMyMDgiLCJibG9iX25hbWUiOiI2ODdlNjZhNTA5NTY5NzQzNTE2MzU2OTlkMWMzMjEyMDJkNTkyNzRkZjFkYmFkZGM1NDU2ZGU4ODUzMTI5YjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjQ2NjciLCJjaGFyX2VuZCI6IjU2MzUiLCJibG9iX25hbWUiOiI2ODdlNjZhNTA5NTY5NzQzNTE2MzU2OTlkMWMzMjEyMDJkNTkyNzRkZjFkYmFkZGM1NDU2ZGU4ODUzMTI5YjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY3MDgiLCJjaGFyX2VuZCI6Ijc2MTAiLCJibG9iX25hbWUiOiI2ODdlNjZhNTA5NTY5NzQzNTE2MzU2OTlkMWMzMjEyMDJkNTkyNzRkZjFkYmFkZGM1NDU2ZGU4ODUzMTI5YjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjI1MjUiLCJjaGFyX2VuZCI6IjM0MDciLCJibG9iX25hbWUiOiI2ODA2ZDM2ZmE5OTFjYjE4NGU0YjgyYWRlNzdiOWIyMDcxNzY5MDBmYmY1NmQwODBmYjEzYTc1ZWI0MGMwMzdhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvTG9naW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjM0MDUiLCJjaGFyX2VuZCI6IjM5MjUiLCJibG9iX25hbWUiOiI3YzgxYjhiMGRkNTk0ZTdhMTg5NDE0ODg0YTFhYzc1MjFiMGE2NzJmYjA3NWQ2ZWViNGYxYTk2MjU0NGIwNWNiIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiOTY3OSIsImNoYXJfZW5kIjoiMTA1MDUiLCJibG9iX25hbWUiOiI3YzJjNWU1YTVhN2ViMzhjNDhjYzA1ODY2NjhkZDFiODc2ZTgyNjc5NWIwYjZkYjQ1NjRjOTU1MTYzYTEyYzA5IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmEifX1dfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjM2OTljNjctMWY2NS00ODUzLWFiZTAtYzY2ZWI4Mjc1NmY1IiwicmVxdWVzdF9tZXNzYWdlIjoiZMO5bmcgY8OhY2ggaGFpIHPhu61hIHRyb25nIFRyYUN1dV9jb250cm9sbGVyIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImTDuW5nIGPDoWNoIGhhaSBz4butYSB0cm9uZyBUcmFDdXVfY29udHJvbGxlciJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVMO0aSBz4bq9IHPhu61hIGzhuqFpIHBoxrDGoW5nIHRo4bupYyBgc2V0dXBDb21ib0JveEhhbmRsZXJgIHRyb25nIGBUcmFDdXVfY29udHJvbGxlci5qYXZhYDpcblxuPGF1Z21lbnRfY29kZV9zbmlwcGV0IHBhdGg9XCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhXCIgbW9kZT1cIkVESVRcIj5cbmBgYGphdmFcbnByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJT4bqjbiBwaOG6qW1cIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNiYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuTmjhu69uZyB0aGF5IMSR4buVaSBjaMOtbmg6XG4xLiBT4butIGThu6VuZyBgY2JiX0dpYW9EaWVuYCB0aGF5IHbDrCBgY2NiX0dpYW9EaWVuYCAodGhlbyB0w6puIGJp4bq/biB0cm9uZyBjb250cm9sbGVyIGPhu6dhIGLhuqFuKVxuMi4gS2nhu4NtIHRyYSBu4bq/dSDEkWFuZyDhu58gZ2lhbyBkaeG7h24gXCJT4bqjbiBwaOG6qW1cIiB0aMOsIGtow7RuZyBsw6BtIGfDrFxuMy4gU+G7rSBk4bulbmcgc3dpdGNoIGV4cHJlc3Npb24gxJHhu4MgbWFwIHTDqm4gZ2lhbyBkaeG7h24gduG7m2kgdMOqbiBmaWxlIEZYTUxcbjQuIFRy4buxYyB0aeG6v3AgdOG6oW8gc2NlbmUgbeG7m2kgdsOgIHNldCBjaG8gc3RhZ2UgaGnhu4duIHThuqFpXG41LiBO4bq/dSBjw7MgbOG7l2ksIHJlc2V0IGNvbWJvYm94IHbhu4EgXCJT4bqjbiBwaOG6qW1cIlxuXG5Dw6FjaCBuw6B5IHPhur0gdHLhu7FjIHRp4bq/cCBjaHV54buDbiBzY2VuZSBtw6Aga2jDtG5nIGPhuqduIHRow7RuZyBxdWEgYEFwcC5zZXRSb290KClgLCBjw7MgdGjhu4MgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjY2MzktNzQ5M1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTo4ODM0LTEwMDUyXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjEwMDUyLTExMDA0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NjE3Ni02ODk1XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6ODI1NS05NDExXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6OTQxMS0xMDM2M1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo2Mzk2LTcyNzJcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6ODYwMC05NzYwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTc3Ni0xMDg2OFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YTo3OTU2LTkwNDhcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmE6ODYzNy05NzI5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmE6MjUyNS0zNDA3XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YTozNDA1LTM5MjVcbnNyYy9tYWluL3Jlc291cmNlcy9meG1sL1RyYUN1dV9ndWkuZnhtbDo2MjEtMTQyM1xuc3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhOjY3MDgtNzYxMCJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6ImTDuW5nIGPDoWNoIGhhaSBz4butYSB0cm9uZyBUcmFDdXVfY29udHJvbGxlciJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IlTDtGkgc+G6vSBz4butYSBs4bqhaSBwaMawxqFuZyB0aOG7qWMgYHNldHVwQ29tYm9Cb3hIYW5kbGVyYCB0cm9uZyBgVHJhQ3V1X2NvbnRyb2xsZXIuamF2YWA6XG5cbmBgYGBqYXZhIHBhdGg9c3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSBtb2RlPUVESVRcbnByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJT4bqjbiBwaOG6qW1cIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNiYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYGBcblxuTmjhu69uZyB0aGF5IMSR4buVaSBjaMOtbmg6XG4xLiBT4butIGThu6VuZyBgY2JiX0dpYW9EaWVuYCB0aGF5IHbDrCBgY2NiX0dpYW9EaWVuYCAodGhlbyB0w6puIGJp4bq/biB0cm9uZyBjb250cm9sbGVyIGPhu6dhIGLhuqFuKVxuMi4gS2nhu4NtIHRyYSBu4bq/dSDEkWFuZyDhu58gZ2lhbyBkaeG7h24gXCJT4bqjbiBwaOG6qW1cIiB0aMOsIGtow7RuZyBsw6BtIGfDrFxuMy4gU+G7rSBk4bulbmcgc3dpdGNoIGV4cHJlc3Npb24gxJHhu4MgbWFwIHTDqm4gZ2lhbyBkaeG7h24gduG7m2kgdMOqbiBmaWxlIEZYTUxcbjQuIFRy4buxYyB0aeG6v3AgdOG6oW8gc2NlbmUgbeG7m2kgdsOgIHNldCBjaG8gc3RhZ2UgaGnhu4duIHThuqFpXG41LiBO4bq/dSBjw7MgbOG7l2ksIHJlc2V0IGNvbWJvYm94IHbhu4EgXCJT4bqjbiBwaOG6qW1cIlxuXG5Dw6FjaCBuw6B5IHPhur0gdHLhu7FjIHRp4bq/cCBjaHV54buDbiBzY2VuZSBtw6Aga2jDtG5nIGPhuqduIHRow7RuZyBxdWEgYEFwcC5zZXRSb290KClgLCBjw7MgdGjhu4MgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbeyJjaGFyX3N0YXJ0IjoiNjYzOSIsImNoYXJfZW5kIjoiNzQ5MyIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg4MzQiLCJjaGFyX2VuZCI6IjEwMDUyIiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTAwNTIiLCJjaGFyX2VuZCI6IjExMDA0IiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjE3NiIsImNoYXJfZW5kIjoiNjg5NSIsImJsb2JfbmFtZSI6IjEyOWE1NWNhMmU0YjEyN2FjYjM4NjE4NGQzOTJhNDEwY2U2ODhlNmE2MGIwZjVlNzc0N2NhODA3YWE3OTBmNDYiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODI1NSIsImNoYXJfZW5kIjoiOTQxMSIsImJsb2JfbmFtZSI6IjEyOWE1NWNhMmU0YjEyN2FjYjM4NjE4NGQzOTJhNDEwY2U2ODhlNmE2MGIwZjVlNzc0N2NhODA3YWE3OTBmNDYiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiOTQxMSIsImNoYXJfZW5kIjoiMTAzNjMiLCJibG9iX25hbWUiOiIxMjlhNTVjYTJlNGIxMjdhY2IzODYxODRkMzkyYTQxMGNlNjg4ZTZhNjBiMGY1ZTc3NDdjYTgwN2FhNzkwZjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjYzOTYiLCJjaGFyX2VuZCI6IjcyNzIiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NjAwIiwiY2hhcl9lbmQiOiI5NzYwIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiOTc3NiIsImNoYXJfZW5kIjoiMTA4NjgiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc5NTYiLCJjaGFyX2VuZCI6IjkwNDgiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NjM3IiwiY2hhcl9lbmQiOiI5NzI5IiwiYmxvYl9uYW1lIjoiNWZiMGI0MjhiMWY3NTk3ODA2OWI2MGQ0MGVkM2RiMjNmNjQ4MjE3NTJmYWVjOTlhMGU5M2EyNDI0MDE3NTBjOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMjUyNSIsImNoYXJfZW5kIjoiMzQwNyIsImJsb2JfbmFtZSI6IjY4MDZkMzZmYTk5MWNiMTg0ZTRiODJhZGU3N2I5YjIwNzE3NjkwMGZiZjU2ZDA4MGZiMTNhNzVlYjQwYzAzN2EiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzQwNSIsImNoYXJfZW5kIjoiMzkyNSIsImJsb2JfbmFtZSI6IjdjODFiOGIwZGQ1OTRlN2ExODk0MTQ4ODRhMWFjNzUyMWIwYTY3MmZiMDc1ZDZlZWI0ZjFhOTYyNTQ0YjA1Y2IiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2MjEiLCJjaGFyX2VuZCI6IjE0MjMiLCJibG9iX25hbWUiOiIwOWJiOTVlYjhmOTRmYWU4YWM2Mjk0NDMxZTRjZjBiMTllMTkyZmZhYTY5MjQyYjUyZTQzNGQ2MGMyMzI4NjdmIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvVHJhQ3V1X2d1aS5meG1sIn19LHsiY2hhcl9zdGFydCI6IjY3MDgiLCJjaGFyX2VuZCI6Ijc2MTAiLCJibG9iX25hbWUiOiI2ODdlNjZhNTA5NTY5NzQzNTE2MzU2OTlkMWMzMjEyMDJkNTkyNzRkZjFkYmFkZGM1NDU2ZGU4ODUzMTI5YjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhIn19XX0seyJzdGF0dXMiOiJjYW5jZWxsZWQiLCJyZXF1ZXN0X2lkIjoiMzEwZDJmNDMtZjFmNS00NzhlLWJiNjktYTkxNDJkNTk3ZGQwIiwicmVxdWVzdF9tZXNzYWdlIjoic+G7rWEgbOG7m3AgbsOgeSIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJz4butYSBs4bubcCBuw6B5In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W10sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJz4butYSBs4bubcCBuw6B5In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiRDovTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiVMO0aSBz4bq9IHPhu61hIGzhuqFpIHRvw6BuIGLhu5kgbOG7m3AgYFRyYUN1dV9jb250cm9sbGVyLmphdmFgIMSR4buDIMSR4bqjbSBi4bqjbyBob+G6oXQgxJHhu5luZyB04buRdDpcblxuYGBgYGphdmEgcGF0aD1zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIG1vZGU9RURJVFxucHVibGljIGNsYXNzIFRyYUN1dV9jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG4gICAgQEZYTUxcbiAgICBwcml2YXRlIENvbWJvQm94PFN0cmluZz4gY2JiX0dpYW9EaWVuO1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9tYVNQO1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90ZW5TUDtcbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfbmNjO1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9zbHQ7XG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2dpYU5oYXA7XG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2dpYUJhbjtcbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfbnN4O1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9oc2Q7XG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RnY247XG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2xvYWlIYW5nO1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hU1A7XG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlVmlldzxTYW5QaGFtPiB0YWJsZVNhblBoYW07XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIEto4bufaSB04bqhbyBDb21ib0JveFxuICAgICAgICBpbml0aWFsaXplQ29tYm9Cb3goKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gY8OhYyBj4buZdCBjaG8gYuG6o25nXG4gICAgICAgIGluaXRpYWxpemVUYWJsZUNvbHVtbnMoKTtcblxuICAgICAgICAvLyBMb2FkIGThu68gbGnhu4d1IHbDoG8gYuG6o25nXG4gICAgICAgIGxvYWRUYWJsZURhdGEoKTtcblxuICAgICAgICAvLyBUaMOqbSBz4buxIGtp4buHbiBjbGljayBjaG8gYuG6o25nXG4gICAgICAgIHNldHVwVGFibGVDbGlja0V2ZW50KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVDb21ib0JveCgpIHtcbiAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8U3RyaW5nPiBsaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KFxuICAgICAgICAgICAgXCJT4bqjbiBwaOG6qW1cIiwgXCJUw6BpIGtob+G6o25cIiwgXCJIb8OhIMSRxqFuXCIsIFwiUGhp4bq/dSBuaOG6rXBcIiwgXCJOaMOibiB2acOqblwiLCBcIktow6FjaCBow6BuZ1wiXG4gICAgICAgICk7XG4gICAgICAgIGNiYl9HaWFvRGllbi4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiI2NjM5IiwiY2hhcl9lbmQiOiI3NDkzIiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODgzNCIsImNoYXJfZW5kIjoiMTAwNTIiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMDA1MiIsImNoYXJfZW5kIjoiMTEwMDQiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2Mzk2IiwiY2hhcl9lbmQiOiI3MjcyIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODYwMCIsImNoYXJfZW5kIjoiOTc2MCIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijk3NzYiLCJjaGFyX2VuZCI6IjEwODY4IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2MTc2IiwiY2hhcl9lbmQiOiI2ODk1IiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4MjU1IiwiY2hhcl9lbmQiOiI5NDExIiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2NDEwIiwiY2hhcl9lbmQiOiI3MjU3IiwiYmxvYl9uYW1lIjoiNWZiMGI0MjhiMWY3NTk3ODA2OWI2MGQ0MGVkM2RiMjNmNjQ4MjE3NTJmYWVjOTlhMGU5M2EyNDI0MDE3NTBjOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODYzNyIsImNoYXJfZW5kIjoiOTcyOSIsImJsb2JfbmFtZSI6IjVmYjBiNDI4YjFmNzU5NzgwNjliNjBkNDBlZDNkYjIzZjY0ODIxNzUyZmFlYzk5YTBlOTNhMjQyNDAxNzUwYzkiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc5NTYiLCJjaGFyX2VuZCI6IjkwNDgiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5MDQ4IiwiY2hhcl9lbmQiOiIxMDA2MiIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19XX0seyJyZXF1ZXN0X2lkIjoiNDE2MGNiOWItZWQ4Yi00ODA0LWI4MTctOWM3OGI2NGU1MDk4Iiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyNjc2ZTZiNS02ZGRkLTQwMjYtOWZlMi1mOGM2Y2ViODIxZmQiLCJyZXF1ZXN0X21lc3NhZ2UiOiJz4butYSB0cm9uZyBUcmFDdXVIb2FEb24iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0Ijoic+G7rWEgdHJvbmcgVHJhQ3V1SG9hRG9uIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJUw7RpIHPhur0gc+G7rWEgbOG6oWkgcGjGsMahbmcgdGjhu6ljIGBzZXR1cENvbWJvQm94SGFuZGxlcmAgdHJvbmcgYFRyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmFgOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmFcIiBtb2RlPVwiRURJVFwiPlxuYGBgamF2YVxucHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIkhvw6EgxJHGoW5cIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIkhvw6EgxJHGoW5cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuTmjhu69uZyB0aGF5IMSR4buVaSBjaMOtbmg6XG4xLiBLaeG7g20gdHJhIG7hur91IMSRYW5nIOG7nyBnaWFvIGRp4buHbiBcIkhvw6EgxJHGoW5cIiB0aMOsIGtow7RuZyBsw6BtIGfDrFxuMi4gU+G7rSBk4bulbmcgc3dpdGNoIGV4cHJlc3Npb24gxJHhu4MgbWFwIHTDqm4gZ2lhbyBkaeG7h24gduG7m2kgdMOqbiBmaWxlIEZYTUxcbjMuIFRy4buxYyB0aeG6v3AgdOG6oW8gc2NlbmUgbeG7m2kgdsOgIHNldCBjaG8gc3RhZ2UgaGnhu4duIHThuqFpXG40LiBO4bq/dSBjw7MgbOG7l2ksIHJlc2V0IGNvbWJvYm94IHbhu4EgXCJIb8OhIMSRxqFuXCJcblxuQ8OhY2ggbsOgeSBz4bq9IHRy4buxYyB0aeG6v3AgY2h1eeG7g24gc2NlbmUgbcOgIGtow7RuZyBj4bqnbiB0aMO0bmcgcXVhIGBBcHAuc2V0Um9vdCgpYCwgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhOjYzOTYtNzI3Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo3MjcyLTgyNjZcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6ODYwMC05NzYwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhOjk3NjAtMTA3MTJcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6MTE4MjEtMTI3MDlcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6MTI3MDktMTM1MTZcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6NjYzOS03NDkzXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjg4MzQtMTAwNTJcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YTo4MjU1LTk0MTFcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmE6Nzk1Ni05MDQ4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjY0MTAtNzI1N1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YTo4NjM3LTk3MjkifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJz4butYSB0cm9uZyBUcmFDdXVIb2FEb24ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJEOi9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJEOi9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJUw7RpIHPhur0gc+G7rWEgbOG6oWkgcGjGsMahbmcgdGjhu6ljIGBzZXR1cENvbWJvQm94SGFuZGxlcmAgdHJvbmcgYFRyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmFgOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEgbW9kZT1FRElUXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiSG/DoSDEkcahblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiSG/DoSDEkcahblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuYGBgYFxuXG5OaOG7r25nIHRoYXkgxJHhu5VpIGNow61uaDpcbjEuIEtp4buDbSB0cmEgbuG6v3UgxJFhbmcg4bufIGdpYW8gZGnhu4duIFwiSG/DoSDEkcahblwiIHRow6wga2jDtG5nIGzDoG0gZ8OsXG4yLiBT4butIGThu6VuZyBzd2l0Y2ggZXhwcmVzc2lvbiDEkeG7gyBtYXAgdMOqbiBnaWFvIGRp4buHbiB24bubaSB0w6puIGZpbGUgRlhNTFxuMy4gVHLhu7FjIHRp4bq/cCB04bqhbyBzY2VuZSBt4bubaSB2w6Agc2V0IGNobyBzdGFnZSBoaeG7h24gdOG6oWlcbjQuIE7hur91IGPDsyBs4buXaSwgcmVzZXQgY29tYm9ib3ggduG7gSBcIkhvw6EgxJHGoW5cIlxuXG5Dw6FjaCBuw6B5IHPhur0gdHLhu7FjIHRp4bq/cCBjaHV54buDbiBzY2VuZSBtw6Aga2jDtG5nIGPhuqduIHRow7RuZyBxdWEgYEFwcC5zZXRSb290KClgLCBnacO6cCBnaeG6o2kgcXV54bq/dCB24bqlbiDEkeG7gSBnaWFvIGRp4buHbiBraMO0bmcgY2h1eeG7g24uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiI2Mzk2IiwiY2hhcl9lbmQiOiI3MjcyIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzI3MiIsImNoYXJfZW5kIjoiODI2NiIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg2MDAiLCJjaGFyX2VuZCI6Ijk3NjAiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5NzYwIiwiY2hhcl9lbmQiOiIxMDcxMiIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjExODIxIiwiY2hhcl9lbmQiOiIxMjcwOSIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjEyNzA5IiwiY2hhcl9lbmQiOiIxMzUxNiIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY2MzkiLCJjaGFyX2VuZCI6Ijc0OTMiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4ODM0IiwiY2hhcl9lbmQiOiIxMDA1MiIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjgyNTUiLCJjaGFyX2VuZCI6Ijk0MTEiLCJibG9iX25hbWUiOiIxMjlhNTVjYTJlNGIxMjdhY2IzODYxODRkMzkyYTQxMGNlNjg4ZTZhNjBiMGY1ZTc3NDdjYTgwN2FhNzkwZjQ2IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc5NTYiLCJjaGFyX2VuZCI6IjkwNDgiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2NDEwIiwiY2hhcl9lbmQiOiI3MjU3IiwiYmxvYl9uYW1lIjoiNWZiMGI0MjhiMWY3NTk3ODA2OWI2MGQ0MGVkM2RiMjNmNjQ4MjE3NTJmYWVjOTlhMGU5M2EyNDI0MDE3NTBjOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODYzNyIsImNoYXJfZW5kIjoiOTcyOSIsImJsb2JfbmFtZSI6IjVmYjBiNDI4YjFmNzU5NzgwNjliNjBkNDBlZDNkYjIzZjY0ODIxNzUyZmFlYzk5YTBlOTNhMjQyNDAxNzUwYzkiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19XX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdhMWRjMTBjLTJhN2YtNGZkNC05N2QyLWViNjQyNzg2YzFkMSIsInJlcXVlc3RfbWVzc2FnZSI6InPhu61hIHRyb25nIFRyYUN1dUtoYWNoSGFuZyIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJz4butYSB0cm9uZyBUcmFDdXVLaGFjaEhhbmcifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlTDtGkgc+G6vSBz4butYSBs4bqhaSBwaMawxqFuZyB0aOG7qWMgYHNldHVwQ29tYm9Cb3hIYW5kbGVyYCB0cm9uZyBgVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YWA6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiS2jDoWNoIGjDoG5nXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiS2jDoWNoIGjDoG5nXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cbk5o4buvbmcgdGhheSDEkeG7lWkgY2jDrW5oOlxuMS4gS2nhu4NtIHRyYSBu4bq/dSDEkWFuZyDhu58gZ2lhbyBkaeG7h24gXCJLaMOhY2ggaMOgbmdcIiB0aMOsIGtow7RuZyBsw6BtIGfDrFxuMi4gU+G7rSBk4bulbmcgc3dpdGNoIGV4cHJlc3Npb24gxJHhu4MgbWFwIHTDqm4gZ2lhbyBkaeG7h24gduG7m2kgdMOqbiBmaWxlIEZYTUxcbjMuIFRy4buxYyB0aeG6v3AgdOG6oW8gc2NlbmUgbeG7m2kgdsOgIHNldCBjaG8gc3RhZ2UgaGnhu4duIHThuqFpXG40LiBO4bq/dSBjw7MgbOG7l2ksIHJlc2V0IGNvbWJvYm94IHbhu4EgXCJLaMOhY2ggaMOgbmdcIlxuXG5Dw6FjaCBuw6B5IHPhur0gdHLhu7FjIHRp4bq/cCBjaHV54buDbiBzY2VuZSBtw6Aga2jDtG5nIGPhuqduIHRow7RuZyBxdWEgYEFwcC5zZXRSb290KClgLCBnacO6cCBnaeG6o2kgcXV54bq/dCB24bqlbiDEkeG7gSBnaWFvIGRp4buHbiBraMO0bmcgY2h1eeG7g24uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmE6NjAyOS02NTg5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhOjY1ODktNzYxOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YTo3NjE5LTc5NTZcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmE6Nzk1Ni05MDQ4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhOjEwNzgyLTExNzU0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhOjExNzU0LTEyNDEyXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhOjYzOTYtNzI3Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo4NjAwLTk3NjBcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6NjYzOS03NDkzXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjg4MzQtMTAwNTJcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YTo5Nzc2LTEwODY4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6ODI1NS05NDExXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjg2MzctOTcyOSJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InPhu61hIHRyb25nIFRyYUN1dUtoYWNoSGFuZyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IlTDtGkgc+G6vSBz4butYSBs4bqhaSBwaMawxqFuZyB0aOG7qWMgYHNldHVwQ29tYm9Cb3hIYW5kbGVyYCB0cm9uZyBgVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YWA6XG5cbmBgYGBqYXZhIHBhdGg9c3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSBtb2RlPUVESVRcbnByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJLaMOhY2ggaMOgbmdcIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJLaMOhY2ggaMOgbmdcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYGBcblxuTmjhu69uZyB0aGF5IMSR4buVaSBjaMOtbmg6XG4xLiBLaeG7g20gdHJhIG7hur91IMSRYW5nIOG7nyBnaWFvIGRp4buHbiBcIktow6FjaCBow6BuZ1wiIHRow6wga2jDtG5nIGzDoG0gZ8OsXG4yLiBT4butIGThu6VuZyBzd2l0Y2ggZXhwcmVzc2lvbiDEkeG7gyBtYXAgdMOqbiBnaWFvIGRp4buHbiB24bubaSB0w6puIGZpbGUgRlhNTFxuMy4gVHLhu7FjIHRp4bq/cCB04bqhbyBzY2VuZSBt4bubaSB2w6Agc2V0IGNobyBzdGFnZSBoaeG7h24gdOG6oWlcbjQuIE7hur91IGPDsyBs4buXaSwgcmVzZXQgY29tYm9ib3ggduG7gSBcIktow6FjaCBow6BuZ1wiXG5cbkPDoWNoIG7DoHkgc+G6vSB0cuG7sWMgdGnhur9wIGNodXnhu4NuIHNjZW5lIG3DoCBraMO0bmcgY+G6p24gdGjDtG5nIHF1YSBgQXBwLnNldFJvb3QoKWAsIGdpw7pwIGdp4bqjaSBxdXnhur90IHbhuqVuIMSR4buBIGdpYW8gZGnhu4duIGtow7RuZyBjaHV54buDbi5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W3siY2hhcl9zdGFydCI6IjYwMjkiLCJjaGFyX2VuZCI6IjY1ODkiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2NTg5IiwiY2hhcl9lbmQiOiI3NjE5IiwiYmxvYl9uYW1lIjoiN2E4ZWIzNTY2Zjg3NTRlYzA0ODRkOTFiZjZiOTExNGVlNWJmMGI2ZGMxNGM0NGFiOTU5ODRjZTMwOGFlYWQwMyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzYxOSIsImNoYXJfZW5kIjoiNzk1NiIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijc5NTYiLCJjaGFyX2VuZCI6IjkwNDgiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMDc4MiIsImNoYXJfZW5kIjoiMTE3NTQiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMTc1NCIsImNoYXJfZW5kIjoiMTI0MTIiLCJibG9iX25hbWUiOiI3YThlYjM1NjZmODc1NGVjMDQ4NGQ5MWJmNmI5MTE0ZWU1YmYwYjZkYzE0YzQ0YWI5NTk4NGNlMzA4YWVhZDAzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2Mzk2IiwiY2hhcl9lbmQiOiI3MjcyIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODYwMCIsImNoYXJfZW5kIjoiOTc2MCIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY2MzkiLCJjaGFyX2VuZCI6Ijc0OTMiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4ODM0IiwiY2hhcl9lbmQiOiIxMDA1MiIsImJsb2JfbmFtZSI6IjcxMWE1YTNlMTMwZDkzZjE5MzA5ZjVkNGQwNTk0ZjJiNmM3MmQ1Zjc5NjIxZDJkN2ExMjM4YjkzNjI0NDVjM2UiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijk3NzYiLCJjaGFyX2VuZCI6IjEwODY4IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4MjU1IiwiY2hhcl9lbmQiOiI5NDExIiwiYmxvYl9uYW1lIjoiMTI5YTU1Y2EyZTRiMTI3YWNiMzg2MTg0ZDM5MmE0MTBjZTY4OGU2YTYwYjBmNWU3NzQ3Y2E4MDdhYTc5MGY0NiIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NjM3IiwiY2hhcl9lbmQiOiI5NzI5IiwiYmxvYl9uYW1lIjoiNWZiMGI0MjhiMWY3NTk3ODA2OWI2MGQ0MGVkM2RiMjNmNjQ4MjE3NTJmYWVjOTlhMGU5M2EyNDI0MDE3NTBjOSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX1dfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjAwNWU1MzItZGNkZC00ODYyLTgyZDMtM2I0ODdmZTY0Y2M1IiwicmVxdWVzdF9tZXNzYWdlIjoic+G7rWEgdHJvbmcgVHJhQ3V1UGhpZXVOaGEiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0Ijoic+G7rWEgdHJvbmcgVHJhQ3V1UGhpZXVOaGEifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IlTDtGkgc+G6vSBz4butYSBs4bqhaSBwaMawxqFuZyB0aOG7qWMgYHNldHVwQ29tYm9Cb3hIYW5kbGVyYCB0cm9uZyBgVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YWA6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiUGhp4bq/dSBuaOG6rXBcIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiUGhp4bq/dSBuaOG6rXBcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuTmjhu69uZyB0aGF5IMSR4buVaSBjaMOtbmg6XG4xLiBLaeG7g20gdHJhIG7hur91IMSRYW5nIOG7nyBnaWFvIGRp4buHbiBcIlBoaeG6v3Ugbmjhuq1wXCIgdGjDrCBraMO0bmcgbMOgbSBnw6xcbjIuIFPhu60gZOG7pW5nIHN3aXRjaCBleHByZXNzaW9uIMSR4buDIG1hcCB0w6puIGdpYW8gZGnhu4duIHbhu5tpIHTDqm4gZmlsZSBGWE1MXG4zLiBUcuG7sWMgdGnhur9wIHThuqFvIHNjZW5lIG3hu5tpIHbDoCBzZXQgY2hvIHN0YWdlIGhp4buHbiB04bqhaVxuNC4gTuG6v3UgY8OzIGzhu5dpLCByZXNldCBjb21ib2JveCB24buBIFwiUGhp4bq/dSBuaOG6rXBcIlxuXG5Dw6FjaCBuw6B5IHPhur0gdHLhu7FjIHRp4bq/cCBjaHV54buDbiBzY2VuZSBtw6Aga2jDtG5nIGPhuqduIHRow7RuZyBxdWEgYEFwcC5zZXRSb290KClgLCBnacO6cCBnaeG6o2kgcXV54bq/dCB24bqlbiDEkeG7gSBnaWFvIGRp4buHbiBraMO0bmcgY2h1eeG7g24uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmE6OTE2LTE3ODhcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmE6MzYzNC00NTU3XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjU0OTktNjQxMFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YTo2NDEwLTcyNTdcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmE6NzI1Ny04MzAwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjg2MzctOTcyOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YToxMjAzNC0xMjcxM1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YToxMjcxMy0xMzQ5M1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YToxMzQ5My0xMzk3Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo2Mzk2LTcyNzJcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmE6ODYwMC05NzYwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOjY2MzktNzQ5M1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfUGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YTozMzQ5LTQxMDFcbnNyYy9tYWluL3Jlc291cmNlcy9meG1sL1RyYUN1dVBoaWV1TmhhcF9ndWkuZnhtbDozMzIxLTQyNTdcbnNyYy9tYWluL3Jlc291cmNlcy9meG1sL1RyYUN1dVBoaWV1TmhhcF9ndWkuZnhtbDo5OTQ4LTExMzU2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTc3Ni0xMDg2OCJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InPhu61hIHRyb25nIFRyYUN1dVBoaWV1TmhhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiRDovTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiVMO0aSBz4bq9IHPhu61hIGzhuqFpIHBoxrDGoW5nIHRo4bupYyBgc2V0dXBDb21ib0JveEhhbmRsZXJgIHRyb25nIGBUcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhYDpcblxuYGBgYGphdmEgcGF0aD1zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIG1vZGU9RURJVFxucHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlBoaeG6v3Ugbmjhuq1wXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIlBoaeG6v3Ugbmjhuq1wXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5gYGBgXG5cbk5o4buvbmcgdGhheSDEkeG7lWkgY2jDrW5oOlxuMS4gS2nhu4NtIHRyYSBu4bq/dSDEkWFuZyDhu58gZ2lhbyBkaeG7h24gXCJQaGnhur91IG5o4bqtcFwiIHRow6wga2jDtG5nIGzDoG0gZ8OsXG4yLiBT4butIGThu6VuZyBzd2l0Y2ggZXhwcmVzc2lvbiDEkeG7gyBtYXAgdMOqbiBnaWFvIGRp4buHbiB24bubaSB0w6puIGZpbGUgRlhNTFxuMy4gVHLhu7FjIHRp4bq/cCB04bqhbyBzY2VuZSBt4bubaSB2w6Agc2V0IGNobyBzdGFnZSBoaeG7h24gdOG6oWlcbjQuIE7hur91IGPDsyBs4buXaSwgcmVzZXQgY29tYm9ib3ggduG7gSBcIlBoaeG6v3Ugbmjhuq1wXCJcblxuQ8OhY2ggbsOgeSBz4bq9IHRy4buxYyB0aeG6v3AgY2h1eeG7g24gc2NlbmUgbcOgIGtow7RuZyBj4bqnbiB0aMO0bmcgcXVhIGBBcHAuc2V0Um9vdCgpYCwgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbeyJjaGFyX3N0YXJ0IjoiOTE2IiwiY2hhcl9lbmQiOiIxNzg4IiwiYmxvYl9uYW1lIjoiZmViNjUzZWJjNjkxZmE0M2MyYzgzOGYyYjY1MjFjODY2MTU1NGY0MDhiODA5ZGFkNmM5ODU3MjQyODdlYmFjNyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzYzNCIsImNoYXJfZW5kIjoiNDU1NyIsImJsb2JfbmFtZSI6ImZlYjY1M2ViYzY5MWZhNDNjMmM4MzhmMmI2NTIxYzg2NjE1NTRmNDA4YjgwOWRhZDZjOTg1NzI0Mjg3ZWJhYzciLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjU0OTkiLCJjaGFyX2VuZCI6IjY0MTAiLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2NDEwIiwiY2hhcl9lbmQiOiI3MjU3IiwiYmxvYl9uYW1lIjoiZmViNjUzZWJjNjkxZmE0M2MyYzgzOGYyYjY1MjFjODY2MTU1NGY0MDhiODA5ZGFkNmM5ODU3MjQyODdlYmFjNyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzI1NyIsImNoYXJfZW5kIjoiODMwMCIsImJsb2JfbmFtZSI6ImZlYjY1M2ViYzY5MWZhNDNjMmM4MzhmMmI2NTIxYzg2NjE1NTRmNDA4YjgwOWRhZDZjOTg1NzI0Mjg3ZWJhYzciLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg2MzciLCJjaGFyX2VuZCI6Ijk3MjkiLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjAzNCIsImNoYXJfZW5kIjoiMTI3MTMiLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjcxMyIsImNoYXJfZW5kIjoiMTM0OTMiLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMzQ5MyIsImNoYXJfZW5kIjoiMTM5NzIiLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI2Mzk2IiwiY2hhcl9lbmQiOiI3MjcyIiwiYmxvYl9uYW1lIjoiY2IxZGI1ZjBlNjllNTUyMTJkZWNlMzA2MDVkMGNiMTU0YTk4NDBkMjVmNDk3NGU1M2FjNzM2YWVhZGEzY2Y1ZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODYwMCIsImNoYXJfZW5kIjoiOTc2MCIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY2MzkiLCJjaGFyX2VuZCI6Ijc0OTMiLCJibG9iX25hbWUiOiI3MTFhNWEzZTEzMGQ5M2YxOTMwOWY1ZDRkMDU5NGYyYjZjNzJkNWY3OTYyMWQyZDdhMTIzOGI5MzYyNDQ1YzNlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIzMzQ5IiwiY2hhcl9lbmQiOiI0MTAxIiwiYmxvYl9uYW1lIjoiZjM3ZGEwM2Y0ZTc4NjQwOWFjYWZkNjNkODllM2RjN2RmODBkMjYyN2ZlZjcxMWMzMzlhZWFiOGIyOGE4MjYwZCIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1BoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMzMyMSIsImNoYXJfZW5kIjoiNDI1NyIsImJsb2JfbmFtZSI6IjJkMjRiZWJmNGYwNjRhODBhZmM5YTk0NzllYjU4M2RmNGM5Zjg4MWZjMjZiMTAwNzUyYmE4ZjZiNDRkMWIzZTMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9yZXNvdXJjZXMvZnhtbC9UcmFDdXVQaGlldU5oYXBfZ3VpLmZ4bWwifX0seyJjaGFyX3N0YXJ0IjoiOTk0OCIsImNoYXJfZW5kIjoiMTEzNTYiLCJibG9iX25hbWUiOiIyZDI0YmViZjRmMDY0YTgwYWZjOWE5NDc5ZWI1ODNkZjRjOWY4ODFmYzI2YjEwMDc1MmJhOGY2YjQ0ZDFiM2UzIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vcmVzb3VyY2VzL2Z4bWwvVHJhQ3V1UGhpZXVOaGFwX2d1aS5meG1sIn19LHsiY2hhcl9zdGFydCI6Ijk3NzYiLCJjaGFyX2VuZCI6IjEwODY4IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fV19LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2ZDAwNzRlNC0yNGM2LTQzMDctOGNmZC1iOWZjMzNkNWUxN2EiLCJyZXF1ZXN0X21lc3NhZ2UiOiJz4butYSB0cm9uZyBUcmFDdXVUYWlLaG9hbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJz4butYSB0cm9uZyBUcmFDdXVUYWlLaG9hbiJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVMO0aSBz4bq9IHPhu61hIGzhuqFpIHBoxrDGoW5nIHRo4bupYyBgc2V0dXBDb21ib0JveEhhbmRsZXJgIHRyb25nIGBUcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmFgOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiVMOgaSBraG/huqNuXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIlTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5OaOG7r25nIHRoYXkgxJHhu5VpIGNow61uaDpcbjEuIEtp4buDbSB0cmEgbuG6v3UgxJFhbmcg4bufIGdpYW8gZGnhu4duIFwiVMOgaSBraG/huqNuXCIgdGjDrCBraMO0bmcgbMOgbSBnw6xcbjIuIFPhu60gZOG7pW5nIHN3aXRjaCBleHByZXNzaW9uIMSR4buDIG1hcCB0w6puIGdpYW8gZGnhu4duIHbhu5tpIHTDqm4gZmlsZSBGWE1MXG4zLiBUcuG7sWMgdGnhur9wIHThuqFvIHNjZW5lIG3hu5tpIHbDoCBzZXQgY2hvIHN0YWdlIGhp4buHbiB04bqhaVxuNC4gTuG6v3UgY8OzIGzhu5dpLCByZXNldCBjb21ib2JveCB24buBIFwiVMOgaSBraG/huqNuXCJcblxuQ8OhY2ggbsOgeSBz4bq9IHRy4buxYyB0aeG6v3AgY2h1eeG7g24gc2NlbmUgbcOgIGtow7RuZyBj4bqnbiB0aMO0bmcgcXVhIGBBcHAuc2V0Um9vdCgpYCwgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NTQ5OS02MjYxXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6NjI2MS02OTgwXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6Njk4MC04MDA0XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6ODM0MC05NDE3XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6MTEyNjAtMTIyMTlcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YToxMjIxOS0xMzEwOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTo4ODM0LTEwMDUyXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjY0MTAtNzI1N1xuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YTo4NjM3LTk3MjlcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmE6Nzk1Ni05MDQ4XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTc3Ni0xMDg2OFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo4NjAwLTk3NjBcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0xvZ2luX2NvbnRyb2xsZXIuamF2YToyNTI1LTM0MDcifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJz4butYSB0cm9uZyBUcmFDdXVUYWlLaG9hbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkQ6L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IlTDtGkgc+G6vSBz4butYSBs4bqhaSBwaMawxqFuZyB0aOG7qWMgYHNldHVwQ29tYm9Cb3hIYW5kbGVyYCB0cm9uZyBgVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhYDpcblxuYGBgYGphdmEgcGF0aD1zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEgbW9kZT1FRElUXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiVMOgaSBraG/huqNuXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIlTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuYGBgYFxuXG5OaOG7r25nIHRoYXkgxJHhu5VpIGNow61uaDpcbjEuIEtp4buDbSB0cmEgbuG6v3UgxJFhbmcg4bufIGdpYW8gZGnhu4duIFwiVMOgaSBraG/huqNuXCIgdGjDrCBraMO0bmcgbMOgbSBnw6xcbjIuIFPhu60gZOG7pW5nIHN3aXRjaCBleHByZXNzaW9uIMSR4buDIG1hcCB0w6puIGdpYW8gZGnhu4duIHbhu5tpIHTDqm4gZmlsZSBGWE1MXG4zLiBUcuG7sWMgdGnhur9wIHThuqFvIHNjZW5lIG3hu5tpIHbDoCBzZXQgY2hvIHN0YWdlIGhp4buHbiB04bqhaVxuNC4gTuG6v3UgY8OzIGzhu5dpLCByZXNldCBjb21ib2JveCB24buBIFwiVMOgaSBraG/huqNuXCJcblxuQ8OhY2ggbsOgeSBz4bq9IHRy4buxYyB0aeG6v3AgY2h1eeG7g24gc2NlbmUgbcOgIGtow7RuZyBj4bqnbiB0aMO0bmcgcXVhIGBBcHAuc2V0Um9vdCgpYCwgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbeyJjaGFyX3N0YXJ0IjoiNTQ5OSIsImNoYXJfZW5kIjoiNjI2MSIsImJsb2JfbmFtZSI6IjdkYjE3NmUxMjc5MGNlNjlmNzdkNjFhZDA3ZDhlZDFjN2JlN2NiOThjZWUzMzJiZTcyODM1OGRlZjA5MDg0YWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjI2MSIsImNoYXJfZW5kIjoiNjk4MCIsImJsb2JfbmFtZSI6IjdkYjE3NmUxMjc5MGNlNjlmNzdkNjFhZDA3ZDhlZDFjN2JlN2NiOThjZWUzMzJiZTcyODM1OGRlZjA5MDg0YWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjk4MCIsImNoYXJfZW5kIjoiODAwNCIsImJsb2JfbmFtZSI6IjdkYjE3NmUxMjc5MGNlNjlmNzdkNjFhZDA3ZDhlZDFjN2JlN2NiOThjZWUzMzJiZTcyODM1OGRlZjA5MDg0YWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODM0MCIsImNoYXJfZW5kIjoiOTQxNyIsImJsb2JfbmFtZSI6IjdkYjE3NmUxMjc5MGNlNjlmNzdkNjFhZDA3ZDhlZDFjN2JlN2NiOThjZWUzMzJiZTcyODM1OGRlZjA5MDg0YWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTEyNjAiLCJjaGFyX2VuZCI6IjEyMjE5IiwiYmxvYl9uYW1lIjoiN2RiMTc2ZTEyNzkwY2U2OWY3N2Q2MWFkMDdkOGVkMWM3YmU3Y2I5OGNlZTMzMmJlNzI4MzU4ZGVmMDkwODRhZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMjIxOSIsImNoYXJfZW5kIjoiMTMxMDkiLCJibG9iX25hbWUiOiI3ZGIxNzZlMTI3OTBjZTY5Zjc3ZDYxYWQwN2Q4ZWQxYzdiZTdjYjk4Y2VlMzMyYmU3MjgzNThkZWYwOTA4NGFlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg4MzQiLCJjaGFyX2VuZCI6IjEwMDUyIiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNjQxMCIsImNoYXJfZW5kIjoiNzI1NyIsImJsb2JfbmFtZSI6ImZlYjY1M2ViYzY5MWZhNDNjMmM4MzhmMmI2NTIxYzg2NjE1NTRmNDA4YjgwOWRhZDZjOTg1NzI0Mjg3ZWJhYzciLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg2MzciLCJjaGFyX2VuZCI6Ijk3MjkiLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI3OTU2IiwiY2hhcl9lbmQiOiI5MDQ4IiwiYmxvYl9uYW1lIjoiN2E4ZWIzNTY2Zjg3NTRlYzA0ODRkOTFiZjZiOTExNGVlNWJmMGI2ZGMxNGM0NGFiOTU5ODRjZTMwOGFlYWQwMyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiOTc3NiIsImNoYXJfZW5kIjoiMTA4NjgiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg2MDAiLCJjaGFyX2VuZCI6Ijk3NjAiLCJibG9iX25hbWUiOiJjYjFkYjVmMGU2OWU1NTIxMmRlY2UzMDYwNWQwY2IxNTRhOTg0MGQyNWY0OTc0ZTUzYWM3MzZhZWFkYTNjZjVlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIyNTI1IiwiY2hhcl9lbmQiOiIzNDA3IiwiYmxvYl9uYW1lIjoiNjgwNmQzNmZhOTkxY2IxODRlNGI4MmFkZTc3YjliMjA3MTc2OTAwZmJmNTZkMDgwZmIxM2E3NWViNDBjMDM3YSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0xvZ2luX2NvbnRyb2xsZXIuamF2YSJ9fV19LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwMWJlY2ZhNS01ZjdmLTQ4MDUtYmExNC0wOWQwOTI4ZTZjNDgiLCJyZXF1ZXN0X21lc3NhZ2UiOiJz4butYSB0cm9uZyBUcmFDdXVOaGFuVmllbiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJz4butYSB0cm9uZyBUcmFDdXVOaGFuVmllbiJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVMO0aSBz4bq9IHPhu61hIGzhuqFpIHBoxrDGoW5nIHRo4bupYyBgc2V0dXBDb21ib0JveEhhbmRsZXJgIHRyb25nIGBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmFgOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YVwiIG1vZGU9XCJFRElUXCI+XG5gYGBqYXZhXG5wcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cbk5o4buvbmcgdGhheSDEkeG7lWkgY2jDrW5oOlxuMS4gS2nhu4NtIHRyYSBu4bq/dSDEkWFuZyDhu58gZ2lhbyBkaeG7h24gXCJOaMOibiB2acOqblwiIHRow6wga2jDtG5nIGzDoG0gZ8OsXG4yLiBT4butIGThu6VuZyBzd2l0Y2ggZXhwcmVzc2lvbiDEkeG7gyBtYXAgdMOqbiBnaWFvIGRp4buHbiB24bubaSB0w6puIGZpbGUgRlhNTFxuMy4gVHLhu7FjIHRp4bq/cCB04bqhbyBzY2VuZSBt4bubaSB2w6Agc2V0IGNobyBzdGFnZSBoaeG7h24gdOG6oWlcbjQuIE7hur91IGPDsyBs4buXaSwgcmVzZXQgY29tYm9ib3ggduG7gSBcIk5ow6JuIHZpw6puXCJcblxuQ8OhY2ggbsOgeSBz4bq9IHRy4buxYyB0aeG6v3AgY2h1eeG7g24gc2NlbmUgbcOgIGtow7RuZyBj4bqnbiB0aMO0bmcgcXVhIGBBcHAuc2V0Um9vdCgpYCwgZ2nDunAgZ2nhuqNpIHF1eeG6v3QgduG6pW4gxJHhu4EgZ2lhbyBkaeG7h24ga2jDtG5nIGNodXnhu4NuLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6NTY5NC02NDU2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6ODMwNC05MDI5XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTAyOS05Nzc2XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6OTc3Ni0xMDg2OFxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhOjEwODY4LTExNjgxXG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6MTE2ODEtMTIzNDRcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YTo4MzQwLTk0MTdcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmE6NjQxMC03MjU3XG5zcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhOjg2MzctOTcyOVxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YTo3OTU2LTkwNDhcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6ODgzNC0xMDA1Mlxuc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YTo4NjAwLTk3NjBcbnNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX05oYW5WaWVuX2NvbnRyb2xsZXIuamF2YTozNDg2LTQyNzkifV0sInNlZW5fc3RhdGUiOiJ1bnNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InPhu61hIHRyb25nIFRyYUN1dU5oYW5WaWVuIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiRDovTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiRDovTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiVMO0aSBz4bq9IHPhu61hIGzhuqFpIHBoxrDGoW5nIHRo4bupYyBgc2V0dXBDb21ib0JveEhhbmRsZXJgIHRyb25nIGBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmFgOlxuXG5gYGBgamF2YSBwYXRoPXNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSBtb2RlPUVESVRcbnByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJOaMOibiB2acOqblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmBgYGBcblxuTmjhu69uZyB0aGF5IMSR4buVaSBjaMOtbmg6XG4xLiBLaeG7g20gdHJhIG7hur91IMSRYW5nIOG7nyBnaWFvIGRp4buHbiBcIk5ow6JuIHZpw6puXCIgdGjDrCBraMO0bmcgbMOgbSBnw6xcbjIuIFPhu60gZOG7pW5nIHN3aXRjaCBleHByZXNzaW9uIMSR4buDIG1hcCB0w6puIGdpYW8gZGnhu4duIHbhu5tpIHTDqm4gZmlsZSBGWE1MXG4zLiBUcuG7sWMgdGnhur9wIHThuqFvIHNjZW5lIG3hu5tpIHbDoCBzZXQgY2hvIHN0YWdlIGhp4buHbiB04bqhaVxuNC4gTuG6v3UgY8OzIGzhu5dpLCByZXNldCBjb21ib2JveCB24buBIFwiTmjDom4gdmnDqm5cIlxuXG5Dw6FjaCBuw6B5IHPhur0gdHLhu7FjIHRp4bq/cCBjaHV54buDbiBzY2VuZSBtw6Aga2jDtG5nIGPhuqduIHRow7RuZyBxdWEgYEFwcC5zZXRSb290KClgLCBnacO6cCBnaeG6o2kgcXV54bq/dCB24bqlbiDEkeG7gSBnaWFvIGRp4buHbiBraMO0bmcgY2h1eeG7g24uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOlt7ImNoYXJfc3RhcnQiOiI1Njk0IiwiY2hhcl9lbmQiOiI2NDU2IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4MzA0IiwiY2hhcl9lbmQiOiI5MDI5IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5MDI5IiwiY2hhcl9lbmQiOiI5Nzc2IiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI5Nzc2IiwiY2hhcl9lbmQiOiIxMDg2OCIsImJsb2JfbmFtZSI6ImRlNWUxZDVlYTQyZDVlMzhjMmI2NzY4ODIxZmVmZTAyODhhZDY2MTc3NTUyOTk4NmNlMDg2MTAzNzZmNTkwY2EiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiMTA4NjgiLCJjaGFyX2VuZCI6IjExNjgxIiwiYmxvYl9uYW1lIjoiZGU1ZTFkNWVhNDJkNWUzOGMyYjY3Njg4MjFmZWZlMDI4OGFkNjYxNzc1NTI5OTg2Y2UwODYxMDM3NmY1OTBjYSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiIxMTY4MSIsImNoYXJfZW5kIjoiMTIzNDQiLCJibG9iX25hbWUiOiJkZTVlMWQ1ZWE0MmQ1ZTM4YzJiNjc2ODgyMWZlZmUwMjg4YWQ2NjE3NzU1Mjk5ODZjZTA4NjEwMzc2ZjU5MGNhIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjgzNDAiLCJjaGFyX2VuZCI6Ijk0MTciLCJibG9iX25hbWUiOiI3ZGIxNzZlMTI3OTBjZTY5Zjc3ZDYxYWQwN2Q4ZWQxYzdiZTdjYjk4Y2VlMzMyYmU3MjgzNThkZWYwOTA4NGFlIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjY0MTAiLCJjaGFyX2VuZCI6IjcyNTciLCJibG9iX25hbWUiOiJmZWI2NTNlYmM2OTFmYTQzYzJjODM4ZjJiNjUyMWM4NjYxNTU0ZjQwOGI4MDlkYWQ2Yzk4NTcyNDI4N2ViYWM3IiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YSJ9fSx7ImNoYXJfc3RhcnQiOiI4NjM3IiwiY2hhcl9lbmQiOiI5NzI5IiwiYmxvYl9uYW1lIjoiZmViNjUzZWJjNjkxZmE0M2MyYzgzOGYyYjY1MjFjODY2MTU1NGY0MDhiODA5ZGFkNmM5ODU3MjQyODdlYmFjNyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiNzk1NiIsImNoYXJfZW5kIjoiOTA0OCIsImJsb2JfbmFtZSI6IjdhOGViMzU2NmY4NzU0ZWMwNDg0ZDkxYmY2YjkxMTRlZTViZjBiNmRjMTRjNDRhYjk1OTg0Y2UzMDhhZWFkMDMiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6Ijg4MzQiLCJjaGFyX2VuZCI6IjEwMDUyIiwiYmxvYl9uYW1lIjoiNzExYTVhM2UxMzBkOTNmMTkzMDlmNWQ0ZDA1OTRmMmI2YzcyZDVmNzk2MjFkMmQ3YTEyMzhiOTM2MjQ0NWMzZSIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6InNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEifX0seyJjaGFyX3N0YXJ0IjoiODYwMCIsImNoYXJfZW5kIjoiOTc2MCIsImJsb2JfbmFtZSI6ImNiMWRiNWYwZTY5ZTU1MjEyZGVjZTMwNjA1ZDBjYjE1NGE5ODQwZDI1ZjQ5NzRlNTNhYzczNmFlYWRhM2NmNWUiLCJmaWxlIjp7InJlcG9Sb290IjoiIiwicGF0aE5hbWUiOiJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhIn19LHsiY2hhcl9zdGFydCI6IjM0ODYiLCJjaGFyX2VuZCI6IjQyNzkiLCJibG9iX25hbWUiOiIzZmQyYjVhMDg2OTdmYTE4MWZiN2IwMTQxOTVkZmEyNjEzYTQwOGMzY2M1NjQxNDU5ODAwNDE0MjMzMGQ2OGExIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfTmhhblZpZW5fY29udHJvbGxlci5qYXZhIn19XX1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTFmNzQ3NmQyLTMxZTItNDZiMS04OTFmLTg5NjFhMWE5ODY1OSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmMxMzlmZTAtMWNjYi00ZmQ3LWFmNDMtZWVkZmNhY2M2ZDIwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mMDEzMmI3Yi1jM2NkLTRkNmItODI0MC05Y2QyOGM0NDdiNjYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTUyZmVlMDU4LTU5MjgtNDE0Zi04ZmM4LTYwZTI5OTQ0ODEzNyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzNjZTA3OWQtZjEzMy00NWYwLWI5NDAtOWIyNzRlY2Q3MWYzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hNzA2MjgxNy0wZDhlLTQzZTAtOWNlMS1jMzFmMDEwMGE3YjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ3YTdkY2Y2LWI0YzItNGMyNy1hMzA1LWQ3NDUxM2ZkZDA0MSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDY2ZDZkMmYtNGUzOS00NGRlLTlhMjQtZDJkOTdmYzA4MWVlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zZDVlMzY0NS1hYTdkLTQ1MzQtOTg1Ny0xNDVkNmE1ZDc4YjQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTk2MjM4Njc0LTZmYmUtNDBlNC1hMTY0LTJiNDAxNTk0NjdmZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNmZkMjUyZjctZjgxMi00NjhjLWE1YmYtMjAxZDAxODE3ZDQ3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnt9LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdGF0dXMiOiJkcmFmdCJ9LCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6dHJ1ZSwiZXh0cmFEYXRhIjp7Imhhc0RpcnR5RWRpdHMiOmZhbHNlfSwicGVyc29uYVR5cGUiOjAsImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50L3NyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0hvYURvbl9jb250cm9sbGVyLmphdmEiLCJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50ZmFsc2VmYWxzZSJdfSwiNGZmZDVlYzQtOTg4MC00MTQwLTliYWMtZWMzY2FiMmM1M2Y3Ijp7ImlkIjoiNGZmZDVlYzQtOTg4MC00MTQwLTliYWMtZWMzY2FiMmM1M2Y3IiwibmFtZSI6IldlbGNvbWUgdG8gdGhlIEF1Z21lbnQgQWdlbnQiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA0LTE4VDA4OjU0OjE5Ljk2MloiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNC0xOFQwOTozMjo1Mi4wNDlaIiwiY2hhdEhpc3RvcnkiOlt7InJlcXVlc3RfaWQiOiIyYzUwZGY0Zi03NzMxLTQzMmMtYjQzMi0yNGFiMDlmZmRlOWMiLCJ1dWlkIjoiZWI5NzZlMTItMTkzNy00OWMxLThjZjYtYTg5OTViOGIwOTVhIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0NDk2NjQ1OTk2Mywic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMWY3NWFiOTMtOWEzNS00MThkLTk3ZTktZWY4ZjFjNzEyZDIyIiwicmVxdWVzdF9tZXNzYWdlIjoiaGV5IiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6ImhleSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSGVsbG8hIEhvdyBjYW4gSSBoZWxwIHlvdSB0b2RheT8gSSBzZWUgeW91IGhhdmUgYSBmaWxlIG9wZW4gaW4geW91ciB3b3Jrc3BhY2UuIElzIHRoZXJlIHNvbWV0aGluZyBzcGVjaWZpYyB5b3UnZCBsaWtlIG1lIHRvIGhlbHAgeW91IHdpdGggcmVnYXJkaW5nIHlvdXIgSmF2YSBwcm9qZWN0P1xuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJoZXkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSGVsbG8hIEhvdyBjYW4gSSBoZWxwIHlvdSB0b2RheT8gSSBzZWUgeW91IGhhdmUgYSBmaWxlIG9wZW4gaW4geW91ciB3b3Jrc3BhY2UuIElzIHRoZXJlIHNvbWV0aGluZyBzcGVjaWZpYyB5b3UnZCBsaWtlIG1lIHRvIGhlbHAgeW91IHdpdGggcmVnYXJkaW5nIHlvdXIgSmF2YSBwcm9qZWN0P1xuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiNDg2ODM0OWQtYWQyMi00YzhmLTg3YjgtNmE0NTY0N2U1YjdkIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxZjI3MWM5NC0zNzcyLTRiZmUtYmZjZC0xNzk0ZjgxYzdjZjciLCJyZXF1ZXN0X21lc3NhZ2UiOiJIw4NZIFPhu6xBIEPDgUMgTuG7kWkgZ2lhbyBkaeG7h24gbOG6q24gbmhhdSB0cm9uZyB0b8OgbiBi4buZIHByb2plY3QiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiSMODWSBT4busQSBDw4FDIE7hu5FpIGdpYW8gZGnhu4duIGzhuqtuIG5oYXUgdHJvbmcgdG/DoG4gYuG7mSBwcm9qZWN0In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEzdEw0S3hiRmtqMzZwbm9XZXdFTW9lIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGFsbCBjb250cm9sbGVyIGNsYXNzZXMgdGhhdCBoYXZlIG5hdmlnYXRpb24gbWV0aG9kcyAobGlrZSB0b1FMU2FuUGhhbSwgdG9RTFRhaUtob2FuLCBldGMuKSBhbmQgdGhlIGxvYWRGWE1MIG1ldGhvZCBpbXBsZW1lbnRhdGlvbi4gQWxzbyBmaW5kIHRoZSBtYWluIHN0cnVjdHVyZSBvZiB0aGUgYXBwbGljYXRpb24gYW5kIGhvdyBGWE1MIGZpbGVzIGFyZSBsb2FkZWQuXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGZpeCB0aGUgbmF2aWdhdGlvbiBiZXR3ZWVuIGludGVyZmFjZXMgdGhyb3VnaG91dCB0aGUgcHJvamVjdC4gTGV0IG1lIGZpcnN0IHVuZGVyc3RhbmQgdGhlIGN1cnJlbnQgc3RydWN0dXJlIG9mIHlvdXIgcHJvamVjdCBhbmQgaG93IHRoZSBpbnRlcmZhY2VzIGFyZSBjb25uZWN0ZWQuXG5cbiMjIEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5MZXQgbWUgZXhhbWluZSB0aGUgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCBob3cgdGhlIGludGVyZmFjZXMgYXJlIGN1cnJlbnRseSBjb25uZWN0ZWQuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6IkjDg1kgU+G7rEEgQ8OBQyBO4buRaSBnaWFvIGRp4buHbiBs4bqrbiBuaGF1IHRyb25nIHRvw6BuIGLhu5kgcHJvamVjdCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGZpeCB0aGUgbmF2aWdhdGlvbiBiZXR3ZWVuIGludGVyZmFjZXMgdGhyb3VnaG91dCB0aGUgcHJvamVjdC4gTGV0IG1lIGZpcnN0IHVuZGVyc3RhbmQgdGhlIGN1cnJlbnQgc3RydWN0dXJlIG9mIHlvdXIgcHJvamVjdCBhbmQgaG93IHRoZSBpbnRlcmZhY2VzIGFyZSBjb25uZWN0ZWQuXG5cbiMjIEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5MZXQgbWUgZXhhbWluZSB0aGUgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCBob3cgdGhlIGludGVyZmFjZXMgYXJlIGN1cnJlbnRseSBjb25uZWN0ZWQuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNDIwZDY2YzQtODg0ZC00Nzc2LWE0YjktNWM5MDllZTA3OTBmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxR3Z1ZDlpWEM5ODFDc3ZlSkFVc29QciIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBhbGwgaW1wbGVtZW50YXRpb25zIG9mIHRoZSBsb2FkRlhNTCBtZXRob2QgaW4gZGlmZmVyZW50IGNvbnRyb2xsZXIgY2xhc3Nlcy4gSSBuZWVkIHRvIHNlZSBob3cgdGhpcyBtZXRob2QgaXMgaW1wbGVtZW50ZWQgaW4gZWFjaCBjb250cm9sbGVyLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2FkRlhNTCBtZXRob2QgaW1wbGVtZW50YXRpb24gaW4gdGhlIGNvbnRyb2xsZXJzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfU2FuUGhhbV9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48PywgPz4gbGNfZ2lhTmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX25oYW5WaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3F1YW5MeTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfc2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFNhblBoYW0+IHRhYmxlX1NQO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1Yk1lbnVMaXN0O1xuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIG1vR2lhb0RpZW5UaW1LaWVtU1AoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1RhaUtvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0toYWNoSGFuZ19jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgbW9HaWFvRGllblRpbUtpZW1LSChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1S2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSBraMOhY2ggaMOgbmchXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9Ib2FEb25fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBo4bq/dSBuaOG6rXBcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9QaGlldU5oYXBfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X01hUGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfU29TUDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X1Rlbk5WO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfVGhhbmhUaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfVGhvaUdpYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB2Qm94O1xuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZUdpb0hhbmdDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhXG5wYWNrYWdlIGl1aC5maXQ7XG5cbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEubmV0LlVSTDtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuaW1wb3J0IGl1aC5maXQuZGFvcy5Ib2FEb25fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5TYW5QaGFtX2RhbztcbmltcG9ydCBpdWguZml0LmRhb3MuVGFpS2hvYW5fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuSG9hRG9uO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuU2FuUGhhbTtcbmltcG9ydCBpdWguZml0LmVudGl0aWVzLlRhaUtob2FuO1xuaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZ2VvbWV0cnkuUmVjdGFuZ2xlMkQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnN0YWdlLk1vZGFsaXR5O1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TY3JlZW47XG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcblxuLyoqXG4gKiBM4bubcCBjaMOtbmggY+G7p2Eg4bupbmcgZOG7pW5nXG4gKi9cbnB1YmxpYyBjbGFzcyBBcHAgZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG4vLyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCB3aWR0aE1vZGFsTG9naW4gPSA2MDA7XG4vLyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBoZWlnaHRNb2RhbExvZ2luID0gNDAwO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RhZ2Ugc3RhZ2U7XG4gICAgcHVibGljIHN0YXRpYyBTY2VuZSBwcmltYXJ5U2NlbmU7XG4gICAgcHVibGljIHN0YXRpYyBTdHJpbmcgdXNlcjtcbiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBtYTtcbiAgICBwdWJsaWMgc3RhdGljIFRhaUtob2FuIHRhaUtob2FuO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIG1hVHJhQ3V1O1xuXG4gICAgLy8gQmnhur9uIMSR4buDIHRoZW8gZMO1aSB0cuG6oW5nIHRow6FpIMSRxINuZyBuaOG6rXBcbiAgICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGxvZ2luU2NyZWVuT3BlbmVkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4gICAgICAgIFN5c3RlbS5zZXRQcm9wZXJ0eShcImphdmFmeC5wcmVsb2FkZXJcIiwgQXBwUHJlbG9hZGVyLmNsYXNzLmdldE5hbWUoKSk7XG4gICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBL4bq/dCBu4buRaSDEkeG6v24gY8ahIHPhu58gZOG7ryBsaeG7h3VcbiAgICAgICAgICAgIEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZiA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKTtcblxuICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSB2w6AgY+G6rXAgbmjhuq10IGThu68gbGnhu4d1IGtoaSBraOG7n2kgxJHhu5luZyDhu6luZyBk4bulbmdcbiAgICAgICAgICAgIGNoZWNrU2FuUGhhbSgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGto4bufaSB04bqhbyDhu6luZyBk4bulbmc6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcC5zdGFydCgpIGNhbGxlZFwiKTtcbiAgICAgICAgc3RhZ2UgPSBwcmltYXJ5U3RhZ2U7XG5cbiAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBz4buxIGtp4buHbiBraGkgxJHDs25nIGPhu61hIHPhu5UgY2jDrW5oXG4gICAgICAgIHN0YWdlLnNldE9uQ2xvc2VSZXF1ZXN0KGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcGxpY2F0aW9uIGlzIGNsb3NpbmdcIik7XG4gICAgICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2jhu4kgbeG7nyBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7Mgc3BsYXNoIHNjcmVlblxuICAgICAgICBpZiAoQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlID09IG51bGwpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk5vIHNwbGFzaCBzY3JlZW4gZGV0ZWN0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuIGRpcmVjdGx5XCIpO1xuLy8gICAgICAgICAgICBvcGVuTG9naW5HVUkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE3hu58gZ2lhbyBkaeG7h24gY2jDrW5oIGPhu6dhIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuTWFpbkdVSSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIHNjZW5lLmdldFN0eWxlc2hlZXRzKCkuYWRkKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IHNjZW5lIGZvciB0aGUgc3RhZ2VcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldE1heGltaXplZCh0cnVlKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIGxvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuLy8gICAgICAgICAgICBpZiAobG9naW5GeG1sVXJsID09IG51bGwpIHtcbi8vICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkxvZ2luX2d1aS5meG1sIG5vdCBmb3VuZCEgVHJ5aW5nIHRvIG9wZW4gQmFuSGFuZ19ndWkuZnhtbCBpbnN0ZWFkLlwiKTtcbi8vICAgICAgICAgICAgICAgIG9wZW5NYWluR1VJKCk7XG4vLyAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihsb2dpbkZ4bWxVcmwpO1xuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBmeG1sTG9hZGVyLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVOG6oW8gc2NlbmUgbeG7m2lcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0TWF4aW1pemVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyDEkOG6t3Qga8OtY2ggdGjGsOG7m2MgdsOgIHbhu4sgdHLDrSBj4bunYSBj4butYSBz4buVXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFgoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0V2lkdGgoKSAtIHJvb3QucHJlZldpZHRoKC0xKSkgLyAyKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFkoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0SGVpZ2h0KCkgLSByb290LnByZWZIZWlnaHQoLTEpKSAvIDIpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvTWFpbkFwcC5qYXZhXG5wYWNrYWdlIGl1aC5maXQ7XG5cbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uQXBwbGljYXRpb247XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZ2VvbWV0cnkuUmVjdGFuZ2xlMkQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnN0YWdlLlNjcmVlbjtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5cbi8qKlxuICogTOG7m3AgxJHhu4MgY2jhuqF5IOG7qW5nIGThu6VuZyB0cuG7sWMgdGnhur9wIHThu6sgbcOgbiBow6xuaCBiw6FuIGjDoG5nXG4gKi9cbnB1YmxpYyBjbGFzcyBNYWluQXBwIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgc3RhcnQoU3RhZ2UgcHJpbWFyeVN0YWdlKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk1haW5BcHA6IExvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiBiw6FuIGjDoG5nXG4gICAgICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGjDqm0gc3R5bGVzaGVldCBu4bq/dSBjw7NcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2NlbmUuZ2V0U3R5bGVzaGVldHMoKS5hZGQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIk1haW5BcHA6IENvdWxkIG5vdCBsb2FkIHN0eWxlc2hlZXQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUaGnhur90IGzhuq1wIHN0YWdlXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBrw61jaCB0aMaw4bubYyBzdGFnZSB0aGVvIG3DoG4gaMOsbmggY2jDrW5oXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRYKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0TWluWCgpKTtcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRZKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0TWluWSgpKTtcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRXaWR0aChwcmltYXJ5U2NyZWVuQm91bmRzLmdldFdpZHRoKCkpO1xuICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldEhlaWdodChwcmltYXJ5U2NyZWVuQm91bmRzLmdldEhlaWdodCgpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHN0YWdlXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJNYWluQXBwOiBNYWluIHNjcmVlbiBvcGVuZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTWFpbkFwcDogRXJyb3IgbG9hZGluZyBCYW5IYW5nX2d1aS5meG1sOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4gICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0xvZ2luX2NvbnRyb2xsZXIuamF2YVxucGFja2FnZSBpdWguZml0LmNvbnRyb2xsZXI7XG5cbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEubmV0LlVSTDtcbmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7XG5cbmltcG9ydCBpdWguZml0LkFwcDtcbmltcG9ydCBpdWguZml0LmRhb3MuVGFpS2hvYW5fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuVGFpS2hvYW47XG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydDtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydC5BbGVydFR5cGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkh5cGVybGluaztcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5QYXNzd29yZEZpZWxkO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRleHRGaWVsZDtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuS2V5Q29kZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuS2V5RXZlbnQ7XG5cbi8qKlxuICogQ29udHJvbGxlciBjaG8gbcOgbiBow6xuaCDEkcSDbmcgbmjhuq1wXG4gKi9cbnB1YmxpYyBjbGFzcyBMb2dpbl9jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dFVzZXJuYW1lO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhc3N3b3JkRmllbGQgdHh0UGFzc3dvcmQ7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgQnV0dG9uIGJ0bkxvZ2luO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEh5cGVybGluayBsaW5rRm9yZ290UGFzc3dvcmQ7XG5cbiAgICBwcml2YXRlIFRhaUtob2FuX2RhbyB0YWlLaG9hbkRhbztcblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICAgICAgLy8gS2jhu59pIHThuqFvIERBT1xuICAgICAgICB0YWlLaG9hbkRhbyA9IG5ldyBUYWlLaG9hbl9kYW8oKTtcblxuICAgICAgICAvLyBUaMOqbSBz4buxIGtp4buHbiBFbnRlciBjaG8gY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgICAgICB0eHRVc2VybmFtZS5zZXRPbktleVByZXNzZWQodGhpczo6aGFuZGxlRW50ZXJLZXkpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRPbktleVByZXNzZWQodGhpczo6aGFuZGxlRW50ZXJLZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFjhu60gbMO9IHPhu7Ega2nhu4duIG5o4bqlbiBFbnRlclxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVFbnRlcktleShLZXlFdmVudCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZ2V0Q29kZSgpID09IEtleUNvZGUuRU5URVIpIHtcbiAgICAgICAgICAgIGxvZ2luKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBuaOG6pW4gbsO6dCDEkcSDbmcgbmjhuq1wXG4gICAgICovXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTG9naW5CdXR0b25BY3Rpb24oQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgbG9naW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBxdcOqbiBt4bqtdCBraOG6qXVcbiAgICAgKi9cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVGb3Jnb3RQYXNzd29yZEFjdGlvbihBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLm9wZW5RdWVuTUsoKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdcOqbiBt4bqtdCBraOG6qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGjhu7FjIGhp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICovXG4gICAgcHJpdmF0ZSB2b2lkIGxvZ2luKCkge1xuICAgICAgICBTdHJpbmcgdXNlcm5hbWUgPSB0eHRVc2VybmFtZS5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCkudHJpbSgpO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgICAgIGlmICh1c2VybmFtZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgdMOqbiDEkcSDbmcgbmjhuq1wIVwiKTtcbiAgICAgICAgICAgIHR4dFVzZXJuYW1lLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhc3N3b3JkLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCBt4bqtdCBraOG6qXUhXCIpO1xuICAgICAgICAgICAgdHh0UGFzc3dvcmQucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBsb2dpblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgVGFpS2hvYW4gdGFpS2hvYW4gPSB0YWlLaG9hbkRhby5maW5kQnlVc2VybmFtZWFuZFBhc3N3b3JkKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gICAgICAgICAgICBpZiAodGFpS2hvYW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgbG9naW4gaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSB0YWlLaG9hbjtcbiAgICAgICAgICAgICAgICBBcHAudXNlciA9IHVzZXJuYW1lO1xuICAgICAgICAgICAgICAgIEFwcC5tYSA9IHRhaUtob2FuLmdldE1hVGFpS2hvYW4oKTtcbiAgICAgICAgICAgICAgICB0eHRVc2VybmFtZS5nZXRTY2VuZSgpLmdldFdpbmRvdygpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGUgbG9naW4gc2NyZWVuIGFuZCBvcGVuIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgICAgIEFwcC5vcGVuTWFpbkdVSSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpIMSRxINuZyBuaOG6rXBcIiwgXCJUw6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdSBraMO0bmcgxJHDum5nIVwiKTtcbiAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIi4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTN0TDRLeGJGa2ozNnBub1dld0VNb2UifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2FkRlhNTCBtZXRob2QgaW1wbGVtZW50YXRpb24gaW4gdGhlIGNvbnRyb2xsZXJzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjVhYzJjMTIxLWViYjQtNDI3MS05NjYwLWMwNzNiMjE3NjA5ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUhFMVBHZUN5SHVtdnZCRzlUWFhEWFUiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgYWxsIG5hdmlnYXRpb24gbWV0aG9kcyBpbiB0aGUgY29udHJvbGxlcnMgdGhhdCB1c2UgQXBwLnNldFJvb3Qgb3Igc2ltaWxhciBtZXRob2RzIGluc3RlYWQgb2YgbG9hZEZYTUwuIEFsc28gZmluZCBhbnkgYmFzZSBjb250cm9sbGVyIG9yIHV0aWxpdHkgY2xhc3MgdGhhdCBtaWdodCBiZSB1c2VkIGZvciBuYXZpZ2F0aW9uLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGNoZWNrIGZvciBhbnkgYWRkaXRpb25hbCBuYXZpZ2F0aW9uIG1ldGhvZHMgaW4gdGhlIGNvbnRyb2xsZXJzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfU2FuUGhhbV9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlBoaeG6v3Ugbmjhuq1wXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1RhaUtvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB4b2FOVihNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgeG9hVHJhbmcoTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfS2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgbW9HaWFvRGllblRpbUtpZW1LSChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1S2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSBraMOhY2ggaMOgbmchXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIktow6FjaCBow6BuZ1wiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0hvYURvbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfUGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YVxuLi4uXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBsb2FkVGFibGVEYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVOG6oW8gREFPIG9iamVjdFxuICAgICAgICAgICAgUGhpZXVOaGFwSGFuZ19kYW8gcE5oYXBEQU8gPSBuZXcgUGhpZXVOaGFwSGFuZ19kYW8oKTtcblxuICAgICAgICAgICAgLy8gWMOzYSBk4buvIGxp4buHdSBjxakgdHJvbmcgdGFibGVcbiAgICAgICAgICAgIHRhYmxlX1BOaGFwLmdldEl0ZW1zKCkuY2xlYXIoKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNiYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiU+G6o24gcGjhuqltXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvTG9naW5fY29udHJvbGxlci5qYXZhXG5wYWNrYWdlIGl1aC5maXQuY29udHJvbGxlcjtcblxuaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247XG5pbXBvcnQgamF2YS5uZXQuVVJMO1xuaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcblxuaW1wb3J0IGl1aC5maXQuQXBwO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5UYWlLaG9hbl9kYW87XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5UYWlLaG9hbjtcbmltcG9ydCBqYXZhZnguZXZlbnQuQWN0aW9uRXZlbnQ7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkFsZXJ0O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkFsZXJ0LkFsZXJ0VHlwZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b247XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuSHlwZXJsaW5rO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlBhc3N3b3JkRmllbGQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGV4dEZpZWxkO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5LZXlDb2RlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5LZXlFdmVudDtcblxuLyoqXG4gKiBDb250cm9sbGVyIGNobyBtw6BuIGjDrG5oIMSRxINuZyBuaOG6rXBcbiAqL1xucHVibGljIGNsYXNzIExvZ2luX2NvbnRyb2xsZXIgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0VXNlcm5hbWU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFzc3dvcmRGaWVsZCB0eHRQYXNzd29yZDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBCdXR0b24gYnRuTG9naW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSHlwZXJsaW5rIGxpbmtGb3Jnb3RQYXNzd29yZDtcblxuICAgIHByaXZhdGUgVGFpS2hvYW5fZGFvIHRhaUtob2FuRGFvO1xuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gREFPXG4gICAgICAgIHRhaUtob2FuRGFvID0gbmV3IFRhaUtob2FuX2RhbygpO1xuXG4gICAgICAgIC8vIFRow6ptIHPhu7Ega2nhu4duIEVudGVyIGNobyBjw6FjIHRyxrDhu51uZyBuaOG6rXAgbGnhu4d1XG4gICAgICAgIHR4dFVzZXJuYW1lLnNldE9uS2V5UHJlc3NlZCh0aGlzOjpoYW5kbGVFbnRlcktleSk7XG4gICAgICAgIHR4dFBhc3N3b3JkLnNldE9uS2V5UHJlc3NlZCh0aGlzOjpoYW5kbGVFbnRlcktleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gbmjhuqVuIEVudGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUVudGVyS2V5KEtleUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5nZXRDb2RlKCkgPT0gS2V5Q29kZS5FTlRFUikge1xuICAgICAgICAgICAgbG9naW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFjhu60gbMO9IHPhu7Ega2nhu4duIG5o4bqlbiBuw7p0IMSRxINuZyBuaOG6rXBcbiAgICAgKi9cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVMb2dpbkJ1dHRvbkFjdGlvbihBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICBsb2dpbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFjhu60gbMO9IHPhu7Ega2nhu4duIHF1w6puIG3huq10IGto4bqpdVxuICAgICAqL1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUZvcmdvdFBhc3N3b3JkQWN0aW9uKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAub3BlblF1ZW5NSygpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF1w6puIG3huq10IGto4bqpdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaOG7sWMgaGnhu4duIMSRxINuZyBuaOG6rXBcbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgbG9naW4oKSB7XG4gICAgICAgIFN0cmluZyB1c2VybmFtZSA9IHR4dFVzZXJuYW1lLmdldFRleHQoKS50cmltKCk7XG4gICAgICAgIFN0cmluZyBwYXNzd29yZCA9IHR4dFBhc3N3b3JkLmdldFRleHQoKS50cmltKCk7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICAgICAgaWYgKHVzZXJuYW1lLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCB0w6puIMSRxINuZyBuaOG6rXAhXCIpO1xuICAgICAgICAgICAgdHh0VXNlcm5hbWUucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFzc3dvcmQuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIG3huq10IGto4bqpdSFcIik7XG4gICAgICAgICAgICB0eHRQYXNzd29yZC5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGxvZ2luXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBUYWlLaG9hbiB0YWlLaG9hbiA9IHRhaUtob2FuRGFvLmZpbmRCeVVzZXJuYW1lYW5kUGFzc3dvcmQodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmICh0YWlLaG9hbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBsb2dpbiBpbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgIEFwcC50YWlLaG9hbiA9IHRhaUtob2FuO1xuICAgICAgICAgICAgICAgIEFwcC51c2VyID0gdXNlcm5hbWU7XG4gICAgICAgICAgICAgICAgQXBwLm1hID0gdGFpS2hvYW4uZ2V0TWFUYWlLaG9hbigpO1xuICAgICAgICAgICAgICAgIHR4dFVzZXJuYW1lLmdldFNjZW5lKCkuZ2V0V2luZG93KCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBsb2dpbiBzY3JlZW4gYW5kIG9wZW4gdGhlIG1haW4gR1VJXG4gICAgICAgICAgICAgICAgQXBwLm9wZW5NYWluR1VJKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2kgxJHEg25nIG5o4bqtcFwiLCBcIlTDqm4gxJHEg25nIG5o4bqtcCBob+G6t2MgbeG6rXQga2jhuql1IGtow7RuZyDEkcO6bmchXCIpO1xuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIkzhu5dpIGtoaSDEkcSDbmcgbmjhuq1wOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0toYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmchXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VEb2FuaFRodV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBIaeG7g24gdGjhu4sgdGjDtG5nIGLDoW9cbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIEZYTUwgZmlsZVxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBsb2FkVGFibGVEYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgTmhhblZpZW5fZGFvIG5oYW5WaWVuRGFvID0gbmV3IE5oYW5WaWVuX2RhbygpO1xuICAgICAgICAgICAgTGlzdDxOaGFuVmllbj4gZHNudiA9IG5oYW5WaWVuRGFvLnJlYWRBbGxOaGFuVmllbigpO1xuICAgICAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8TmhhblZpZW4+IGRhdGEgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoZHNudik7XG4gICAgICAgICAgICB0YWJsZU5oYW5WaWVuLnNldEl0ZW1zKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdOG6o2kgZOG7ryBsaeG7h3UgbmjDom4gdmnDqm5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBUYWJsZUNsaWNrRXZlbnQoKSB7XG4gICAgICAgIHRhYmxlTmhhblZpZW4uc2V0T25Nb3VzZUNsaWNrZWQoZXZlbnQgLT4ge1xuICAgICAgICAgICAgTmhhblZpZW4gc2VsZWN0ZWROaGFuVmllbiA9IHRhYmxlTmhhblZpZW4uZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZE5oYW5WaWVuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVMYWJlbHMoc2VsZWN0ZWROaGFuVmllbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIk5ow6JuIHZpw6puXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0aW1LaWVtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgU3RyaW5nIG1hTmhhblZpZW4gPSB0eHRfbWFOVi5nZXRUZXh0KCk7XG4gICAgICAgIEFwcC5tYVRyYUN1dSA9IG1hTmhhblZpZW47XG4gICAgICAgIE5oYW5WaWVuIG5oYW5WaWVuID0gbmV3IE5oYW5WaWVuX2RhbygpLnJlYWROaGFuVmllbihtYU5oYW5WaWVuKTtcbiAgICAgICAgbGJfbWFOVi5zZXRUZXh0KG5oYW5WaWVuLmdldE1hTlYoKSk7XG4gICAgICAgIGxiX3Rlbk5WLnNldFRleHQobmhhblZpZW4uZ2V0VGVuTlYoKSk7XG4gICAgICAgIGxiX2NjY2Quc2V0VGV4dChuaGFuVmllbi5nZXRDY2NkKCkpO1xuICAgICAgICBsYl9zZHQuc2V0VGV4dChuaGFuVmllbi5nZXRTZHQoKSk7XG4gICAgICAgIGxiX2VtYWlsLnNldFRleHQobmhhblZpZW4uZ2V0RW1haWwoKSk7XG4gICAgICAgIGxiX2RpYUNoaS5zZXRUZXh0KG5oYW5WaWVuLmdldERpYUNoaSgpKTtcbiAgICAgICAgbGJfY2h1Y1Z1LnNldFRleHQobmhhblZpZW4uZ2V0Q2h1Y1Z1KCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGxiX25nYXlTaW5oLnNldFRleHQobmhhblZpZW4uZ2V0TmdheVNpbmgoKS5mb3JtYXQoZGF0ZUZvcm1hdHRlcikpO1xuICAgICAgICBoaWdobGlnaHRNYXRjaGluZ1JvdyhtYU5oYW5WaWVuKTtcbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5SG9hRG9uX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGjDs2EgxJHGoW5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUtoYWNoSGFuZ19ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5TmhhblZpZW5fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyby4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUd2dWQ5aVhDOTgxQ3N2ZUpBVXNvUHIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGNoZWNrIGZvciBhbnkgYWRkaXRpb25hbCBuYXZpZ2F0aW9uIG1ldGhvZHMgaW4gdGhlIGNvbnRyb2xsZXJzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImYwMjg3MTg0LTdlNTgtNDg2NS1hODMzLTIxYTU3MmQyNmUyMCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUEyQVlLeUpaZ0JuQUF1azUzRExTTXUiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgYW55IGFic3RyYWN0IGNvbnRyb2xsZXIgb3IgYmFzZSBjb250cm9sbGVyIGNsYXNzIHRoYXQgbWlnaHQgYmUgdXNlZCBhcyBhIHBhcmVudCBmb3Igb3RoZXIgY29udHJvbGxlcnMuIEFsc28gY2hlY2sgZm9yIGFueSB1dGlsaXR5IGNsYXNzIHRoYXQgbWlnaHQgYmUgdXNlZCBmb3IgbmF2aWdhdGlvbi5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBjaGVjayBmb3IgYW55IGFic3RyYWN0IGNvbnRyb2xsZXIgb3IgYmFzZSBjb250cm9sbGVyIGNsYXNzIHRoYXQgbWlnaHQgYmUgdXNlZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hUE47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFBoaWV1TmhhcEhhbmc+IHRhYmxlUGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiUGhp4bq/dSBuaOG6rXBcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhXG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcC5zdGFydCgpIGNhbGxlZFwiKTtcbiAgICAgICAgc3RhZ2UgPSBwcmltYXJ5U3RhZ2U7XG5cbiAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBz4buxIGtp4buHbiBraGkgxJHDs25nIGPhu61hIHPhu5UgY2jDrW5oXG4gICAgICAgIHN0YWdlLnNldE9uQ2xvc2VSZXF1ZXN0KGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcGxpY2F0aW9uIGlzIGNsb3NpbmdcIik7XG4gICAgICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2jhu4kgbeG7nyBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7Mgc3BsYXNoIHNjcmVlblxuICAgICAgICBpZiAoQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlID09IG51bGwpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk5vIHNwbGFzaCBzY3JlZW4gZGV0ZWN0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuIGRpcmVjdGx5XCIpO1xuLy8gICAgICAgICAgICBvcGVuTG9naW5HVUkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE3hu58gZ2lhbyBkaeG7h24gY2jDrW5oIGPhu6dhIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuTWFpbkdVSSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIHNjZW5lLmdldFN0eWxlc2hlZXRzKCkuYWRkKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IHNjZW5lIGZvciB0aGUgc3RhZ2VcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldE1heGltaXplZCh0cnVlKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIGxvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuLy8gICAgICAgICAgICBpZiAobG9naW5GeG1sVXJsID09IG51bGwpIHtcbi8vICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkxvZ2luX2d1aS5meG1sIG5vdCBmb3VuZCEgVHJ5aW5nIHRvIG9wZW4gQmFuSGFuZ19ndWkuZnhtbCBpbnN0ZWFkLlwiKTtcbi8vICAgICAgICAgICAgICAgIG9wZW5NYWluR1VJKCk7XG4vLyAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihsb2dpbkZ4bWxVcmwpO1xuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBmeG1sTG9hZGVyLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVOG6oW8gc2NlbmUgbeG7m2lcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0TWF4aW1pemVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyDEkOG6t3Qga8OtY2ggdGjGsOG7m2MgdsOgIHbhu4sgdHLDrSBj4bunYSBj4butYSBz4buVXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFgoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0V2lkdGgoKSAtIHJvb3QucHJlZldpZHRoKC0xKSkgLyAyKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFkoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0SGVpZ2h0KCkgLSByb290LnByZWZIZWlnaHQoLTEpKSAvIDIpO1xuXG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgY+G7rWEgc+G7lVxuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKDEpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTG9naW4gR1VJIG9wZW5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRXJyb3Igb3BlbmluZyBMb2dpbl9ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBN4bufIGdpYW8gZGnhu4duIHF1w6puIG3huq10IGto4bqpdVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuUXVlbk1LKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgZnhtbExvYWRlciA9IG5ldyBGWE1MTG9hZGVyKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9meG1sL1F1ZW5NYXRLaGF1X2d1aS5meG1sXCIpKTtcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gZnhtbExvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290LCA2MDAsIDQwMCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIlF1w6puIG3huq10IGto4bqpdVwiKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoTnVsbFBvaW50ZXJFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIktow7RuZyB0w6xtIHRo4bqleSBmaWxlIFF1ZW5NYXRLaGF1X2d1aS5meG1sOiBcIiArIGV4LmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBUaGF5IMSR4buVaSByb290IGPhu6dhIHNjZW5lXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldFJvb3QoU3RyaW5nIGZ4bWwpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sICsgXCIuZnhtbFwiKSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvYWRpbmcgRlhNTDogXCIgKyBsb2FkZXIuZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBQYXJlbnQgbmV3Um9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBpZiAocHJpbWFyeVNjZW5lICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNjZW5lLnNldFJvb3QobmV3Um9vdCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShwcmltYXJ5U2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2l6ZVRvU2NlbmUoKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIktow7RuZyB0w6xtIHRo4bqleSBmaWxlOiBcIiArIGZ4bWwpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIEZYTUwgZmlsZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgUGFyZW50IGxvYWRGWE1MKFN0cmluZyBmeG1sKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihBcHAuY2xhc3MuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWwgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgcmV0dXJuIGZ4bWxMb2FkZXIubG9hZCgpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiS2jDoWNoIGjDoG5nXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiSG/DoSDEkcahblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNiYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiU+G6o24gcGjhuqltXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJOaMOibiB2acOqblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJUw6BpIGtob+G6o25cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHhvYU5WKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB4b2FUcmFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmFcbnBhY2thZ2UgaXVoLmZpdC5jb250cm9sbGVyO1xuXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLm5ldC5VUkw7XG5pbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xuXG5pbXBvcnQgaXVoLmZpdC5BcHA7XG5pbXBvcnQgaXVoLmZpdC5kYW9zLlRhaUtob2FuX2RhbztcbmltcG9ydCBpdWguZml0LmVudGl0aWVzLlRhaUtob2FuO1xuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5IeXBlcmxpbms7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuUGFzc3dvcmRGaWVsZDtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0RmllbGQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0LktleUNvZGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0LktleUV2ZW50O1xuXG4vKipcbiAqIENvbnRyb2xsZXIgY2hvIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICovXG5wdWJsaWMgY2xhc3MgTG9naW5fY29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRVc2VybmFtZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYXNzd29yZEZpZWxkIHR4dFBhc3N3b3JkO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEJ1dHRvbiBidG5Mb2dpbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBIeXBlcmxpbmsgbGlua0ZvcmdvdFBhc3N3b3JkO1xuXG4gICAgcHJpdmF0ZSBUYWlLaG9hbl9kYW8gdGFpS2hvYW5EYW87XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIEto4bufaSB04bqhbyBEQU9cbiAgICAgICAgdGFpS2hvYW5EYW8gPSBuZXcgVGFpS2hvYW5fZGFvKCk7XG5cbiAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gRW50ZXIgY2hvIGPDoWMgdHLGsOG7nW5nIG5o4bqtcCBsaeG7h3VcbiAgICAgICAgdHh0VXNlcm5hbWUuc2V0T25LZXlQcmVzc2VkKHRoaXM6OmhhbmRsZUVudGVyS2V5KTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0T25LZXlQcmVzc2VkKHRoaXM6OmhhbmRsZUVudGVyS2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBuaOG6pW4gRW50ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRW50ZXJLZXkoS2V5RXZlbnQgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmdldENvZGUoKSA9PSBLZXlDb2RlLkVOVEVSKSB7XG4gICAgICAgICAgICBsb2dpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gbmjhuqVuIG7DunQgxJHEg25nIG5o4bqtcFxuICAgICAqL1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUxvZ2luQnV0dG9uQWN0aW9uKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGxvZ2luKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gcXXDqm4gbeG6rXQga2jhuql1XG4gICAgICovXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRm9yZ290UGFzc3dvcmRBY3Rpb24oQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5vcGVuUXVlbk1LKCk7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXDqm4gbeG6rXQga2jhuql1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRo4buxYyBoaeG7h24gxJHEg25nIG5o4bqtcFxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBsb2dpbigpIHtcbiAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlcm5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpLnRyaW0oKTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgICAgICBpZiAodXNlcm5hbWUuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIHTDqm4gxJHEg25nIG5o4bqtcCFcIik7XG4gICAgICAgICAgICB0eHRVc2VybmFtZS5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXNzd29yZC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgbeG6rXQga2jhuql1IVwiKTtcbiAgICAgICAgICAgIHR4dFBhc3N3b3JkLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgbG9naW5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFRhaUtob2FuIHRhaUtob2FuID0gdGFpS2hvYW5EYW8uZmluZEJ5VXNlcm5hbWVhbmRQYXNzd29yZCh1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgaWYgKHRhaUtob2FuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGxvZ2luIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gdGFpS2hvYW47XG4gICAgICAgICAgICAgICAgQXBwLnVzZXIgPSB1c2VybmFtZTtcbiAgICAgICAgICAgICAgICBBcHAubWEgPSB0YWlLaG9hbi5nZXRNYVRhaUtob2FuKCk7XG4gICAgICAgICAgICAgICAgdHh0VXNlcm5hbWUuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGxvZ2luIHNjcmVlbiBhbmQgb3BlbiB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgICAgICBBcHAub3Blbk1haW5HVUkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaSDEkcSDbmcgbmjhuq1wXCIsIFwiVMOqbiDEkcSDbmcgbmjhuq1wIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIMSRw7puZyFcIik7XG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiTOG7l2kga2hpIMSRxINuZyBuaOG6rXA6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9TcGxhc2hDb250cm9sbGVyLmphdmFcbi4uLlxuXG4vKipcbiAqIENvbnRyb2xsZXIgY2hvIG3DoG4gaMOsbmggU3BsYXNoXG4gKi9cbnB1YmxpYyBjbGFzcyBTcGxhc2hDb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUHJvZ3Jlc3NCYXIgcHJvZ3Jlc3NCYXI7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJsU3RhdHVzO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxibFZlcnNpb247XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgcGhpw6puIGLhuqNuXG4gICAgICAgIGxibFZlcnNpb24uc2V0VGV4dChcIlBoacOqbiBi4bqjbiAxLjAuMFwiKTtcblxuICAgICAgICAvLyBU4bqhbyBoaeG7h3Ug4bupbmcgbeG7nSBk4bqnbiBjaG8gbGFiZWxcbiAgICAgICAgRmFkZVRyYW5zaXRpb24gZmFkZVRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24uc2Vjb25kcygxKSwgbGJsU3RhdHVzKTtcbiAgICAgICAgZmFkZVRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDEuMCk7XG4gICAgICAgIGZhZGVUcmFuc2l0aW9uLnNldFRvVmFsdWUoMC4zKTtcbiAgICAgICAgZmFkZVRyYW5zaXRpb24uc2V0Q3ljbGVDb3VudChUaW1lbGluZS5JTkRFRklOSVRFKTtcbiAgICAgICAgZmFkZVRyYW5zaXRpb24uc2V0QXV0b1JldmVyc2UodHJ1ZSk7XG4gICAgICAgIGZhZGVUcmFuc2l0aW9uLnBsYXkoKTtcblxuICAgICAgICAvLyBLaOG7n2kgxJHhu5luZyBxdcOhIHRyw6xuaCB04bqjaSDhu6luZyBk4bulbmdcbiAgICAgICAgc3RhcnRMb2FkaW5nUHJvY2VzcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEto4bufaSDEkeG7mW5nIHF1w6EgdHLDrG5oIHThuqNpIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBzdGFydExvYWRpbmdQcm9jZXNzKCkge1xuICAgICAgICBUYXNrPFZvaWQ+IHRhc2sgPSBuZXcgVGFzazxWb2lkPigpIHtcbiAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgcHJvdGVjdGVkIFZvaWQgY2FsbCgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB0aeG6v24gdHLDrG5oXG4gICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMC4xLCAxLjApO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2UoXCLEkGFuZyBraOG7n2kgxJHhu5luZyDhu6luZyBk4bulbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDgwMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBLaeG7g20gdHJhIGvhur90IG7hu5FpIGPGoSBz4bufIGThu68gbGnhu4d1XG4gICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMC4zLCAxLjApO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2UoXCLEkGFuZyBr4bq/dCBu4buRaSBjxqEgc+G7nyBk4buvIGxp4buHdS4uLlwiKTtcbiAgICAgICAgICAgICAgICBUaHJlYWQuc2xlZXAoODAwKTtcblxuICAgICAgICAgICAgICAgIC8vIEtp4buDbSB0cmEgZOG7ryBsaeG7h3VcbiAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzcygwLjUsIDEuMCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWVzc2FnZShcIsSQYW5nIGtp4buDbSB0cmEgZOG7ryBsaeG7h3UuLi5cIik7XG4gICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDgwMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBU4bqjaSBk4buvIGxp4buHdVxuICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDAuNywgMS4wKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNZXNzYWdlKFwixJBhbmcgdOG6o2kgZOG7ryBsaeG7h3UuLi5cIik7XG4gICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDgwMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBIb8OgbiB04bqldFxuICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDEuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNZXNzYWdlKFwiSG/DoG4gdOG6pXQhXCIpO1xuICAgICAgICAgICAgICAgIFRocmVhZC5zbGVlcCg1MDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTGnDqm4ga+G6v3QgcHJvZ3Jlc3MgYmFyIHbhu5tpIHRhc2tcbiAgICAgICAgcHJvZ3Jlc3NCYXIucHJvZ3Jlc3NQcm9wZXJ0eSgpLmJpbmQodGFzay5wcm9ncmVzc1Byb3BlcnR5KCkpO1xuXG4gICAgICAgIC8vIExpw6puIGvhur90IGxhYmVsIHN0YXR1cyB24bubaSB0YXNrXG4gICAgICAgIHRhc2subWVzc2FnZVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKG5ld1ZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2hpIHRhc2sgaG/DoG4gdGjDoG5oLCBt4bufIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAgICAgICB0YXNrLnNldE9uU3VjY2VlZGVkKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvYWRpbmcgdGFzayBjb21wbGV0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuXCIpO1xuXG4gICAgICAgICAgICAvLyBU4bqhbyBt4buZdCB0YXNrIHJpw6puZyDEkeG7gyBt4bufIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcCBzYXUga2hpIHNwbGFzaCBob8OgbiB04bqldFxuICAgICAgICAgICAgbmV3IFRocmVhZCgoKSAtPiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gxJDhu6NpIG3hu5l0IGNow7p0IHRyxrDhu5tjIGtoaSBt4bufIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAgICAgICAgICAgICAgICAgICBUaHJlYWQuc2xlZXAoMTAwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2h1eeG7g24gc2FuZyB0aHJlYWQgSmF2YUZYIMSR4buDIG3hu58gbcOgbiBow6xuaCDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gxJDDs25nIG3DoG4gaMOsbmggc3BsYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl1aC5maXQuQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXVoLmZpdC5BcHBQcmVsb2FkZXIuc3BsYXNoU3RhZ2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiU3BsYXNoIHNjcmVlbiBjbG9zZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTeG7nyBtw6BuIGjDrG5oIMSRxINuZyBuaOG6rXBcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5vcGVuTG9naW5HVUkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJMb2dpbiBzY3JlZW4gb3BlbmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFIRTFQR2VDeUh1bXZ2Qkc5VFhYRFhVIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBjaGVjayBmb3IgYW55IGFic3RyYWN0IGNvbnRyb2xsZXIgb3IgYmFzZSBjb250cm9sbGVyIGNsYXNzIHRoYXQgbWlnaHQgYmUgdXNlZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkN2I4YWE2MS1lNjdjLTQ0MzctOWQzZC1kMDkwMjlkNWYyZDgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFYUXVBQ3BoYW9DU2lyQjI5Z0NyalUzIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiBteSBhbmFseXNpcyBvZiB0aGUgY29kZWJhc2UsIEkgbm93IGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgaG93IHRoZSBuYXZpZ2F0aW9uIGJldHdlZW4gaW50ZXJmYWNlcyB3b3JrcyBpbiB5b3VyIHByb2plY3QuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIHRvIGZpeCB0aGUgbmF2aWdhdGlvbiBpc3N1ZXMuXG5cbiMjIFBsYW4gdG8gRml4IE5hdmlnYXRpb24gQmV0d2VlbiBJbnRlcmZhY2VzXG5cbjEuICoqSWRlbnRpZnkgdGhlIGlzc3VlKio6IFRoZSBuYXZpZ2F0aW9uIGJldHdlZW4gaW50ZXJmYWNlcyBpcyBpbmNvbnNpc3RlbnQuIFNvbWUgY29udHJvbGxlcnMgdXNlIGBsb2FkRlhNTCgpYCBtZXRob2QgZGVmaW5lZCBpbiB0aGVpciBvd24gY2xhc3MsIHdoaWxlIG90aGVycyB1c2UgYEFwcC5zZXRSb290KClgIG9yIGRpcmVjdCBGWE1MTG9hZGVyIGNhbGxzLlxuXG4yLiAqKkNyZWF0ZSBhIGNvbnNpc3RlbnQgYXBwcm9hY2gqKjogSSdsbCBzdGFuZGFyZGl6ZSB0aGUgbmF2aWdhdGlvbiBieTpcbiAgIC0gTWFraW5nIHN1cmUgYWxsIGNvbnRyb2xsZXJzIHVzZSB0aGUgc2FtZSBtZXRob2QgZm9yIG5hdmlnYXRpb25cbiAgIC0gRW5zdXJpbmcgYWxsIG5hdmlnYXRpb24gbWV0aG9kcyBhcmUgcHJvcGVybHkgaW1wbGVtZW50ZWRcbiAgIC0gRml4aW5nIGFueSBtaXNzaW5nIG5hdmlnYXRpb24gbGlua3NcblxuMy4gKipGaWxlcyB0byBtb2RpZnkqKjpcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfU2FuUGhhbV9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0toYWNoSGFuZ19jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9Ib2FEb25fY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfUGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX05oYW5WaWVuX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1Rob25nS2VEb2FuaFRodV9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UaG9uZ0tlU2FuUGhhbV9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhYFxuXG5MZXQgbWUgc3RhcnQgYnkgaW1wbGVtZW50aW5nIHRoZSBjaGFuZ2VzOlxuXG4jIyMgMS4gRmlyc3QsIGxldCdzIGZpeCB0aGUgQmFuSGFuZ19jb250cm9sbGVyLmphdmEgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hUE47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFBoaWV1TmhhcEhhbmc+IHRhYmxlUGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiUGhp4bq/dSBuaOG6rXBcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfUGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YVxucGFja2FnZSBpdWguZml0LmNvbnRyb2xsZXI7XG5cbmltcG9ydCBpdWguZml0LmRhb3MuUGhpZXVOaGFwSGFuZ19kYW87XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5QaGlldU5oYXBIYW5nO1xuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5PYnNlcnZhYmxlTGlzdDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuUGFyZW50O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLmNlbGwuUHJvcGVydHlWYWx1ZUZhY3Rvcnk7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlVmlldztcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuTW91c2VFdmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5WQm94O1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcblxuaW1wb3J0IGphdmEubmV0LlVSTDtcbmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7XG5cbmltcG9ydCBzdGF0aWMgaXVoLmZpdC5BcHAubG9hZEZYTUw7XG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX2dpb0hhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX2hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfbmhhblZpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3BoaWV1TmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfcXVhbkx5O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9zYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90YWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGltS2llbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZVZpZXc8UGhpZXVOaGFwSGFuZz4gdGFibGVfUE5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfTWFOVjtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB2Qm94O1xuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hVEs7XG4gICAgXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlVmlldzxUYWlLaG9hbj4gdGFibGVUYWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG5cbiAgICBNYXA8VkJveCxWQm94PiBtYXAgPSBuZXcgSGFzaE1hcDxWQm94LFZCb3g+KCk7XG4gICAgcHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgICAgICAgYWRkTWVudXNUb01hcEltcGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAgICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZW51IHNsaWRlclxuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICogQHBhcmFtIHN1Yk1lbnVcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsVkJveCBzdWJNZW51KXtcbiAgICAgICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsc3ViTWVudSk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbmltcG9ydCBpdWguZml0LkFwcDtcbmltcG9ydCBpdWguZml0LmRhb3MuQ2FMYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5DaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5Ib2FEb25fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5LaGFjaEhhbmdfZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5OaGFuVmllbl9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLlNhblBoYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuKjtcbmltcG9ydCBpdWguZml0LmVudW1zLlBodW9uZ1RodWNUaGFuaFRvYW47XG5pbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5GYWRlVHJhbnNpdGlvbjtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkludGVycG9sYXRvcjtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLktleUZyYW1lO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uVGltZWxpbmU7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbmltcG9ydCBqYXZhZnguZXZlbnQuRXZlbnRIYW5kbGVyO1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfY2h1eWVuS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfdGhlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRvZ2dsZUdyb3VwIHBodW9uZ1RodWNUVDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX2dpb0hhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX2hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfbmhhblZpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3BoaWV1TmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfcXVhbkx5O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9zYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90YWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGltS2llbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViVkJveDtcbi4uLlxuXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gY8OhYyBEQU9cbiAgICAgICAgc2FuUGhhbURhbyA9IG5ldyBTYW5QaGFtX2RhbygpO1xuICAgICAgICBob2FEb25EYW8gPSBuZXcgSG9hRG9uX2RhbygpO1xuICAgICAgICBraGFjaEhhbmdEYW8gPSBuZXcgS2hhY2hIYW5nX2RhbygpO1xuICAgICAgICBjaGlUaWV0SG9hRG9uRGFvID0gbmV3IENoaVRpZXRIb2FEb25fU2FuUGhhbV9kYW8oKTtcbiAgICAgICAgY2FMYW1EYW8gPSBuZXcgQ2FMYW1fZGFvKCk7XG4gICAgICAgIG5oYW5WaWVuRGFvID0gbmV3IE5oYW5WaWVuX2RhbygpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIG1lbnVcbiAgICAgICAgYWRkTWVudXNUb01hcCgpO1xuXG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBuZ8OgeSB2w6AgdGjhu51pIGdpYW4gaGnhu4duIHThuqFpXG4gICAgICAgIGRpc3BsYXlDdXJyZW50RGF0ZVRpbWUoKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gYuG6o25nIGdp4buPIGjDoG5nXG4gICAgICAgIGluaXRpYWxpemVUYWJsZSgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyB0aMO0bmcgdGluIGjDs2EgxJHGoW5cbiAgICAgICAgaW5pdGlhbGl6ZUludm9pY2VJbmZvKCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIHThu5VuZyB0aeG7gW5cbiAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gdGjDtG5nIHRpbiBuaMOibiB2acOqblxuICAgICAgICBpbml0aWFsaXplTmhhblZpZW4oKTtcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKEFwcC51c2VyKTtcblxuICAgICAgICAvLyBUaGnhur90IGzhuq1wIHPhu7Ega2nhu4duIGNobyBjw6FjIHRow6BuaCBwaOG6p24gdHJvbmcgUGFuZSB0aMO0bmcgdGluIMSRxqFuIGjDoG5nXG4gICAgICAgIHNldHVwSW52b2ljZUV2ZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBNZW51cyB0byBtYXBcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1Rob25nS2VTYW5QaGFtX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXAoKTtcbiAgICAgICAgc2V0dXBDaGFydHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgTWVudXMgdG8gbWFwXG4gICAgICovXG4gICAgcHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgICAgICAgYWRkTWVudXNUb01hcEltcGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAgICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LCB0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsIFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVudSBzbGlkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICogQHBhcmFtIHN1Yk1lbnVcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsIFZCb3ggc3ViTWVudSkge1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSwgc3ViTWVudSk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UaG9uZ0tlRG9hbmhUaHVfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICAgICAgYWRkTWVudXNUb01hcCgpO1xuICAgICAgICBzZXR1cENoYXJ0cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBNZW51cyB0byBtYXBcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsIHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCwgVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZW51IHNsaWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSwgVkJveCBzdWJNZW51KSB7XG4gICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LCBzdWJNZW51KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9BcHAuamF2YVxuLi4uXG5cbi8qKlxuICogTOG7m3AgY2jDrW5oIGPhu6dhIOG7qW5nIGThu6VuZ1xuICovXG5wdWJsaWMgY2xhc3MgQXBwIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuLy8gICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgd2lkdGhNb2RhbExvZ2luID0gNjAwO1xuLy8gICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgaGVpZ2h0TW9kYWxMb2dpbiA9IDQwMDtcbiAgICBwdWJsaWMgc3RhdGljIFN0YWdlIHN0YWdlO1xuICAgIHB1YmxpYyBzdGF0aWMgU2NlbmUgcHJpbWFyeVNjZW5lO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIHVzZXI7XG4gICAgcHVibGljIHN0YXRpYyBTdHJpbmcgbWE7XG4gICAgcHVibGljIHN0YXRpYyBUYWlLaG9hbiB0YWlLaG9hbjtcbiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBtYVRyYUN1dTtcblxuICAgIC8vIEJp4bq/biDEkeG7gyB0aGVvIGTDtWkgdHLhuqFuZyB0aMOhaSDEkcSDbmcgbmjhuq1wXG4gICAgcHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBsb2dpblNjcmVlbk9wZW5lZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuICAgICAgICBTeXN0ZW0uc2V0UHJvcGVydHkoXCJqYXZhZngucHJlbG9hZGVyXCIsIEFwcFByZWxvYWRlci5jbGFzcy5nZXROYW1lKCkpO1xuICAgICAgICBsYXVuY2goYXJncyk7XG4gICAgfVxuLi4uXG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBzdGFydChTdGFnZSBwcmltYXJ5U3RhZ2UpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJBcHAuc3RhcnQoKSBjYWxsZWRcIik7XG4gICAgICAgIHN0YWdlID0gcHJpbWFyeVN0YWdlO1xuXG4gICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24ga2hpIMSRw7NuZyBj4butYSBz4buVIGNow61uaFxuICAgICAgICBzdGFnZS5zZXRPbkNsb3NlUmVxdWVzdChldmVudCAtPiB7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJBcHBsaWNhdGlvbiBpcyBjbG9zaW5nXCIpO1xuICAgICAgICAgICAgUGxhdGZvcm0uZXhpdCgpO1xuICAgICAgICAgICAgU3lzdGVtLmV4aXQoMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENo4buJIG3hu58gZ2lhbyBkaeG7h24gxJHEg25nIG5o4bqtcCBu4bq/dSBraMO0bmcgY8OzIHNwbGFzaCBzY3JlZW5cbiAgICAgICAgaWYgKEFwcFByZWxvYWRlci5zcGxhc2hTdGFnZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJObyBzcGxhc2ggc2NyZWVuIGRldGVjdGVkLCBvcGVuaW5nIGxvZ2luIHNjcmVlbiBkaXJlY3RseVwiKTtcbi8vICAgICAgICAgICAgb3BlbkxvZ2luR1VJKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBN4bufIGdpYW8gZGnhu4duIGNow61uaCBj4bunYSDhu6luZyBk4bulbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgb3Blbk1haW5HVUkoKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTG9hZCB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9meG1sL0JhbkhhbmdfZ3VpLmZ4bWxcIikpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgICAgICBzY2VuZS5nZXRTdHlsZXNoZWV0cygpLmFkZChBcHAuY2xhc3MuZ2V0UmVzb3VyY2UoXCIvc3R5bGVzL21lbnUuY3NzXCIpLnRvRXh0ZXJuYWxGb3JtKCkpO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIG5ldyBzY2VuZSBmb3IgdGhlIHN0YWdlXG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zZXRNYXhpbWl6ZWQodHJ1ZSk7XG4gICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIkjhu4cgdGjhu5FuZyBxdeG6o24gbMO9IGLDoW4gaMOgbmdcIik7XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIG1haW4gR1VJXG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJFcnJvciBsb2FkaW5nIEJhbkhhbmdfZ3VpLmZ4bWw6IFwiICsgZXguZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbi8vICAgICAgICAgICAgaWYgKGxvZ2luRnhtbFVybCA9PSBudWxsKSB7XG4vLyAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJMb2dpbl9ndWkuZnhtbCBub3QgZm91bmQhIFRyeWluZyB0byBvcGVuIEJhbkhhbmdfZ3VpLmZ4bWwgaW5zdGVhZC5cIik7XG4vLyAgICAgICAgICAgICAgICBvcGVuTWFpbkdVSSgpO1xuLy8gICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvYWQgZ2lhbyBkaeG7h24gxJHEg25nIG5o4bqtcFxuICAgICAgICAgICAgRlhNTExvYWRlciBmeG1sTG9hZGVyID0gbmV3IEZYTUxMb2FkZXIobG9naW5GeG1sVXJsKTtcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gZnhtbExvYWRlci5sb2FkKCk7XG5cbiAgICAgICAgICAgIC8vIFThuqFvIHNjZW5lIG3hu5tpXG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwixJDEg25nIG5o4bqtcFwiKTtcbiAgICAgICAgICAgIHN0YWdlLnNldE1heGltaXplZCh0cnVlKTtcblxuICAgICAgICAgICAgLy8gxJDhurd0IGvDrWNoIHRoxrDhu5tjIHbDoCB24buLIHRyw60gY+G7p2EgY+G7rWEgc+G7lVxuICAgICAgICAgICAgUmVjdGFuZ2xlMkQgcHJpbWFyeVNjcmVlbkJvdW5kcyA9IFNjcmVlbi5nZXRQcmltYXJ5KCkuZ2V0VmlzdWFsQm91bmRzKCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRYKChwcmltYXJ5U2NyZWVuQm91bmRzLmdldFdpZHRoKCkgLSByb290LnByZWZXaWR0aCgtMSkpIC8gMik7XG4gICAgICAgICAgICBzdGFnZS5zZXRZKChwcmltYXJ5U2NyZWVuQm91bmRzLmdldEhlaWdodCgpIC0gcm9vdC5wcmVmSGVpZ2h0KC0xKSkgLyAyKTtcblxuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGPhu61hIHPhu5VcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigxKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvZ2luIEdVSSBvcGVuZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIG9wZW5pbmcgTG9naW5fZ3VpLmZ4bWw6IFwiICsgZXguZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIGV4LnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTeG7nyBnaWFvIGRp4buHbiBxdcOqbiBt4bqtdCBraOG6qXVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgb3BlblF1ZW5NSygpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihBcHAuY2xhc3MuZ2V0UmVzb3VyY2UoXCIvZnhtbC9RdWVuTWF0S2hhdV9ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGZ4bWxMb2FkZXIubG9hZCgpO1xuICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCwgNjAwLCA0MDApO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCJRdcOqbiBt4bqtdCBraOG6qXVcIik7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgIH0gY2F0Y2ggKE51bGxQb2ludGVyRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJLaMO0bmcgdMOsbSB0aOG6pXkgZmlsZSBRdWVuTWF0S2hhdV9ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgLyoqXG4gICAgICogVGhheSDEkeG7lWkgcm9vdCBj4bunYSBzY2VuZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBzZXRSb290KFN0cmluZyBmeG1sKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbCArIFwiLmZ4bWxcIikpO1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJMb2FkaW5nIEZYTUw6IFwiICsgbG9hZGVyLmdldExvY2F0aW9uKCkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgUGFyZW50IG5ld1Jvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAgICAgICAgICAgaWYgKHByaW1hcnlTY2VuZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHByaW1hcnlTY2VuZS5zZXRSb290KG5ld1Jvb3QpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUocHJpbWFyeVNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNpemVUb1NjZW5lKCk7XG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGV4KSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJLaMO0bmcgdMOsbSB0aOG6pXkgZmlsZTogXCIgKyBmeG1sKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCBGWE1MIGZpbGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIFBhcmVudCBsb2FkRlhNTChTdHJpbmcgZnhtbCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgRlhNTExvYWRlciBmeG1sTG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sICsgXCIuZnhtbFwiKSk7XG4gICAgICAgIHJldHVybiBmeG1sTG9hZGVyLmxvYWQoKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAgICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZW51IHNsaWRlclxuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICogQHBhcmFtIHN1Yk1lbnVcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsVkJveCBzdWJNZW51KXtcbiAgICAgICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsc3ViTWVudSk7XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmFcbi4uLlxuXG5pbXBvcnQgaXVoLmZpdC5BcHA7XG5pbXBvcnQgaXVoLmZpdC5kYW9zLlNhblBoYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuU2FuUGhhbTtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkZhZGVUcmFuc2l0aW9uO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uSW50ZXJwb2xhdG9yO1xuaW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5SZWFkT25seVN0cmluZ1dyYXBwZXI7XG5pbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlNpbXBsZVN0cmluZ1Byb3BlcnR5O1xuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5PYnNlcnZhYmxlTGlzdDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5jZWxsLlByb3BlcnR5VmFsdWVGYWN0b3J5O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZVZpZXc7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0Lk1vdXNlRXZlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5QYW5lO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuVkJveDtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5pbXBvcnQgamF2YWZ4LnV0aWwuRHVyYXRpb247XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2JiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2JiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJT4bqjbiBwaOG6qW1cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjYmJfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9LaGFjaEhhbmdfY29udHJvbGxlci5qYXZhXG5wYWNrYWdlIGl1aC5maXQuY29udHJvbGxlcjtcblxuaW1wb3J0IGl1aC5maXQuZGFvcy5Ib2FEb25fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5LaGFjaEhhbmdfZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuSG9hRG9uO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuS2hhY2hIYW5nO1xuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuaW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5PYnNlcnZhYmxlTGlzdDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGouLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBMkFZS3lKWmdCbkFBdWs1M0RMU011In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkJhc2VkIG9uIG15IGFuYWx5c2lzIG9mIHRoZSBjb2RlYmFzZSwgSSBub3cgaGF2ZSBhIGdvb2QgdW5kZXJzdGFuZGluZyBvZiBob3cgdGhlIG5hdmlnYXRpb24gYmV0d2VlbiBpbnRlcmZhY2VzIHdvcmtzIGluIHlvdXIgcHJvamVjdC4gTGV0IG1lIGNyZWF0ZSBhIGRldGFpbGVkIHBsYW4gdG8gZml4IHRoZSBuYXZpZ2F0aW9uIGlzc3Vlcy5cblxuIyMgUGxhbiB0byBGaXggTmF2aWdhdGlvbiBCZXR3ZWVuIEludGVyZmFjZXNcblxuMS4gKipJZGVudGlmeSB0aGUgaXNzdWUqKjogVGhlIG5hdmlnYXRpb24gYmV0d2VlbiBpbnRlcmZhY2VzIGlzIGluY29uc2lzdGVudC4gU29tZSBjb250cm9sbGVycyB1c2UgYGxvYWRGWE1MKClgIG1ldGhvZCBkZWZpbmVkIGluIHRoZWlyIG93biBjbGFzcywgd2hpbGUgb3RoZXJzIHVzZSBgQXBwLnNldFJvb3QoKWAgb3IgZGlyZWN0IEZYTUxMb2FkZXIgY2FsbHMuXG5cbjIuICoqQ3JlYXRlIGEgY29uc2lzdGVudCBhcHByb2FjaCoqOiBJJ2xsIHN0YW5kYXJkaXplIHRoZSBuYXZpZ2F0aW9uIGJ5OlxuICAgLSBNYWtpbmcgc3VyZSBhbGwgY29udHJvbGxlcnMgdXNlIHRoZSBzYW1lIG1ldGhvZCBmb3IgbmF2aWdhdGlvblxuICAgLSBFbnN1cmluZyBhbGwgbmF2aWdhdGlvbiBtZXRob2RzIGFyZSBwcm9wZXJseSBpbXBsZW1lbnRlZFxuICAgLSBGaXhpbmcgYW55IG1pc3NpbmcgbmF2aWdhdGlvbiBsaW5rc1xuXG4zLiAqKkZpbGVzIHRvIG1vZGlmeSoqOlxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9TYW5QaGFtX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1RhaUtvYW5fY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfS2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0hvYURvbl9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9QaGlldU5oYXBfY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfTmhhblZpZW5fY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVGhvbmdLZURvYW5oVGh1X2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1Rob25nS2VTYW5QaGFtX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhYFxuICAgLSBgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YWBcbiAgIC0gYHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFgXG4gICAtIGBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmFgXG5cbkxldCBtZSBzdGFydCBieSBpbXBsZW1lbnRpbmcgdGhlIGNoYW5nZXM6XG5cbiMjIyAxLiBGaXJzdCwgbGV0J3MgZml4IHRoZSBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YSBmaWxlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjIwNzEwOTMzLWRkN2UtNDJiNS1iNmFiLWU2ZmQ4ZDRjMmQ4MyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRKYnNhUFFUa0F0Y0pBUlJ5eEdKUHUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBARlhNTFxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENodXlcXHUxZWMzbiBcXHUwMTExXFx1MWViZm4gZ2lhbyBkaVxcdTFlYzduIFRyYUN1dV9ndWkuZnhtbFxcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcXFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXFxcIikpO1xcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcXG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcXG5cXG4gICAgICAgICAgICAvLyBMXFx1MWVhNXkgc3RhZ2UgaGlcXHUxZWM3biB0XFx1MWVhMWlcXG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuXFxuICAgICAgICAgICAgLy8gVGhpXFx1MWViZnQgbFxcdTFlYWRwIHNjZW5lIG1cXHUxZWRiaVxcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcXFwiVHJhIGNcXHUxZWU5dSBzXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpO1xcblxcbiAgICAgICAgICAgIC8vIEhpXFx1MWVjM24gdGhcXHUxZWNiIHN0YWdlXFxuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcblxcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcXFwiQ2h1eVxcdTFlYzNuIFxcdTAxMTFcXHUxZWJmbiBnaWFvIGRpXFx1MWVjN24gdHJhIGNcXHUxZWU5dSB0aFxcdTAwZTBuaCBjXFx1MDBmNG5nXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXFxcIkxcXHUxZWQ3aVxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIHRyYSBjXFx1MWVlOXU6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuXFxuICAgICAgICAgICAgLy8gTlxcdTFlYmZ1IGtoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gdHJhIGNcXHUxZWU5dSwgaGlcXHUxZWMzbiB0aFxcdTFlY2IgZ2lhbyBkaVxcdTFlYzduIHRcXHUwMGVjbSBraVxcdTFlYmZtIHRyXFx1MDBlYW4gZ2lhbyBkaVxcdTFlYzduIGhpXFx1MWVjN24gdFxcdTFlYTFpXFxuICAgICAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XFxuICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XFxuXFxuICAgICAgICAgICAgLy8gSGlcXHUxZWMzbiB0aFxcdTFlY2IgZ2lhbyBkaVxcdTFlYzduIHRcXHUwMGVjbSBraVxcdTFlYmZtXFxuICAgICAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBARlhNTFxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vIENodXlcXHUxZWMzbiBcXHUwMTExXFx1MWViZm4gZ2lhbyBkaVxcdTFlYzduIHRyYSBjXFx1MWVlOXVcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XFxuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXFxcIkxcXHUxZWQ3aVxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIHRyYSBjXFx1MWVlOXU6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuXFxuICAgICAgICAgICAgLy8gTlxcdTFlYmZ1IGtoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gdHJhIGNcXHUxZWU5dSwgaGlcXHUxZWMzbiB0aFxcdTFlY2IgZ2lhbyBkaVxcdTFlYzduIHRcXHUwMGVjbSBraVxcdTFlYmZtIHRyXFx1MDBlYW4gZ2lhbyBkaVxcdTFlYzduIGhpXFx1MWVjN24gdFxcdTFlYTFpXFxuICAgICAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XFxuICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XFxuXFxuICAgICAgICAgICAgLy8gSGlcXHUxZWMzbiB0aFxcdTFlY2IgZ2lhbyBkaVxcdTFlYzduIHRcXHUwMGVjbSBraVxcdTFlYmZtXFxuICAgICAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0NDIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDcyfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgY2hlY2sgdGhlIGhhbmRsZVRpbUtpZW1DbGljayBtZXRob2QgaW4gQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGl1aC5maXQuY29udHJvbGxlcjtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgIDRcdGltcG9ydCBqYXZhLnRleHQuRGVjaW1hbEZvcm1hdDtcbiAgICAgNVx0aW1wb3J0IGphdmEudGV4dC5OdW1iZXJGb3JtYXQ7XG4gICAgIDZcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA3XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbiAgICAgOFx0aW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7XG4gICAgMTFcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMlx0aW1wb3J0IGphdmEudXRpbC5Mb2NhbGU7XG4gICAgMTNcdGltcG9ydCBqYXZhLnV0aWwuTWFwO1xuICAgIDE0XHRpbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xuICAgIDE1XHRcbiAgICAxNlx0aW1wb3J0IGl1aC5maXQuQXBwO1xuICAgIDE3XHRpbXBvcnQgaXVoLmZpdC5kYW9zLkNhTGFtX2RhbztcbiAgICAxOFx0aW1wb3J0IGl1aC5maXQuZGFvcy5DaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvO1xuICAgIDE5XHRpbXBvcnQgaXVoLmZpdC5kYW9zLkhvYURvbl9kYW87XG4gICAgMjBcdGltcG9ydCBpdWguZml0LmRhb3MuS2hhY2hIYW5nX2RhbztcbiAgICAyMVx0aW1wb3J0IGl1aC5maXQuZGFvcy5OaGFuVmllbl9kYW87XG4gICAgMjJcdGltcG9ydCBpdWguZml0LmRhb3MuU2FuUGhhbV9kYW87XG4gICAgMjNcdGltcG9ydCBpdWguZml0LmVudGl0aWVzLio7XG4gICAgMjRcdGltcG9ydCBpdWguZml0LmVudW1zLlBodW9uZ1RodWNUaGFuaFRvYW47XG4gICAgMjVcdGltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkZhZGVUcmFuc2l0aW9uO1xuICAgIDI2XHRpbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5JbnRlcnBvbGF0b3I7XG4gICAgMjdcdGltcG9ydCBqYXZhZnguYW5pbWF0aW9uLktleUZyYW1lO1xuICAgIDI4XHRpbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5UaW1lbGluZTtcbiAgICAyOVx0aW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuICAgIDMwXHRpbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuICAgIDMxXHRpbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuICAgIDMyXHRpbXBvcnQgamF2YWZ4LmV2ZW50LkV2ZW50SGFuZGxlcjtcbiAgICAzM1x0aW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG4gICAgMzRcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuICAgIDM1XHRpbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbiAgICAzNlx0aW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG4gICAgMzdcdGltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG4gICAgMzhcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuICAgIDM5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuICAgIDQwXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5Qcm9wZXJ0eVZhbHVlRmFjdG9yeTtcbiAgICA0MVx0aW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZVZpZXc7XG4gICAgNDJcdGltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuTW91c2VFdmVudDtcbiAgICA0M1x0aW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5LZXlFdmVudDtcbiAgICA0NFx0aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuQW5jaG9yUGFuZTtcbiAgICA0NVx0aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuR3JpZFBhbmU7XG4gICAgNDZcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG4gICAgNDdcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g7XG4gICAgNDhcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgNDlcdGltcG9ydCBqYXZhZngudXRpbC5EdXJhdGlvbjtcbiAgICA1MFx0XG4gICAgNTFcdFxuICAgIDUyXHRwdWJsaWMgY2xhc3MgQmFuSGFuZ19jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG4gICAgNTNcdFxuICAgIDU0XHQgICAgQEZYTUxcbiAgICA1NVx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViTWVudUxpc3Q7XG4gICAgNTZcdFxuICAgIDU3XHQgICAgQEZYTUxcbiAgICA1OFx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViVkJveDtcbiAgICA1OVx0XG4gICAgNjBcdCAgICBARlhNTFxuICAgIDYxXHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX3RoZW1TUDtcbiAgICA2Mlx0XG4gICAgNjNcdCAgICBARlhNTFxuICAgIDY0XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX0hvYURvbjtcbiAgICA2NVx0XG4gICAgNjZcdCAgICBARlhNTFxuICAgIDY3XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2dpb0hhbmc7XG4gICAgNjhcdFxuICAgIDY5XHQgICAgQEZYTUxcbiAgICA3MFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19ob2FEb247XG4gICAgNzFcdFxuICAgIDcyXHQgICAgQEZYTUxcbiAgICA3M1x0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19uaGFuVmllbjtcbiAgICA3NFx0XG4gICAgNzVcdCAgICBARlhNTFxuICAgIDc2XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3BoaWV1TmhhcDtcbiAgICA3N1x0XG4gICAgNzhcdCAgICBARlhNTFxuICAgIDc5XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3F1YW5MeTtcbiAgICA4MFx0XG4gICAgODFcdCAgICBARlhNTFxuICAgIDgyXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3NhblBoYW07XG4gICAgODNcdFxuICAgIDg0XHQgICAgQEZYTUxcbiAgICA4NVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjtcbiAgICA4Nlx0XG4gICAgODdcdCAgICBARlhNTFxuICAgIDg4XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2U7XG4gICAgODlcdFxuICAgIDkwXHQgICAgQEZYTUxcbiAgICA5MVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlRG9hbmhUaHU7XG4gICAgOTJcdFxuICAgIDkzXHQgICAgQEZYTUxcbiAgICA5NFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlU2FuUGhhbTtcbiAgICA5NVx0XG4gICAgOTZcdCAgICBARlhNTFxuICAgIDk3XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RpbUtpZW07XG4gICAgOThcdFxuICAgIDk5XHQgICAgQEZYTUxcbiAgIDEwMFx0ICAgIHByaXZhdGUgTGFiZWwgbGJfSG9hRG9uO1xuICAgMTAxXHRcbiAgIDEwMlx0ICAgIEBGWE1MXG4gICAxMDNcdCAgICBwcml2YXRlIExhYmVsIGxiX2dpb0hhbmc7XG4gICAxMDRcdFxuICAgMTA1XHQgICAgQEZYTUxcbiAgIDEwNlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfaG9hRG9uO1xuICAgMTA3XHRcbiAgIDEwOFx0ICAgIEBGWE1MXG4gICAxMDlcdCAgICBwcml2YXRlIExhYmVsIGxiX25nYXlMYXA7XG4gICAxMTBcdFxuICAgMTExXHQgICAgQEZYTUxcbiAgIDExMlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfbmhhblZpZW47XG4gICAxMTNcdFxuICAgMTE0XHQgICAgQEZYTUxcbiAgIDExNVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfcGhpZXVOaGFwO1xuICAgMTE2XHRcbiAgIDExN1x0ICAgIEBGWE1MXG4gICAxMThcdCAgICBwcml2YXRlIExhYmVsIGxiX3F1YW5MeTtcbiAgIDExOVx0XG4gICAxMjBcdCAgICBARlhNTFxuICAgMTIxXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9zYW5QaGFtO1xuICAgMTIyXHRcbiAgIDEyM1x0ICAgIEBGWE1MXG4gICAxMjRcdCAgICBwcml2YXRlIExhYmVsIGxiX3RhaUtob2FuO1xuICAgMTI1XHRcbiAgIDEyNlx0ICAgIEBGWE1MXG4gICAxMjdcdCAgICBwcml2YXRlIExhYmVsIGxiX3Rob2lHaWFuO1xuICAgMTI4XHRcbiAgIDEyOVx0ICAgIEBGWE1MXG4gICAxMzBcdCAgICBwcml2YXRlIExhYmVsIGxiX3RvbmdUaWVuO1xuICAgMTMxXHRcbiAgIDEzMlx0ICAgIEBGWE1MXG4gICAxMzNcdCAgICBwcml2YXRlIExhYmVsIGxiX3RvbmdUaGFuaFRvYW47XG4gICAxMzRcdFxuICAgMTM1XHQgICAgQEZYTUxcbiAgIDEzNlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfZ2lhbUdpYTtcbiAgIDEzN1x0XG4gICAxMzhcdCAgICBARlhNTFxuICAgMTM5XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90b25nU29TUDtcbiAgIDE0MFx0XG4gICAxNDFcdCAgICBARlhNTFxuICAgMTQyXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90b25nU0w7XG4gICAxNDNcdFxuICAgMTQ0XHQgICAgQEZYTUxcbiAgIDE0NVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGFtVGluaDtcbiAgIDE0Nlx0XG4gICAxNDdcdCAgICBARlhNTFxuICAgMTQ4XHQgICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X3RpZW5LaGFjaFRyYTtcbiAgIDE0OVx0XG4gICAxNTBcdCAgICBARlhNTFxuICAgMTUxXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aWVuVGh1YTtcbiAgIDE1Mlx0XG4gICAxNTNcdCAgICBARlhNTFxuICAgMTU0XHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX3RoYW5oVG9hbjtcbiAgIDE1NVx0XG4gICAxNTZcdCAgICBARlhNTFxuICAgMTU3XHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX2FwRHVuZ01hO1xuICAgMTU4XHRcbiAgIDE1OVx0ICAgIEBGWE1MXG4gICAxNjBcdCAgICBwcml2YXRlIEJ1dHRvbiBidG5fZGFuZ1h1YXQ7XG4gICAxNjFcdFxuICAgMTYyXHQgICAgQEZYTUxcbiAgIDE2M1x0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9tYUdpYW1HaWE7XG4gICAxNjRcdFxuICAgMTY1XHQgICAgQEZYTUxcbiAgIDE2Nlx0ICAgIHByaXZhdGUgVGV4dEFyZWEgdGFfZ2hpQ2h1O1xuICAgMTY3XHRcbiAgIDE2OFx0ICAgIEBGWE1MXG4gICAxNjlcdCAgICBwcml2YXRlIFJhZGlvQnV0dG9uIHJiX3RpZW5NYXQ7XG4gICAxNzBcdFxuICAgMTcxXHQgICAgQEZYTUxcbiAgIDE3Mlx0ICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfY2h1eWVuS2hvYW47XG4gICAxNzNcdFxuICAgMTc0XHQgICAgQEZYTUxcbiAgIDE3NVx0ICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfdGhlO1xuICAgMTc2XHRcbiAgIDE3N1x0ICAgIEBGWE1MXG4gICAxNzhcdCAgICBwcml2YXRlIFRvZ2dsZUdyb3VwIHBodW9uZ1RodWNUVDtcbiAgIDE3OVx0XG4gICAxODBcdCAgICBARlhNTFxuICAgMTgxXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlO1xuICAgMTgyXHRcbiAgIDE4M1x0ICAgIEBGWE1MXG4gICAxODRcdCAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VEb2FuaFRodTtcbiAgIDE4NVx0XG4gICAxODZcdCAgICBARlhNTFxuICAgMTg3XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlU2FuUGhhbTtcbiAgIDE4OFx0XG4gICAxODlcdCAgICBARlhNTFxuICAgMTkwXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aW1LaWVtO1xuICAgMTkxXHRcbiAgIDE5Mlx0ICAgIEBGWE1MXG4gICAxOTNcdCAgICBwcml2YXRlIFBhbmUgcF9Ib2FEb247XG4gICAxOTRcdFxuICAgMTk1XHQgICAgQEZYTUxcbiAgIDE5Nlx0ICAgIHByaXZhdGUgUGFuZSBwX2dpb0hhbmc7XG4gICAxOTdcdFxuICAgMTk4XHQgICAgQEZYTUxcbiAgIDE5OVx0ICAgIHByaXZhdGUgUGFuZSBwX2hvYURvbjtcbiAgIDIwMFx0XG4gICAyMDFcdCAgICBARlhNTFxuICAgMjAyXHQgICAgcHJpdmF0ZSBQYW5lIHBfbmhhblZpZW47XG4gICAyMDNcdFxuICAgMjA0XHQgICAgQEZYTUxcbiAgIDIwNVx0ICAgIHByaXZhdGUgUGFuZSBwX3BoaWV1TmhhcDtcbiAgIDIwNlx0XG4gICAyMDdcdCAgICBARlhNTFxuICAgMjA4XHQgICAgcHJpdmF0ZSBQYW5lIHBfcXVhbkx5O1xuICAgMjA5XHRcbiAgIDIxMFx0ICAgIEBGWE1MXG4gICAyMTFcdCAgICBwcml2YXRlIFBhbmUgcF9zYW5QaGFtO1xuICAgMjEyXHRcbiAgIDIxM1x0ICAgIEBGWE1MXG4gICAyMTRcdCAgICBwcml2YXRlIFBhbmUgcF90YWlLaG9hbjtcbiAgIDIxNVx0XG4gICAyMTZcdCAgICBARlhNTFxuICAgMjE3XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZTtcbiAgIDIxOFx0XG4gICAyMTlcdCAgICBARlhNTFxuICAgMjIwXHQgICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZURvYW5oVGh1O1xuICAgMjIxXHRcbiAgIDIyMlx0ICAgIEBGWE1MXG4gICAyMjNcdCAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlU2FuUGhhbTtcbiAgIDIyNFx0XG4gICAyMjVcdCAgICBARlhNTFxuICAgMjI2XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGltS2llbTtcbiAgIDIyN1x0XG4gICAyMjhcdCAgICBARlhNTFxuICAgMjI5XHQgICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1Yk1lbnVMaXN0O1xuICAgMjMwXHRcbiAgIDIzMVx0ICAgIEBGWE1MXG4gICAyMzJcdCAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViVkJveDtcbiAgIDIzM1x0XG4gICAyMzRcdCAgICBARlhNTFxuICAgMjM1XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTYW5QaGFtLCBEb3VibGU+IHRjRG9uR2lhO1xuICAgMjM2XHRcbiAgIDIzN1x0ICAgIEBGWE1MXG4gICAyMzhcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIFN0cmluZz4gdGNNYVNQO1xuICAgMjM5XHRcbiAgIDI0MFx0ICAgIEBGWE1MXG4gICAyNDFcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIEludGVnZXI+IHRjU1RUO1xuICAgMjQyXHRcbiAgIDI0M1x0ICAgIEBGWE1MXG4gICAyNDRcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIEludGVnZXI+IHRjU29MdW9uZztcbiAgIDI0NVx0XG4gICAyNDZcdCAgICBARlhNTFxuICAgMjQ3XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTYW5QaGFtLCBTdHJpbmc+IHRjVGVuU1A7XG4gICAyNDhcdFxuICAgMjQ5XHQgICAgQEZYTUxcbiAgIDI1MFx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48U2FuUGhhbSwgRG91YmxlPiB0Y1RoYW5oVGllbjtcbiAgIDI1MVx0XG4gICAyNTJcdCAgICBARlhNTFxuICAgMjUzXHQgICAgcHJpdmF0ZSBUYWJsZVZpZXc8U2FuUGhhbT4gdGFibGVWaWV3O1xuICAgMjU0XHRcbiAgIDI1NVx0ICAgIEBGWE1MXG4gICAyNTZcdCAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfdGltS2llbTtcbiAgIDI1N1x0XG4gICAyNThcdCAgICBARlhNTFxuICAgMjU5XHQgICAgcHJpdmF0ZSBWQm94IHRob25nS2VTdWJNZW51TGlzdDtcbiAgIDI2MFx0XG4gICAyNjFcdCAgICBARlhNTFxuICAgMjYyXHQgICAgcHJpdmF0ZSBWQm94IHRob25nS2VTdWJWQm94O1xuICAgMjYzXHRcbiAgIDI2NFx0ICAgIEBGWE1MXG4gICAyNjVcdCAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1Yk1lbnVMaXN0O1xuICAgMjY2XHRcbiAgIDI2N1x0ICAgIEBGWE1MXG4gICAyNjhcdCAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1YlZCb3g7XG4gICAyNjlcdFxuICAgMjcwXHQgICAgQEZYTUxcbiAgIDI3MVx0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9uaGFwTWE7XG4gICAyNzJcdFxuICAgMjczXHQgICAgQEZYTUxcbiAgIDI3NFx0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9uaGFwU0w7XG4gICAyNzVcdFxuICAgMjc2XHQgICAgQEZYTUxcbiAgIDI3N1x0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9zZHQ7XG4gICAyNzhcdFxuICAgMjc5XHQgICAgQEZYTUxcbiAgIDI4MFx0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF90ZW5LSDtcbiAgIDI4MVx0XG4gICAyODJcdCAgICBARlhNTFxuICAgMjgzXHQgICAgcHJpdmF0ZSBWQm94IHZCb3g7XG4gICAyODRcdFxuICAgMjg1XHQgICAgQEZYTUxcbiAgIDI4Nlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfY2h1Y1Z1O1xuICAgMjg3XHRcbiAgIDI4OFx0ICAgIEBGWE1MXG4gICAyODlcdCAgICBwcml2YXRlIExhYmVsIGxiX3Rlbk5WO1xuICAgMjkwXHQgICAgQEZYTUxcbiAgIDI5MVx0ICAgIHByaXZhdGUgQ29tYm9Cb3g8Pz4gY2Jfbmdhbkhhbmc7XG4gICAyOTJcdFxuICAgMjkzXHQgICAgQEZYTUxcbiAgIDI5NFx0ICAgIHByaXZhdGUgR3JpZFBhbmUgZ3JpZF9jaHV5ZW5LaG9hbjtcbiAgIDI5NVx0XG4gICAyOTZcdCAgICBARlhNTFxuICAgMjk3XHQgICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX3RoZTtcbiAgIDI5OFx0XG4gICAyOTlcdCAgICBARlhNTFxuICAgMzAwXHQgICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX3RpZW5NYXQ7XG4gICAzMDFcdFxuICAgMzAyXHQgICAgTWFwPFZCb3gsVkJveD4gbWFwID0gbmV3IEhhc2hNYXA8VkJveCxWQm94PigpO1xuICAgMzAzXHRcbiAgIDMwNFx0ICAgIC8vIERBTyDEkeG7gyB0cnV5IHh14bqldCBk4buvIGxp4buHdVxuICAgMzA1XHQgICAgcHJpdmF0ZSBTYW5QaGFtX2RhbyBzYW5QaGFtRGFvO1xuICAgMzA2XHQgICAgcHJpdmF0ZSBIb2FEb25fZGFvIGhvYURvbkRhbztcbiAgIDMwN1x0ICAgIHByaXZhdGUgS2hhY2hIYW5nX2RhbyBraGFjaEhhbmdEYW87XG4gICAzMDhcdCAgICBwcml2YXRlIENoaVRpZXRIb2FEb25fU2FuUGhhbV9kYW8gY2hpVGlldEhvYURvbkRhbztcbiAgIDMwOVx0ICAgIHByaXZhdGUgQ2FMYW1fZGFvIGNhTGFtRGFvO1xuICAgMzEwXHQgICAgcHJpdmF0ZSBOaGFuVmllbl9kYW8gbmhhblZpZW5EYW87XG4gICAzMTFcdFxuICAgMzEyXHQgICAgLy8gRGFuaCBzw6FjaCBjw6FjIHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZ1xuICAgMzEzXHQgICAgcHJpdmF0ZSBPYnNlcnZhYmxlTGlzdDxTYW5QaGFtPiBjYXJ0SXRlbXM7XG4gICAzMTRcdFxuICAgMzE1XHQgICAgLy8gU+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgIDMxNlx0ICAgIHByaXZhdGUgTWFwPFN0cmluZywgSW50ZWdlcj4gcHJvZHVjdFF1YW50aXRpZXMgPSBuZXcgSGFzaE1hcDw+KCk7XG4gICAzMTdcdFxuICAgMzE4XHQgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgMzE5XHQgICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIERBT1xuICAgMzIwXHQgICAgICAgIHNhblBoYW1EYW8gPSBuZXcgU2FuUGhhbV9kYW8oKTtcbiAgIDMyMVx0ICAgICAgICBob2FEb25EYW8gPSBuZXcgSG9hRG9uX2RhbygpO1xuICAgMzIyXHQgICAgICAgIGtoYWNoSGFuZ0RhbyA9IG5ldyBLaGFjaEhhbmdfZGFvKCk7XG4gICAzMjNcdCAgICAgICAgY2hpVGlldEhvYURvbkRhbyA9IG5ldyBDaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvKCk7XG4gICAzMjRcdCAgICAgICAgY2FMYW1EYW8gPSBuZXcgQ2FMYW1fZGFvKCk7XG4gICAzMjVcdCAgICAgICAgbmhhblZpZW5EYW8gPSBuZXcgTmhhblZpZW5fZGFvKCk7XG4gICAzMjZcdFxuICAgMzI3XHQgICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIG1lbnVcbiAgIDMyOFx0ICAgICAgICBhZGRNZW51c1RvTWFwKCk7XG4gICAzMjlcdFxuICAgMzMwXHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyBuZ8OgeSB2w6AgdGjhu51pIGdpYW4gaGnhu4duIHThuqFpXG4gICAzMzFcdCAgICAgICAgZGlzcGxheUN1cnJlbnREYXRlVGltZSgpO1xuICAgMzMyXHRcbiAgIDMzM1x0ICAgICAgICAvLyBLaOG7n2kgdOG6oW8gYuG6o25nIGdp4buPIGjDoG5nXG4gICAzMzRcdCAgICAgICAgaW5pdGlhbGl6ZVRhYmxlKCk7XG4gICAzMzVcdFxuICAgMzM2XHQgICAgICAgIC8vIEto4bufaSB04bqhbyB0aMO0bmcgdGluIGjDs2EgxJHGoW5cbiAgIDMzN1x0ICAgICAgICBpbml0aWFsaXplSW52b2ljZUluZm8oKTtcbiAgIDMzOFx0XG4gICAzMzlcdCAgICAgICAgLy8gS2jhu59pIHThuqFvIHThu5VuZyB0aeG7gW5cbiAgIDM0MFx0ICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAgMzQxXHRcbiAgIDM0Mlx0ICAgICAgICAvLyBLaOG7n2kgdOG6oW8gdGjDtG5nIHRpbiBuaMOibiB2acOqblxuICAgMzQzXHQgICAgICAgIGluaXRpYWxpemVOaGFuVmllbigpO1xuICAgMzQ0XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihBcHAudXNlcik7XG4gICAzNDVcdFxuICAgMzQ2XHQgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24gY2hvIGPDoWMgdGjDoG5oIHBo4bqnbiB0cm9uZyBQYW5lIHRow7RuZyB0aW4gxJHGoW4gaMOgbmdcbiAgIDM0N1x0ICAgICAgICBzZXR1cEludm9pY2VFdmVudHMoKTtcbiAgIDM0OFx0ICAgIH1cbiAgIDM0OVx0XG4gICAzNTBcdCAgICAvKipcbiAgIDM1MVx0ICAgICAqIEFkZCBNZW51cyB0byBtYXBcbiAgIDM1Mlx0ICAgICAqL1xuICAgMzUzXHQgICAgcHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgIDM1NFx0ICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgMzU1XHQgICAgfVxuICAgMzU2XHRcbiAgIDM1N1x0ICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgIDM1OFx0ICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgMzU5XHQgICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgMzYwXHQgICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAzNjFcdCAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgMzYyXHRcbiAgIDM2M1x0ICAgICAgICAvKipcbiAgIDM2NFx0ICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgIDM2NVx0ICAgICAgICAgKi9cbiAgIDM2Nlx0ICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgIDM2N1x0ICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAzNjhcdCAgICAgICAgfVxuICAgMzY5XHQgICAgfVxuICAgMzcwXHQgICAgLyoqXG4gICAzNzFcdCAgICAgKiBNZW51IHNsaWRlclxuICAgMzcyXHQgICAgICogQHBhcmFtIG1lbnVcbiAgIDM3M1x0ICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAzNzRcdCAgICAgKi9cbiAgIDM3NVx0ICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgMzc2XHQgICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LHN1Yk1lbnUpO1xuICAgMzc3XHQgICAgfVxuICAgMzc4XHRcbiAgIDM3OVx0ICAgIHByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LFZCb3ggc3ViTWVudSkge1xuICAgMzgwXHQgICAgICAgIGlmKG1lbnUuZ2V0Q2hpbGRyZW4oKS5jb250YWlucyhzdWJNZW51KSl7XG4gICAzODFcdCAgICAgICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgMzgyXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgMzgzXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAzODRcdCAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgIDM4NVx0ICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLnJlbW92ZShzdWJNZW51KTtcbiAgIDM4Nlx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAzODdcdCAgICAgICAgfWVsc2V7XG4gICAzODhcdCAgICAgICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgMzg5XHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgMzkwXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAzOTFcdCAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgIDM5Mlx0ICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLmFkZChzdWJNZW51KTtcbiAgIDM5M1x0ICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAzOTRcdCAgICAgICAgfVxuICAgMzk1XHQgICAgfVxuICAgMzk2XHQgICAgLyoqXG4gICAzOTdcdCAgICAgKiBSZW1vdmUgb3RoZXIgbWVudXNcbiAgIDM5OFx0ICAgICAqIEBwYXJhbSBtZW51XG4gICAzOTlcdCAgICAgKi9cbiAgIDQwMFx0ICAgIHB1YmxpYyB2b2lkIHJlbW92ZU90aGVyTWVudXMoVkJveCBtZW51KXtcbiAgIDQwMVx0ICAgICAgICByZW1vdmVPdGhlck1lbnVzSW1wbChtZW51KTtcbiAgIDQwMlx0ICAgIH1cbiAgIDQwM1x0ICAgIHByaXZhdGUgdm9pZCByZW1vdmVPdGhlck1lbnVzSW1wbChWQm94IG1lbnUpIHtcbiAgIDQwNFx0ICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgIDQwNVx0ICAgICAgICAgICAgaWYoIWVudHJ5LmdldEtleSgpLmVxdWFscyhtZW51KSlcbiAgIDQwNlx0ICAgICAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgNDA3XHQgICAgICAgIH1cbiAgIDQwOFx0ICAgIH1cbiAgIDQwOVx0XG4gICA0MTBcdCAgICBARlhNTFxuICAgNDExXHQgICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgNDEyXHQgICAgICAgIHRyeSB7XG4gICA0MTNcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBtZW51IGLDoW4gaMOgbmdcbiAgIDQxNFx0ICAgICAgICAgICAgaWYgKGJhbkhhbmdTdWJWQm94ICE9IG51bGwgJiYgYmFuSGFuZ1N1Yk1lbnVMaXN0ICE9IG51bGwpIHtcbiAgIDQxNVx0ICAgICAgICAgICAgICAgIHRvb2xzU2xpZGVyKGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgNDE2XHQgICAgICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhiYW5IYW5nU3ViVkJveCk7XG4gICA0MTdcdCAgICAgICAgICAgIH1cbiAgIDQxOFx0XG4gICA0MTlcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIGNow61uaFxuICAgNDIwXHQgICAgICAgICAgICBzaG93TWFpblNhbGVzSW50ZXJmYWNlKCk7XG4gICA0MjFcdFxuICAgNDIyXHQgICAgICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICA0MjNcdCAgICAgICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICA0MjRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQyNVx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDQyNlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDQyN1x0ICAgICAgICB9XG4gICA0MjhcdCAgICB9XG4gICA0MjlcdFxuICAgNDMwXHQgICAgQEZYTUxcbiAgIDQzMVx0ICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgNDMyXHQgICAgICAgIHRvb2xzU2xpZGVyKHF1YW5MeVN1YlZCb3gscXVhbkx5U3ViTWVudUxpc3QpO1xuICAgNDMzXHQgICAgICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG4gICA0MzRcdCAgICB9XG4gICA0MzVcdFxuICAgNDM2XHQgICAgQEZYTUxcbiAgIDQzN1x0ICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQzOFx0ICAgICAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgNDM5XHQgICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgNDQwXHQgICAgfVxuICAgNDQxXHRcbiAgIDQ0Mlx0ICAgIEBGWE1MXG4gICA0NDNcdCAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NDRcdCAgICAgICAgdHJ5IHtcbiAgIDQ0NVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIFRyYUN1dV9ndWkuZnhtbFxuICAgNDQ2XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIikpO1xuICAgNDQ3XHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICA0NDhcdCAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgNDQ5XHRcbiAgIDQ1MFx0ICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gICA0NTFcdCAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDQ1Mlx0XG4gICA0NTNcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgIDQ1NFx0ICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgNDU1XHQgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIlRyYSBj4bupdSBz4bqjbiBwaOG6qW1cIik7XG4gICA0NTZcdFxuICAgNDU3XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgIDQ1OFx0ICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDU5XHRcbiAgIDQ2MFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdSB0aMOgbmggY8O0bmdcIik7XG4gICA0NjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ2Mlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDQ2M1x0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICA0NjRcdFxuICAgNDY1XHQgICAgICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgIDQ2Nlx0ICAgICAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICA0NjdcdCAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuICAgNDY4XHRcbiAgIDQ2OVx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICA0NzBcdCAgICAgICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgIDQ3MVx0ICAgICAgICB9XG4gICA0NzJcdCAgICB9XG4gICA0NzNcdFxuICAgNDc0XHQgICAgQEZYTUxcbiAgIDQ3NVx0ICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NzZcdCAgICAgICAgdHJ5IHtcbiAgIDQ3N1x0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgNDc4XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgIDQ3OVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDgwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNDgxXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgIDQ4Mlx0ICAgICAgICB9XG4gICA0ODNcdCAgICB9XG4gICA0ODRcdFxuICAgNDg1XHQgICAgQEZYTUxcbiAgIDQ4Nlx0ICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0ODdcdCAgICAgICAgdHJ5IHtcbiAgIDQ4OFx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG4gICA0ODlcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgNDkwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0OTFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA0OTJcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICA0OTNcdCAgICAgICAgfVxuICAgNDk0XHQgICAgfVxuICAgNDk1XHRcbiAgIDQ5Nlx0ICAgIEBGWE1MXG4gICA0OTdcdCAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0OThcdCAgICAgICAgdHJ5IHtcbiAgIDQ5OVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbiAgIDUwMFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgIDUwMVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTAyXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTAzXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICA1MDRcdCAgICAgICAgfVxuICAgNTA1XHQgICAgfVxuICAgNTA2XHRcbiAgIDUwN1x0ICAgIEBGWE1MXG4gICA1MDhcdCAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgNTA5XHQgICAgICAgIHRyeSB7XG4gICA1MTBcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICA1MTFcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgNTEyXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MTNcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA1MTRcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgIDUxNVx0ICAgICAgICB9XG4gICA1MTZcdCAgICB9XG4gICA1MTdcdFxuICAgNTE4XHQgICAgQEZYTUxcbiAgIDUxOVx0ICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNTIwXHQgICAgICAgIHRyeSB7XG4gICA1MjFcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgNTIyXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1MjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUyNFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDUyNVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgIDUyNlx0ICAgICAgICB9XG4gICA1MjdcdCAgICB9XG4gICA1MjhcdFxuICAgNTI5XHQgICAgQEZYTUxcbiAgIDUzMFx0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUzMVx0ICAgICAgICB0cnkge1xuICAgNTMyXHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbiAgIDUzM1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgIDUzNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTM1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTM2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgNTM3XHQgICAgICAgIH1cbiAgIDUzOFx0ICAgIH1cbiAgIDUzOVx0XG4gICA1NDBcdCAgICBARlhNTFxuICAgNTQxXHQgICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgNTQyXHQgICAgICAgIHRyeSB7XG4gICA1NDNcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgIDU0NFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICA1NDVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU0Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDU0N1x0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodSFcIik7XG4gICA1NDhcdCAgICAgICAgfVxuICAgNTQ5XHQgICAgfVxuICAgNTUwXHRcbiAgIDU1MVx0ICAgIEBGWE1MXG4gICA1NTJcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU1M1x0ICAgICAgICB0cnkge1xuICAgNTU0XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICA1NTVcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1NTZcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU1N1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDU1OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICA1NTlcdCAgICAgICAgfVxuICAgNTYwXHQgICAgfVxuICAgNTYxXHRcbiAgIDU2Mlx0ICAgIEBGWE1MXG4gICA1NjNcdCAgICB2b2lkIHRoZW1TYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU2NFx0ICAgICAgICAvLyBM4bqleSBtw6Mgc+G6o24gcGjhuqltIHbDoCBz4buRIGzGsOG7o25nIHThu6sgY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgNTY1XHQgICAgICAgIFN0cmluZyBtYVNQID0gdHh0X25oYXBNYS5nZXRUZXh0KCkudHJpbSgpO1xuICAgNTY2XHQgICAgICAgIFN0cmluZyBzb0x1b25nU3RyID0gdHh0X25oYXBTTC5nZXRUZXh0KCkudHJpbSgpO1xuICAgNTY3XHRcbiAgIDU2OFx0ICAgICAgICAvLyBLaeG7g20gdHJhIGThu68gbGnhu4d1IG5o4bqtcCB2w6BvXG4gICA1NjlcdCAgICAgICAgaWYgKG1hU1AuaXNFbXB0eSgpKSB7XG4gICA1NzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJUaMO0bmcgYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgbcOjIHPhuqNuIHBo4bqpbSFcIik7XG4gICA1NzFcdCAgICAgICAgICAgIHR4dF9uaGFwTWEucmVxdWVzdEZvY3VzKCk7XG4gICA1NzJcdCAgICAgICAgICAgIHJldHVybjtcbiAgIDU3M1x0ICAgICAgICB9XG4gICA1NzRcdFxuICAgNTc1XHQgICAgICAgIGlmIChzb0x1b25nU3RyLmlzRW1wdHkoKSkge1xuICAgNTc2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIHPhu5EgbMaw4bujbmchXCIpO1xuICAgNTc3XHQgICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgNTc4XHQgICAgICAgICAgICByZXR1cm47XG4gICA1NzlcdCAgICAgICAgfVxuICAgNTgwXHRcbiAgIDU4MVx0ICAgICAgICB0cnkge1xuICAgNTgyXHQgICAgICAgICAgICBpbnQgc29MdW9uZyA9IEludGVnZXIucGFyc2VJbnQoc29MdW9uZ1N0cik7XG4gICA1ODNcdCAgICAgICAgICAgIGlmIChzb0x1b25nIDw9IDApIHtcbiAgIDU4NFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJUaMO0bmcgYsOhb1wiLCBcIlPhu5EgbMaw4bujbmcgcGjhuqNpIGzhu5tuIGjGoW4gMCFcIik7XG4gICA1ODVcdCAgICAgICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgNTg2XHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgNTg3XHQgICAgICAgICAgICB9XG4gICA1ODhcdFxuICAgNTg5XHQgICAgICAgICAgICAvLyBUw6xtIGtp4bq/bSBz4bqjbiBwaOG6qW0gdGhlbyBtw6MgdsOgIHRow6ptIHbDoG8gZ2nhu48gaMOgbmdcbiAgIDU5MFx0ICAgICAgICAgICAgYWRkUHJvZHVjdFRvQ2FydChtYVNQLCBzb0x1b25nKTtcbiAgIDU5MVx0XG4gICA1OTJcdCAgICAgICAgICAgIC8vIFjDs2EgZOG7ryBsaeG7h3UgdHJvbmcgY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgNTkzXHQgICAgICAgICAgICB0eHRfbmhhcE1hLmNsZWFyKCk7XG4gICA1OTRcdCAgICAgICAgICAgIHR4dF9uaGFwU0wuY2xlYXIoKTtcbiAgIDU5NVx0ICAgICAgICAgICAgdHh0X25oYXBNYS5yZXF1ZXN0Rm9jdXMoKTtcbiAgIDU5Nlx0XG4gICA1OTdcdCAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGUpIHtcbiAgIDU5OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIlPhu5EgbMaw4bujbmcgcGjhuqNpIGzDoCBz4buRIG5ndXnDqm4hXCIpO1xuICAgNTk5XHQgICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgNjAwXHQgICAgICAgIH1cbiAgIDYwMVx0ICAgIH1cbiAgIDYwMlx0XG4gICA2MDNcdCAgICAvKipcbiAgIDYwNFx0ICAgICAqIEhp4buDbiB0aOG7iyBuZ8OgeSB2w6AgdGjhu51pIGdpYW4gaGnhu4duIHThuqFpXG4gICA2MDVcdCAgICAgKi9cbiAgIDYwNlx0ICAgIHByaXZhdGUgdm9pZCBkaXNwbGF5Q3VycmVudERhdGVUaW1lKCkge1xuICAgNjA3XHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyBuZ8OgeSBoaeG7h24gdOG6oWlcbiAgIDYwOFx0ICAgICAgICBMb2NhbERhdGUgY3VycmVudERhdGUgPSBMb2NhbERhdGUubm93KCk7XG4gICA2MDlcdCAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZGF0ZUZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXlcIik7XG4gICA2MTBcdCAgICAgICAgbGJfbmdheUxhcC5zZXRUZXh0KGN1cnJlbnREYXRlLmZvcm1hdChkYXRlRm9ybWF0dGVyKSk7XG4gICA2MTFcdFxuICAgNjEyXHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyB2w6AgY+G6rXAgbmjhuq10IHRo4budaSBnaWFuIGhp4buHbiB04bqhaSBt4buXaSBnacOieVxuICAgNjEzXHQgICAgICAgIFRpbWVsaW5lIGNsb2NrID0gbmV3IFRpbWVsaW5lKG5ldyBLZXlGcmFtZShEdXJhdGlvbi5aRVJPLCBlIC0+IHtcbiAgIDYxNFx0ICAgICAgICAgICAgTG9jYWxUaW1lIGN1cnJlbnRUaW1lID0gTG9jYWxUaW1lLm5vdygpO1xuICAgNjE1XHQgICAgICAgICAgICBEYXRlVGltZUZvcm1hdHRlciB0aW1lRm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW06c3NcIik7XG4gICA2MTZcdCAgICAgICAgICAgIGxiX3Rob2lHaWFuLnNldFRleHQoY3VycmVudFRpbWUuZm9ybWF0KHRpbWVGb3JtYXR0ZXIpKTtcbiAgIDYxN1x0ICAgICAgICB9KSwgbmV3IEtleUZyYW1lKER1cmF0aW9uLnNlY29uZHMoMSkpKTtcbiAgIDYxOFx0XG4gICA2MTlcdCAgICAgICAgY2xvY2suc2V0Q3ljbGVDb3VudChUaW1lbGluZS5JTkRFRklOSVRFKTtcbiAgIDYyMFx0ICAgICAgICBjbG9jay5wbGF5KCk7XG4gICA2MjFcdCAgICB9XG4gICA2MjJcdFxuICAgNjIzXHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVOaGFuVmllbigpIHtcbiAgIDYyNFx0ICAgICAgICB0cnkge1xuICAgNjI1XHQgICAgICAgICAgICBUYWlLaG9hbiB0YWlLaG9hbiA9IEFwcC50YWlLaG9hbjtcbiAgIDYyNlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRhaUtob2FuKTtcbiAgIDYyN1x0ICAgICAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSB0YWlLaG9hbi5nZXROaGFuVmllbigpO1xuICAgNjI4XHQgICAgICAgICAgICBsYl90ZW5OVi5zZXRUZXh0KG5oYW5WaWVuLmdldFRlbk5WKCkpO1xuICAgNjI5XHQgICAgICAgICAgICBsYl9jaHVjVnUuc2V0VGV4dChuaGFuVmllbi5nZXRDaHVjVnUoKS50b1N0cmluZygpKTtcbiAgIDYzMFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNjMxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNjMyXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIGzhuqV5IHRow7RuZyB0aW4gbmjDom4gdmnDqm46IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgNjMzXHQgICAgICAgIH1cbiAgIDYzNFx0ICAgIH1cbiAgIDYzNVx0XG4gICA2MzZcdCAgICAvKipcbiAgIDYzN1x0ICAgICAqIEto4bufaSB04bqhbyB0aMO0bmcgdGluIGjDs2EgxJHGoW5cbiAgIDYzOFx0ICAgICAqL1xuICAgNjM5XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVJbnZvaWNlSW5mbygpIHtcbiAgIDY0MFx0ICAgICAgICB0cnkge1xuICAgNjQxXHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbmfDoHkgbOG6rXAgaMOzYSDEkcahblxuICAgNjQyXHQgICAgICAgICAgICBpZiAobGJfbmdheUxhcCAhPSBudWxsKSB7XG4gICA2NDNcdCAgICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJkZC9NTS95eXl5XCIpO1xuICAgNjQ0XHQgICAgICAgICAgICAgICAgbGJfbmdheUxhcC5zZXRUZXh0KExvY2FsRGF0ZS5ub3coKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICA2NDVcdCAgICAgICAgICAgIH1cbiAgIDY0Nlx0XG4gICA2NDdcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgZ2nDoSB0cuG7iyBt4bq3YyDEkeG7i25oIGNobyBjw6FjIHRyxrDhu51uZ1xuICAgNjQ4XHQgICAgICAgICAgICBpZiAobGJfZ2lhbUdpYSAhPSBudWxsKSB7XG4gICA2NDlcdCAgICAgICAgICAgICAgICBsYl9naWFtR2lhLnNldFRleHQoXCIwIFZOxJBcIik7XG4gICA2NTBcdCAgICAgICAgICAgIH1cbiAgIDY1MVx0XG4gICA2NTJcdCAgICAgICAgICAgIGlmIChsYl90b25nVGhhbmhUb2FuICE9IG51bGwpIHtcbiAgIDY1M1x0ICAgICAgICAgICAgICAgIGxiX3RvbmdUaGFuaFRvYW4uc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgIDY1NFx0ICAgICAgICAgICAgfVxuICAgNjU1XHRcbiAgIDY1Nlx0ICAgICAgICAgICAgaWYgKGxiX3RvbmdTb1NQICE9IG51bGwpIHtcbiAgIDY1N1x0ICAgICAgICAgICAgICAgIGxiX3RvbmdTb1NQLnNldFRleHQoXCIwXCIpO1xuICAgNjU4XHQgICAgICAgICAgICB9XG4gICA2NTlcdFxuICAgNjYwXHQgICAgICAgICAgICBpZiAobGJfdG9uZ1NMICE9IG51bGwpIHtcbiAgIDY2MVx0ICAgICAgICAgICAgICAgIGxiX3RvbmdTTC5zZXRUZXh0KFwiMFwiKTtcbiAgIDY2Mlx0ICAgICAgICAgICAgfVxuICAgNjYzXHRcbiAgIDY2NFx0ICAgICAgICAgICAgaWYgKGxiX3RhbVRpbmggIT0gbnVsbCkge1xuICAgNjY1XHQgICAgICAgICAgICAgICAgbGJfdGFtVGluaC5zZXRUZXh0KFwiMCBWTsSQXCIpO1xuICAgNjY2XHQgICAgICAgICAgICB9XG4gICA2NjdcdFxuICAgNjY4XHQgICAgICAgICAgICBpZiAodHh0X21hR2lhbUdpYSAhPSBudWxsKSB7XG4gICA2NjlcdCAgICAgICAgICAgICAgICB0eHRfbWFHaWFtR2lhLnNldFRleHQoXCJcIik7XG4gICA2NzBcdCAgICAgICAgICAgIH1cbiAgIDY3MVx0XG4gICA2NzJcdCAgICAgICAgICAgIGlmICh0YV9naGlDaHUgIT0gbnVsbCkge1xuICAgNjczXHQgICAgICAgICAgICAgICAgdGFfZ2hpQ2h1LnNldFRleHQoXCJcIik7XG4gICA2NzRcdCAgICAgICAgICAgIH1cbiAgIDY3NVx0XG4gICA2NzZcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgcGjGsMahbmcgdGjhu6ljIHRoYW5oIHRvw6FuIG3hurdjIMSR4buLbmhcbiAgIDY3N1x0ICAgICAgICAgICAgaWYgKHJiX3RpZW5NYXQgIT0gbnVsbCkge1xuICAgNjc4XHQgICAgICAgICAgICAgICAgcmJfdGllbk1hdC5zZXRTZWxlY3RlZCh0cnVlKTtcbiAgIDY3OVx0ICAgICAgICAgICAgfVxuICAgNjgwXHRcbiAgIDY4MVx0ICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBnacOhIHRy4buLIG3hurdjIMSR4buLbmggY2hvIHRp4buBbiBraMOhY2ggdHLhuqMgdsOgIHRp4buBbiB0aOG7q2FcbiAgIDY4Mlx0ICAgICAgICAgICAgaWYgKHR4dF90aWVuS2hhY2hUcmEgIT0gbnVsbCkge1xuICAgNjgzXHQgICAgICAgICAgICAgICAgdHh0X3RpZW5LaGFjaFRyYS5zZXRUZXh0KFwiXCIpO1xuICAgNjg0XHQgICAgICAgICAgICB9XG4gICA2ODVcdFxuICAgNjg2XHQgICAgICAgICAgICBpZiAobGJfdGllblRodWEgIT0gbnVsbCkge1xuICAgNjg3XHQgICAgICAgICAgICAgICAgbGJfdGllblRodWEuc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgIDY4OFx0ICAgICAgICAgICAgICAgIGxiX3RpZW5UaHVhLnNldFN0eWxlKFwiLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtdGV4dC1maWxsOiAjMDA5OTAwO1wiKTtcbiAgIDY4OVx0ICAgICAgICAgICAgfVxuICAgNjkwXHRcbiAgIDY5MVx0ICAgICAgICAgICAgLy8gTeG6t2MgxJHhu4tuaCwgbsO6dCB0aGFuaCB0b8OhbiBi4buLIHbDtCBoaeG7h3UgaMOzYSBjaG8gxJHhur9uIGtoaSBraMOhY2ggaMOgbmcgdHLhuqMgxJHhu6cgdGnhu4FuXG4gICA2OTJcdCAgICAgICAgICAgIGlmIChidG5fdGhhbmhUb2FuICE9IG51bGwpIHtcbiAgIDY5M1x0ICAgICAgICAgICAgICAgIGJ0bl90aGFuaFRvYW4uc2V0RGlzYWJsZSh0cnVlKTtcbiAgIDY5NFx0ICAgICAgICAgICAgfVxuICAgNjk1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA2OTZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA2OTdcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBraOG7n2kgdOG6oW8gdGjDtG5nIHRpbiBow7NhIMSRxqFuOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDY5OFx0ICAgICAgICB9XG4gICA2OTlcdCAgICB9XG4gICA3MDBcdFxuICAgNzAxXHQgICAgLyoqXG4gICA3MDJcdCAgICAgKiBUaGnhur90IGzhuq1wIHPhu7Ega2nhu4duIGNobyBjw6FjIHRow6BuaCBwaOG6p24gdHJvbmcgUGFuZSB0aMO0bmcgdGluIMSRxqFuIGjDoG5nXG4gICA3MDNcdCAgICAgKi9cbiAgIDcwNFx0ICAgIHByaXZhdGUgdm9pZCBzZXR1cEludm9pY2VFdmVudHMoKSB7XG4gICA3MDVcdCAgICAgICAgdHJ5IHtcbiAgIDcwNlx0ICAgICAgICAgICAgLy8gU+G7sSBraeG7h24ga2hpIG5o4bqlbiBuw7p0IMOhcCBk4bulbmcgbcOjIGdp4bqjbSBnacOhXG4gICA3MDdcdCAgICAgICAgICAgIGlmIChidG5fYXBEdW5nTWEgIT0gbnVsbCkge1xuICAgNzA4XHQgICAgICAgICAgICAgICAgYnRuX2FwRHVuZ01hLnNldE9uQWN0aW9uKGV2ZW50IC0+IGFwRHVuZ01hR2lhbUdpYSgpKTtcbiAgIDcwOVx0ICAgICAgICAgICAgfVxuICAgNzEwXHRcbiAgIDcxMVx0ICAgICAgICAgICAgLy8gU+G7sSBraeG7h24ga2hpIHRoYXkgxJHhu5VpIHBoxrDGoW5nIHRo4bupYyB0aGFuaCB0b8OhblxuICAgNzEyXHQgICAgICAgICAgICBpZiAocGh1b25nVGh1Y1RUICE9IG51bGwpIHtcbiAgIDcxM1x0ICAgICAgICAgICAgICAgIHBodW9uZ1RodWNUVC5zZWxlY3RlZFRvZ2dsZVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAgNzE0XHQgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICA3MTVcdCAgICAgICAgICAgICAgICB9KTtcbiAgIDcxNlx0ICAgICAgICAgICAgfVxuICAgNzE3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA3MThcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA3MTlcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSB0aGnhur90IGzhuq1wIHPhu7Ega2nhu4duIGNobyB0aMO0bmcgdGluIGjDs2EgxJHGoW46IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgNzIwXHQgICAgICAgIH1cbiAgIDcyMVx0ICAgIH1cbiAgIDcyMlx0XG4gICA3MjNcdCAgICAvKipcbiAgIDcyNFx0ICAgICAqIEto4bufaSB04bqhbyBi4bqjbmcgZ2nhu48gaMOgbmdcbiAgIDcyNVx0ICAgICAqL1xuICAgNzI2XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVUYWJsZSgpIHtcbiAgIDcyN1x0ICAgICAgICB0cnkge1xuICAgNzI4XHQgICAgICAgICAgICAvLyBLaOG7n2kgdOG6oW8gY8OhYyBj4buZdCBjaG8gYuG6o25nIGdp4buPIGjDoG5nXG4gICA3MjlcdCAgICAgICAgICAgIHRjU1RULnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4ge1xuICAgNzMwXHQgICAgICAgICAgICAgICAgaW50IGluZGV4ID0gY2FydEl0ZW1zLmluZGV4T2YoY2VsbERhdGEuZ2V0VmFsdWUoKSkgKyAxO1xuICAgNzMxXHQgICAgICAgICAgICAgICAgcmV0dXJuIGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzLmNyZWF0ZU9iamVjdEJpbmRpbmcoKCkgLT4gaW5kZXgpO1xuICAgNzMyXHQgICAgICAgICAgICB9KTtcbiAgIDczM1x0XG4gICA3MzRcdCAgICAgICAgICAgIHRjTWFTUC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwibWFTUFwiKSk7XG4gICA3MzVcdCAgICAgICAgICAgIHRjVGVuU1Auc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcInRlblNQXCIpKTtcbiAgIDczNlx0XG4gICA3MzdcdCAgICAgICAgICAgIC8vIFPhu5EgbMaw4bujbmcgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gICA3MzhcdCAgICAgICAgICAgIHRjU29MdW9uZy5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IHtcbiAgIDczOVx0ICAgICAgICAgICAgICAgIFNhblBoYW0gc3AgPSBjZWxsRGF0YS5nZXRWYWx1ZSgpO1xuICAgNzQwXHQgICAgICAgICAgICAgICAgSW50ZWdlciBxdWFudGl0eSA9IHByb2R1Y3RRdWFudGl0aWVzLmdldE9yRGVmYXVsdChzcC5nZXRNYVNQKCksIDApO1xuICAgNzQxXHQgICAgICAgICAgICAgICAgcmV0dXJuIGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzLmNyZWF0ZU9iamVjdEJpbmRpbmcoKCkgLT4gcXVhbnRpdHkpO1xuICAgNzQyXHQgICAgICAgICAgICB9KTtcbiAgIDc0M1x0XG4gICA3NDRcdCAgICAgICAgICAgIHRjRG9uR2lhLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJnaWFCYW5cIikpO1xuICAgNzQ1XHRcbiAgIDc0Nlx0ICAgICAgICAgICAgLy8gVGjDoG5oIHRp4buBbiA9IGdpw6EgYsOhbiAqIHPhu5EgbMaw4bujbmdcbiAgIDc0N1x0ICAgICAgICAgICAgdGNUaGFuaFRpZW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7XG4gICA3NDhcdCAgICAgICAgICAgICAgICBTYW5QaGFtIHNwID0gY2VsbERhdGEuZ2V0VmFsdWUoKTtcbiAgIDc0OVx0ICAgICAgICAgICAgICAgIEludGVnZXIgcXVhbnRpdHkgPSBwcm9kdWN0UXVhbnRpdGllcy5nZXRPckRlZmF1bHQoc3AuZ2V0TWFTUCgpLCAwKTtcbiAgIDc1MFx0ICAgICAgICAgICAgICAgIERvdWJsZSB0aGFuaFRpZW4gPSBzcC5nZXRHaWFCYW4oKSAqIHF1YW50aXR5O1xuICAgNzUxXHQgICAgICAgICAgICAgICAgcmV0dXJuIGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzLmNyZWF0ZU9iamVjdEJpbmRpbmcoKCkgLT4gdGhhbmhUaWVuKTtcbiAgIDc1Mlx0ICAgICAgICAgICAgfSk7XG4gICA3NTNcdFxuICAgNzU0XHQgICAgICAgICAgICAvLyDEkOG7i25oIGThuqFuZyBoaeG7g24gdGjhu4sgdGnhu4FuIHThu4cgY2hvIGPhu5l0IMSRxqFuIGdpw6EgdsOgIHRow6BuaCB0aeG7gW5cbiAgIDc1NVx0ICAgICAgICAgICAgTnVtYmVyRm9ybWF0IGN1cnJlbmN5Rm9ybWF0ID0gTnVtYmVyRm9ybWF0LmdldEN1cnJlbmN5SW5zdGFuY2UobmV3IExvY2FsZShcInZpXCIsIFwiVk5cIikpO1xuICAgNzU2XHRcbiAgIDc1N1x0ICAgICAgICAgICAgdGNEb25HaWEuc2V0Q2VsbEZhY3RvcnkoY29sdW1uIC0+IG5ldyBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJsZUNlbGw8U2FuUGhhbSwgRG91YmxlPigpIHtcbiAgIDc1OFx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgNzU5XHQgICAgICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShEb3VibGUgaXRlbSwgYm9vbGVhbiBlbXB0eSkge1xuICAgNzYwXHQgICAgICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpO1xuICAgNzYxXHQgICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eSB8fCBpdGVtID09IG51bGwpIHtcbiAgIDc2Mlx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTtcbiAgIDc2M1x0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgNzY0XHQgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGN1cnJlbmN5Rm9ybWF0LmZvcm1hdChpdGVtKSk7XG4gICA3NjVcdCAgICAgICAgICAgICAgICAgICAgfVxuICAgNzY2XHQgICAgICAgICAgICAgICAgfVxuICAgNzY3XHQgICAgICAgICAgICB9KTtcbiAgIDc2OFx0XG4gICA3NjlcdCAgICAgICAgICAgIHRjVGhhbmhUaWVuLnNldENlbGxGYWN0b3J5KGNvbHVtbiAtPiBuZXcgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVDZWxsPFNhblBoYW0sIERvdWJsZT4oKSB7XG4gICA3NzBcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgIDc3MVx0ICAgICAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oRG91YmxlIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHtcbiAgIDc3Mlx0ICAgICAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTtcbiAgIDc3M1x0ICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgaXRlbSA9PSBudWxsKSB7XG4gICA3NzRcdCAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7XG4gICA3NzVcdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDc3Nlx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChjdXJyZW5jeUZvcm1hdC5mb3JtYXQoaXRlbSkpO1xuICAgNzc3XHQgICAgICAgICAgICAgICAgICAgIH1cbiAgIDc3OFx0ICAgICAgICAgICAgICAgIH1cbiAgIDc3OVx0ICAgICAgICAgICAgfSk7XG4gICA3ODBcdFxuICAgNzgxXHQgICAgICAgICAgICAvLyBLaOG7n2kgdOG6oW8gZGFuaCBzw6FjaCBnaeG7jyBow6BuZyB0cuG7kW5nXG4gICA3ODJcdCAgICAgICAgICAgIGNhcnRJdGVtcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpO1xuICAgNzgzXHQgICAgICAgICAgICBpZiAodGFibGVWaWV3ICE9IG51bGwpIHtcbiAgIDc4NFx0ICAgICAgICAgICAgICAgIHRhYmxlVmlldy5zZXRJdGVtcyhjYXJ0SXRlbXMpO1xuICAgNzg1XHRcbiAgIDc4Nlx0ICAgICAgICAgICAgICAgIC8vIFRow6ptIHPhu7Ega2nhu4duIG5o4bqlcCDEkcO6cCB2w6BvIGLhuqNuZ1xuICAgNzg3XHQgICAgICAgICAgICAgICAgdGFibGVWaWV3LnNldE9uTW91c2VDbGlja2VkKHRoaXM6OmhhbmRsZVNlYXJjaFJlc3VsdERvdWJsZUNsaWNrKTtcbiAgIDc4OFx0XG4gICA3ODlcdCAgICAgICAgICAgICAgICAvLyBUaMOqbSBjb250ZXh0IG1lbnUgY2hvIGLhuqNuZ1xuICAgNzkwXHQgICAgICAgICAgICAgICAgc2V0dXBUYWJsZUNvbnRleHRNZW51KCk7XG4gICA3OTFcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICA3OTJcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJUYWJsZVZpZXcgaXMgbnVsbC4gQ2hlY2sgeW91ciBGWE1MIGZpbGUuXCIpO1xuICAgNzkzXHQgICAgICAgICAgICB9XG4gICA3OTRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDc5NVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDc5Nlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHRhYmxlOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDc5N1x0ICAgICAgICB9XG4gICA3OThcdCAgICB9XG4gICA3OTlcdFxuICAgODAwXHQgICAgLyoqXG4gICA4MDFcdCAgICAgKiBUaMOqbSBz4bqjbiBwaOG6qW0gdsOgbyBnaeG7jyBow6BuZ1xuICAgODAyXHQgICAgICovXG4gICA4MDNcdCAgICBwcml2YXRlIHZvaWQgYWRkUHJvZHVjdFRvQ2FydChTdHJpbmcgbWFTUCwgaW50IHNvTHVvbmcpIHtcbiAgIDgwNFx0ICAgICAgICB0cnkge1xuICAgODA1XHQgICAgICAgICAgICAvLyBUw6xtIGtp4bq/bSBz4bqjbiBwaOG6qW0gdGhlbyBtw6NcbiAgIDgwNlx0ICAgICAgICAgICAgU2FuUGhhbSBzYW5QaGFtID0gc2FuUGhhbURhby5yZWFkKG1hU1ApO1xuICAgODA3XHRcbiAgIDgwOFx0ICAgICAgICAgICAgaWYgKHNhblBoYW0gPT0gbnVsbCkge1xuICAgODA5XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0w6xtIHRo4bqleSBz4bqjbiBwaOG6qW0gY8OzIG3DoyBcIiArIG1hU1ApO1xuICAgODEwXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgODExXHQgICAgICAgICAgICB9XG4gICA4MTJcdFxuICAgODEzXHQgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHPhu5EgbMaw4bujbmcgdOG7k24ga2hvXG4gICA4MTRcdCAgICAgICAgICAgIGlmIChzYW5QaGFtLmdldFNvTHVvbmdUb24oKSA8IHNvTHVvbmcpIHtcbiAgIDgxNVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlPhu5EgbMaw4bujbmcgc+G6o24gcGjhuqltIHRyb25nIGtobyBraMO0bmcgxJHhu6cgKGPDsm4gXCIgKyBzYW5QaGFtLmdldFNvTHVvbmdUb24oKSArIFwiKVwiKTtcbiAgIDgxNlx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDgxN1x0ICAgICAgICAgICAgfVxuICAgODE4XHRcbiAgIDgxOVx0ICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSB4ZW0gc+G6o24gcGjhuqltIMSRw6MgY8OzIHRyb25nIGdp4buPIGjDoG5nIGNoxrBhXG4gICA4MjBcdCAgICAgICAgICAgIGJvb2xlYW4gcHJvZHVjdEV4aXN0cyA9IGZhbHNlO1xuICAgODIxXHRcbiAgIDgyMlx0ICAgICAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogY2FydEl0ZW1zKSB7XG4gICA4MjNcdCAgICAgICAgICAgICAgICBpZiAoc3AuZ2V0TWFTUCgpLmVxdWFscyhtYVNQKSkge1xuICAgODI0XHQgICAgICAgICAgICAgICAgICAgIC8vIE7hur91IHPhuqNuIHBo4bqpbSDEkcOjIHThu5NuIHThuqFpLCB0xINuZyBz4buRIGzGsOG7o25nXG4gICA4MjVcdCAgICAgICAgICAgICAgICAgICAgaW50IGN1cnJlbnRRdWFudGl0eSA9IHByb2R1Y3RRdWFudGl0aWVzLmdldE9yRGVmYXVsdChtYVNQLCAwKTtcbiAgIDgyNlx0ICAgICAgICAgICAgICAgICAgICBwcm9kdWN0UXVhbnRpdGllcy5wdXQobWFTUCwgY3VycmVudFF1YW50aXR5ICsgc29MdW9uZyk7XG4gICA4MjdcdCAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEV4aXN0cyA9IHRydWU7XG4gICA4MjhcdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICA4MjlcdCAgICAgICAgICAgICAgICB9XG4gICA4MzBcdCAgICAgICAgICAgIH1cbiAgIDgzMVx0XG4gICA4MzJcdCAgICAgICAgICAgIC8vIE7hur91IHPhuqNuIHBo4bqpbSBjaMawYSBjw7MgdHJvbmcgZ2nhu48gaMOgbmcsIHRow6ptIG3hu5tpXG4gICA4MzNcdCAgICAgICAgICAgIGlmICghcHJvZHVjdEV4aXN0cykge1xuICAgODM0XHQgICAgICAgICAgICAgICAgY2FydEl0ZW1zLmFkZChzYW5QaGFtKTtcbiAgIDgzNVx0ICAgICAgICAgICAgICAgIHByb2R1Y3RRdWFudGl0aWVzLnB1dChtYVNQLCBzb0x1b25nKTtcbiAgIDgzNlx0ICAgICAgICAgICAgfVxuICAgODM3XHRcbiAgIDgzOFx0ICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IGzhuqFpIGLhuqNuZ1xuICAgODM5XHQgICAgICAgICAgICB0YWJsZVZpZXcucmVmcmVzaCgpO1xuICAgODQwXHRcbiAgIDg0MVx0ICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHThu5VuZyB0aeG7gW5cbiAgIDg0Mlx0ICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgIDg0M1x0XG4gICA4NDRcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyB0aMO0bmcgYsOhbyB0aMOgbmggY8O0bmdcbiAgIDg0NVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJUaMO0bmcgYsOhb1wiLCBcIsSQw6MgdGjDqm0gc+G6o24gcGjhuqltIHbDoG8gZ2nhu48gaMOgbmchXCIpO1xuICAgODQ2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA4NDdcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA4NDhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdGjDqm0gc+G6o24gcGjhuqltIHbDoG8gZ2nhu48gaMOgbmc6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgODQ5XHQgICAgICAgIH1cbiAgIDg1MFx0ICAgIH1cbiAgIDg1MVx0XG4gICA4NTJcdCAgICAvKipcbiAgIDg1M1x0ICAgICAqIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIGNow61uaFxuICAgODU0XHQgICAgICovXG4gICA4NTVcdCAgICBwcml2YXRlIHZvaWQgc2hvd01haW5TYWxlc0ludGVyZmFjZSgpIHtcbiAgIDg1Nlx0ICAgICAgICAvLyBMw6BtIG3hu5tpIGZvcm0gbmjhuq1wIGxp4buHdVxuICAgODU3XHQgICAgICAgIHR4dF9uaGFwTWEuY2xlYXIoKTtcbiAgIDg1OFx0ICAgICAgICB0eHRfbmhhcFNMLmNsZWFyKCk7XG4gICA4NTlcdCAgICAgICAgdHh0X3RlbktILmNsZWFyKCk7XG4gICA4NjBcdCAgICAgICAgdHh0X3NkdC5jbGVhcigpO1xuICAgODYxXHRcbiAgIDg2Mlx0ICAgICAgICAvLyBGb2N1cyB2w6BvIHRyxrDhu51uZyBuaOG6rXAgbcOjIHPhuqNuIHBo4bqpbVxuICAgODYzXHQgICAgICAgIHR4dF9uaGFwTWEucmVxdWVzdEZvY3VzKCk7XG4gICA4NjRcdCAgICB9XG4gICA4NjVcdFxuICAgODY2XHQgICAgLyoqXG4gICA4NjdcdCAgICAgKiBYw7NhIHPhuqNuIHBo4bqpbSBraOG7j2kgZ2nhu48gaMOgbmdcbiAgIDg2OFx0ICAgICAqL1xuICAgODY5XHQgICAgcHJpdmF0ZSB2b2lkIHJlbW92ZVByb2R1Y3RGcm9tQ2FydChTdHJpbmcgbWFTUCkge1xuICAgODcwXHQgICAgICAgIHRyeSB7XG4gICA4NzFcdCAgICAgICAgICAgIC8vIFTDrG0gc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gICA4NzJcdCAgICAgICAgICAgIFNhblBoYW0gcHJvZHVjdFRvUmVtb3ZlID0gbnVsbDtcbiAgIDg3M1x0ICAgICAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogY2FydEl0ZW1zKSB7XG4gICA4NzRcdCAgICAgICAgICAgICAgICBpZiAoc3AuZ2V0TWFTUCgpLmVxdWFscyhtYVNQKSkge1xuICAgODc1XHQgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUb1JlbW92ZSA9IHNwO1xuICAgODc2XHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgODc3XHQgICAgICAgICAgICAgICAgfVxuICAgODc4XHQgICAgICAgICAgICB9XG4gICA4NzlcdFxuICAgODgwXHQgICAgICAgICAgICAvLyBO4bq/dSB0w6xtIHRo4bqleSBz4bqjbiBwaOG6qW0sIHjDs2Ega2jhu49pIGdp4buPIGjDoG5nXG4gICA4ODFcdCAgICAgICAgICAgIGlmIChwcm9kdWN0VG9SZW1vdmUgIT0gbnVsbCkge1xuICAgODgyXHQgICAgICAgICAgICAgICAgY2FydEl0ZW1zLnJlbW92ZShwcm9kdWN0VG9SZW1vdmUpO1xuICAgODgzXHQgICAgICAgICAgICAgICAgcHJvZHVjdFF1YW50aXRpZXMucmVtb3ZlKG1hU1ApO1xuICAgODg0XHQgICAgICAgICAgICAgICAgdGFibGVWaWV3LnJlZnJlc2goKTtcbiAgIDg4NVx0XG4gICA4ODZcdCAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdOG7lW5nIHRp4buBblxuICAgODg3XHQgICAgICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgIDg4OFx0XG4gICA4ODlcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlRow7RuZyBiw6FvXCIsIFwixJDDoyB4w7NhIHPhuqNuIHBo4bqpbSBraOG7j2kgZ2nhu48gaMOgbmchXCIpO1xuICAgODkwXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgODkxXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZyFcIik7XG4gICA4OTJcdCAgICAgICAgICAgIH1cbiAgIDg5M1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgODk0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgODk1XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIHjDs2Egc+G6o24gcGjhuqltIGto4buPaSBnaeG7jyBow6BuZzogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICA4OTZcdCAgICAgICAgfVxuICAgODk3XHQgICAgfVxuICAgODk4XHRcbiAgIDg5OVx0ICAgIC8qKlxuICAgOTAwXHQgICAgICogVMOtbmggdOG7lW5nIHRp4buBbiBow6BuZyAoY2jGsGEgYmFvIGfhu5NtIHRodeG6vyB2w6AgZ2nhuqNtIGdpw6EpXG4gICA5MDFcdCAgICAgKi9cbiAgIDkwMlx0ICAgIHByaXZhdGUgZG91YmxlIGNhbGN1bGF0ZVN1YnRvdGFsKCkge1xuICAgOTAzXHQgICAgICAgIGRvdWJsZSBzdWJ0b3RhbCA9IDA7XG4gICA5MDRcdCAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogY2FydEl0ZW1zKSB7XG4gICA5MDVcdCAgICAgICAgICAgIGludCBxdWFudGl0eSA9IHByb2R1Y3RRdWFudGl0aWVzLmdldE9yRGVmYXVsdChzcC5nZXRNYVNQKCksIDApO1xuICAgOTA2XHQgICAgICAgICAgICBzdWJ0b3RhbCArPSBzcC5nZXRHaWFCYW4oKSAqIHF1YW50aXR5O1xuICAgOTA3XHQgICAgICAgIH1cbiAgIDkwOFx0ICAgICAgICByZXR1cm4gc3VidG90YWw7XG4gICA5MDlcdCAgICB9XG4gICA5MTBcdFxuICAgOTExXHQgICAgLyoqXG4gICA5MTJcdCAgICAgKiBUw61uaCB0aHXhur8gVkFUICg4JSB04buVbmcgdGnhu4FuIGjDoG5nKVxuICAgOTEzXHQgICAgICovXG4gICA5MTRcdCAgICBwcml2YXRlIGRvdWJsZSBjYWxjdWxhdGVWQVQoZG91YmxlIHN1YnRvdGFsKSB7XG4gICA5MTVcdCAgICAgICAgcmV0dXJuIHN1YnRvdGFsICogMC4wODsgLy8gOCUgVkFUXG4gICA5MTZcdCAgICB9XG4gICA5MTdcdFxuICAgOTE4XHQgICAgLyoqXG4gICA5MTlcdCAgICAgKiBUw61uaCBnaeG6o20gZ2nDoVxuICAgOTIwXHQgICAgICovXG4gICA5MjFcdCAgICBwcml2YXRlIGRvdWJsZSBjYWxjdWxhdGVEaXNjb3VudChkb3VibGUgc3VidG90YWwpIHtcbiAgIDkyMlx0ICAgICAgICB0cnkge1xuICAgOTIzXHQgICAgICAgICAgICBpZiAobGJfZ2lhbUdpYSAhPSBudWxsICYmICFsYl9naWFtR2lhLmdldFRleHQoKS5lcXVhbHMoXCIwIFZOxJBcIikpIHtcbiAgIDkyNFx0ICAgICAgICAgICAgICAgIHRyeSB7XG4gICA5MjVcdCAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGdpYW1HaWFTdHIgPSBsYl9naWFtR2lhLmdldFRleHQoKS5yZXBsYWNlQWxsKFwiW15cXFxcZF1cIiwgXCJcIik7XG4gICA5MjZcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERvdWJsZS5wYXJzZURvdWJsZShnaWFtR2lhU3RyKTtcbiAgIDkyN1x0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA5MjhcdCAgICAgICAgICAgICAgICAgICAgLy8gS2jDtG5nIGzDoG0gZ8OsIG7hur91IGtow7RuZyB0aOG7gyBjaHV54buDbiDEkeG7lWlcbiAgIDkyOVx0ICAgICAgICAgICAgICAgIH1cbiAgIDkzMFx0ICAgICAgICAgICAgfVxuICAgOTMxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA5MzJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA5MzNcdCAgICAgICAgfVxuICAgOTM0XHQgICAgICAgIHJldHVybiAwO1xuICAgOTM1XHQgICAgfVxuICAgOTM2XHRcbiAgIDkzN1x0ICAgIC8qKlxuICAgOTM4XHQgICAgICogVMOtbmggdOG7lW5nIHRp4buBbiBj4bunYSBnaeG7jyBow6BuZyAoYmFvIGfhu5NtIHRodeG6vyB2w6AgZ2nhuqNtIGdpw6EpXG4gICA5MzlcdCAgICAgKi9cbiAgIDk0MFx0ICAgIHByaXZhdGUgZG91YmxlIGNhbGN1bGF0ZVRvdGFsKCkge1xuICAgOTQxXHQgICAgICAgIGRvdWJsZSBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICA5NDJcdCAgICAgICAgZG91YmxlIHZhdCA9IGNhbGN1bGF0ZVZBVChzdWJ0b3RhbCk7XG4gICA5NDNcdCAgICAgICAgZG91YmxlIGRpc2NvdW50ID0gY2FsY3VsYXRlRGlzY291bnQoc3VidG90YWwpO1xuICAgOTQ0XHRcbiAgIDk0NVx0ICAgICAgICByZXR1cm4gc3VidG90YWwgKyB2YXQgLSBkaXNjb3VudDtcbiAgIDk0Nlx0ICAgIH1cbiAgIDk0N1x0XG4gICA5NDhcdCAgICAvKipcbiAgIDk0OVx0ICAgICAqIFThuqFvIGjDs2EgxJHGoW4gdOG7qyBnaeG7jyBow6BuZ1xuICAgOTUwXHQgICAgICovXG4gICA5NTFcdCAgICBwcml2YXRlIHZvaWQgY3JlYXRlSW52b2ljZSgpIHtcbiAgIDk1Mlx0ICAgICAgICB0cnkge1xuICAgOTUzXHQgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FydCBpcyBlbXB0eVxuICAgOTU0XHQgICAgICAgICAgICBpZiAoY2FydEl0ZW1zLmlzRW1wdHkoKSkge1xuICAgOTU1XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiR2nhu48gaMOgbmcgdHLhu5FuZyFcIik7XG4gICA5NTZcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICA5NTdcdCAgICAgICAgICAgIH1cbiAgIDk1OFx0XG4gICA5NTlcdCAgICAgICAgICAgIC8vIFZhbGlkYXRlIGN1c3RvbWVyIGluZm9ybWF0aW9uXG4gICA5NjBcdCAgICAgICAgICAgIFN0cmluZyB0ZW5LSCA9IHR4dF90ZW5LSC5nZXRUZXh0KCkudHJpbSgpO1xuICAgOTYxXHQgICAgICAgICAgICBTdHJpbmcgc2R0ID0gdHh0X3NkdC5nZXRUZXh0KCkudHJpbSgpO1xuICAgOTYyXHRcbiAgIDk2M1x0ICAgICAgICAgICAgLy8gR2VuZXJhdGUgaW52b2ljZSBJRFxuICAgOTY0XHQgICAgICAgICAgICBTdHJpbmcgbWFIRCA9IFwiSERcIiArIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpO1xuICAgOTY1XHRcbiAgIDk2Nlx0ICAgICAgICAgICAgLy8gSGFuZGxlIHNoaWZ0IChDYUxhbSlcbiAgIDk2N1x0ICAgICAgICAgICAgU3RyaW5nIG1hQ2EgPSBcIkNBXCIgKyBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAgIDk2OFx0ICAgICAgICAgICAgQ2FMYW0gY2FMYW0gPSBjYUxhbURhby5yZWFkKFwiQ0EwMDFcIik7XG4gICA5NjlcdCAgICAgICAgICAgIGlmIChjYUxhbSA9PSBudWxsKSB7XG4gICA5NzBcdCAgICAgICAgICAgICAgICBjYUxhbSA9IG5ldyBDYUxhbSgpO1xuICAgOTcxXHQgICAgICAgICAgICAgICAgY2FMYW0uc2V0TWFDYShtYUNhKTtcbiAgIDk3Mlx0ICAgICAgICAgICAgICAgIGNhTGFtLnNldEdpb0JhdERhdShqYXZhLnRpbWUuTG9jYWxEYXRlVGltZS5ub3coKSk7XG4gICA5NzNcdCAgICAgICAgICAgICAgICBjYUxhbS5zZXRHaW9LZXRUaHVjKGphdmEudGltZS5Mb2NhbERhdGVUaW1lLm5vdygpLnBsdXNIb3Vycyg4KSk7XG4gICA5NzRcdCAgICAgICAgICAgICAgICBjYUxhbS5zZXRUcmFuZ1RoYWkodHJ1ZSk7XG4gICA5NzVcdFxuICAgOTc2XHQgICAgICAgICAgICAgICAgaWYgKEFwcC50YWlLaG9hbiAhPSBudWxsKSB7XG4gICA5NzdcdCAgICAgICAgICAgICAgICAgICAgY2FMYW0uc2V0VGFpS2hvYW4oQXBwLnRhaUtob2FuKTtcbiAgIDk3OFx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICA5NzlcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiS2jDtG5nIGPDsyB0w6BpIGtob+G6o24gxJHEg25nIG5o4bqtcCwgc+G7rSBk4bulbmcgdMOgaSBraG/huqNuIG3hurdjIMSR4buLbmhcIik7XG4gICA5ODBcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgOTgxXHQgICAgICAgICAgICAgICAgfVxuICAgOTgyXHRcbiAgIDk4M1x0ICAgICAgICAgICAgICAgIGNhTGFtRGFvLmNyZWF0ZShjYUxhbSk7XG4gICA5ODRcdCAgICAgICAgICAgIH1cbiAgIDk4NVx0XG4gICA5ODZcdCAgICAgICAgICAgIC8vIEhhbmRsZSBjdXN0b21lciAoS2hhY2hIYW5nKVxuICAgOTg3XHQgICAgICAgICAgICBLaGFjaEhhbmcga2hhY2hIYW5nID0gbnVsbDtcbiAgIDk4OFx0ICAgICAgICAgICAgaWYgKCF0ZW5LSC5pc0VtcHR5KCkgJiYgIXNkdC5pc0VtcHR5KCkpIHtcbiAgIDk4OVx0ICAgICAgICAgICAgICAgIGtoYWNoSGFuZyA9IGtoYWNoSGFuZ0Rhby5maW5kQnlQaG9uZShzZHQpO1xuICAgOTkwXHQgICAgICAgICAgICAgICAgaWYgKGtoYWNoSGFuZyA9PSBudWxsKSB7XG4gICA5OTFcdCAgICAgICAgICAgICAgICAgICAga2hhY2hIYW5nID0gbmV3IEtoYWNoSGFuZygpO1xuICAgOTkyXHQgICAgICAgICAgICAgICAgICAgIGtoYWNoSGFuZy5zZXRNYUtIKFwiS0hcIiArIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTtcbiAgIDk5M1x0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmcuc2V0VGVuS0godGVuS0gpO1xuICAgOTk0XHQgICAgICAgICAgICAgICAgICAgIGtoYWNoSGFuZy5zZXRTZHQoc2R0KTtcbiAgIDk5NVx0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmdEYW8uY3JlYXRlKGtoYWNoSGFuZyk7XG4gICA5OTZcdCAgICAgICAgICAgICAgICB9XG4gICA5OTdcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICA5OThcdCAgICAgICAgICAgICAgICBraGFjaEhhbmcgPSBraGFjaEhhbmdEYW8ucmVhZChcIktIMDAxXCIpO1xuICAgOTk5XHQgICAgICAgICAgICAgICAgaWYgKGtoYWNoSGFuZyA9PSBudWxsKSB7XG4gIDEwMDBcdCAgICAgICAgICAgICAgICAgICAga2hhY2hIYW5nID0gbmV3IEtoYWNoSGFuZygpO1xuICAxMDAxXHQgICAgICAgICAgICAgICAgICAgIGtoYWNoSGFuZy5zZXRNYUtIKFwiS0gwMDFcIik7XG4gIDEwMDJcdCAgICAgICAgICAgICAgICAgICAga2hhY2hIYW5nLnNldFRlbktIKFwiS2jDoWNoIGjDoG5nIHbDo25nIGxhaVwiKTtcbiAgMTAwM1x0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmcuc2V0U2R0KFwiMDAwMDAwMDAwMFwiKTtcbiAgMTAwNFx0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmdEYW8uY3JlYXRlKGtoYWNoSGFuZyk7XG4gIDEwMDVcdCAgICAgICAgICAgICAgICB9XG4gIDEwMDZcdCAgICAgICAgICAgIH1cbiAgMTAwN1x0XG4gIDEwMDhcdCAgICAgICAgICAgIC8vIENyZWF0ZSBpbnZvaWNlIChIb2FEb24pXG4gIDEwMDlcdCAgICAgICAgICAgIEhvYURvbiBob2FEb24gPSBuZXcgSG9hRG9uKCk7XG4gIDEwMTBcdCAgICAgICAgICAgIGhvYURvbi5zZXRNYUhEKG1hSEQpO1xuICAxMDExXHQgICAgICAgICAgICBob2FEb24uc2V0VGhvaUdpYW4oamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAxMDEyXHQgICAgICAgICAgICBob2FEb24uc2V0VG9uZ1NvTHVvbmdTUChwcm9kdWN0UXVhbnRpdGllcy52YWx1ZXMoKS5zdHJlYW0oKS5tYXBUb0ludChJbnRlZ2VyOjppbnRWYWx1ZSkuc3VtKCkpO1xuICAxMDEzXHQgICAgICAgICAgICAvLyBUw61uaCB04buVbmcgdGnhu4FuIHRoYW5oIHRvw6FuXG4gIDEwMTRcdCAgICAgICAgICAgIGRvdWJsZSB0b25nVGllbiA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gIDEwMTVcdCAgICAgICAgICAgIGhvYURvbi5zZXRUaGFuaFRpZW4odG9uZ1RpZW4pO1xuICAxMDE2XHRcbiAgMTAxN1x0ICAgICAgICAgICAgLy8gTOG6pXkgdGjDtG5nIHRpbiB0aeG7gW4ga2jDoWNoIHRy4bqjIHbDoCB0aeG7gW4gdGjhu6thXG4gIDEwMThcdCAgICAgICAgICAgIGRvdWJsZSB0aWVuS2hhY2hUcmEgPSAwO1xuICAxMDE5XHQgICAgICAgICAgICBkb3VibGUgdGllblRodWEgPSAwO1xuICAxMDIwXHQgICAgICAgICAgICB0cnkge1xuICAxMDIxXHQgICAgICAgICAgICAgICAgdGllbktoYWNoVHJhID0gRG91YmxlLnBhcnNlRG91YmxlKHR4dF90aWVuS2hhY2hUcmEuZ2V0VGV4dCgpLnRyaW0oKSk7XG4gIDEwMjJcdCAgICAgICAgICAgICAgICAvLyBUw61uaCB0aeG7gW4gdGjhu6thXG4gIDEwMjNcdCAgICAgICAgICAgICAgICB0aWVuVGh1YSA9IHRpZW5LaGFjaFRyYSAtIHRvbmdUaWVuO1xuICAxMDI0XHQgICAgICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkge1xuICAxMDI1XHQgICAgICAgICAgICAgICAgLy8gTuG6v3Uga2jDtG5nIHRo4buDIGNodXnhu4NuIMSR4buVaSwgc+G7rSBk4bulbmcgZ2nDoSB0cuG7iyBt4bq3YyDEkeG7i25oXG4gIDEwMjZcdCAgICAgICAgICAgICAgICB0aWVuS2hhY2hUcmEgPSB0b25nVGllbjtcbiAgMTAyN1x0ICAgICAgICAgICAgICAgIHRpZW5UaHVhID0gMDtcbiAgMTAyOFx0ICAgICAgICAgICAgfVxuICAxMDI5XHRcbiAgMTAzMFx0ICAgICAgICAgICAgLy8gTMawdSB0aMO0bmcgdGluIHRp4buBbiBraMOhY2ggdHLhuqMgdsOgIHRp4buBbiB0aOG7q2EgdsOgbyBow7NhIMSRxqFuXG4gIDEwMzFcdCAgICAgICAgICAgIC8vIE7hur91IGPDsyB0csaw4budbmcgdMawxqFuZyDhu6luZyB0cm9uZyBlbnRpdHkgSG9hRG9uXG4gIDEwMzJcdCAgICAgICAgICAgIC8vIGhvYURvbi5zZXRUaWVuS2hhY2hUcmEodGllbktoYWNoVHJhKTtcbiAgMTAzM1x0ICAgICAgICAgICAgLy8gaG9hRG9uLnNldFRpZW5UaHVhKHRpZW5UaHVhKTtcbiAgMTAzNFx0XG4gIDEwMzVcdCAgICAgICAgICAgIC8vIFjDoWMgxJHhu4tuaCBwaMawxqFuZyB0aOG7qWMgdGhhbmggdG/DoW4gZOG7sWEgdHLDqm4gbOG7sWEgY2jhu41uXG4gIDEwMzZcdCAgICAgICAgICAgIFBodW9uZ1RodWNUaGFuaFRvYW4gcGh1b25nVGh1YyA9IFBodW9uZ1RodWNUaGFuaFRvYW4uVGllbl9NYXQ7XG4gIDEwMzdcdCAgICAgICAgICAgIGlmIChyYl9jaHV5ZW5LaG9hbiAhPSBudWxsICYmIHJiX2NodXllbktob2FuLmlzU2VsZWN0ZWQoKSkge1xuICAxMDM4XHQgICAgICAgICAgICAgICAgcGh1b25nVGh1YyA9IFBodW9uZ1RodWNUaGFuaFRvYW4uQ2h1eWVuX0tob2FuO1xuICAxMDM5XHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJiX3RoZSAhPSBudWxsICYmIHJiX3RoZS5pc1NlbGVjdGVkKCkpIHtcbiAgMTA0MFx0ICAgICAgICAgICAgICAgIHBodW9uZ1RodWMgPSBQaHVvbmdUaHVjVGhhbmhUb2FuLlRoZV9OZ2FuX0hhbmc7XG4gIDEwNDFcdCAgICAgICAgICAgIH1cbiAgMTA0Mlx0ICAgICAgICAgICAgaG9hRG9uLnNldFBodW9uZ1RodWNUVChwaHVvbmdUaHVjKTtcbiAgMTA0M1x0ICAgICAgICAgICAgaG9hRG9uLnNldENhTGFtKGNhTGFtKTtcbiAgMTA0NFx0ICAgICAgICAgICAgaG9hRG9uLnNldEtoYWNoSGFuZyhraGFjaEhhbmcpO1xuICAxMDQ1XHQgICAgICAgICAgICBob2FEb25EYW8uY3JlYXRlKGhvYURvbik7XG4gIDEwNDZcdFxuICAxMDQ3XHQgICAgICAgICAgICAvLyBDcmVhdGUgaW52b2ljZSBkZXRhaWxzIChDaGlUaWV0SG9hRG9uX1NhblBoYW0pXG4gIDEwNDhcdCAgICAgICAgICAgIGZvciAoU2FuUGhhbSBzcCA6IGNhcnRJdGVtcykge1xuICAxMDQ5XHQgICAgICAgICAgICAgICAgaW50IHNvTHVvbmcgPSBwcm9kdWN0UXVhbnRpdGllcy5nZXRPckRlZmF1bHQoc3AuZ2V0TWFTUCgpLCAwKTtcbiAgMTA1MFx0XG4gIDEwNTFcdCAgICAgICAgICAgICAgICAvLyBDaGVjayBzdG9jayBhdmFpbGFiaWxpdHlcbiAgMTA1Mlx0ICAgICAgICAgICAgICAgIGlmIChzcC5nZXRTb0x1b25nVG9uKCkgPCBzb0x1b25nKSB7XG4gIDEwNTNcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiU+G6o24gcGjhuqltIFwiICsgc3AuZ2V0VGVuU1AoKSArIFwiIGtow7RuZyDEkeG7pyBz4buRIGzGsOG7o25nIHRyb25nIGtobyFcIik7XG4gIDEwNTRcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAxMDU1XHQgICAgICAgICAgICAgICAgfVxuICAxMDU2XHRcbiAgMTA1N1x0ICAgICAgICAgICAgICAgIENoaVRpZXRIb2FEb25fU2FuUGhhbUlkIGNoaVRpZXRJZCA9IG5ldyBDaGlUaWV0SG9hRG9uX1NhblBoYW1JZChtYUhELCBzcC5nZXRNYVNQKCkpO1xuICAxMDU4XHQgICAgICAgICAgICAgICAgQ2hpVGlldEhvYURvbl9TYW5QaGFtIGNoaVRpZXQgPSBuZXcgQ2hpVGlldEhvYURvbl9TYW5QaGFtKCk7XG4gIDEwNTlcdCAgICAgICAgICAgICAgICBjaGlUaWV0LnNldElkKGNoaVRpZXRJZCk7XG4gIDEwNjBcdCAgICAgICAgICAgICAgICBjaGlUaWV0LnNldFNvTHVvbmdTUChzb0x1b25nKTtcbiAgMTA2MVx0ICAgICAgICAgICAgICAgIGNoaVRpZXQuc2V0RG9uR2lhKHNwLmdldEdpYUJhbigpKTtcbiAgMTA2Mlx0ICAgICAgICAgICAgICAgIGNoaVRpZXQuc2V0SG9hRG9uKGhvYURvbik7XG4gIDEwNjNcdCAgICAgICAgICAgICAgICBjaGlUaWV0LnNldFNhblBoYW0oc3ApO1xuICAxMDY0XHQgICAgICAgICAgICAgICAgY2hpVGlldEhvYURvbkRhby5jcmVhdGUoY2hpVGlldCk7XG4gIDEwNjVcdFxuICAxMDY2XHQgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHN0b2NrXG4gIDEwNjdcdCAgICAgICAgICAgICAgICBzcC5zZXRTb0x1b25nVG9uKHNwLmdldFNvTHVvbmdUb24oKSAtIHNvTHVvbmcpO1xuICAxMDY4XHQgICAgICAgICAgICAgICAgc2FuUGhhbURhby51cGRhdGUoc3ApO1xuICAxMDY5XHQgICAgICAgICAgICB9XG4gIDEwNzBcdFxuICAxMDcxXHQgICAgICAgICAgICAvLyBDbGVhciBjYXJ0IGFuZCByZWZyZXNoIFVJXG4gIDEwNzJcdCAgICAgICAgICAgIGNhcnRJdGVtcy5jbGVhcigpO1xuICAxMDczXHQgICAgICAgICAgICBwcm9kdWN0UXVhbnRpdGllcy5jbGVhcigpO1xuICAxMDc0XHQgICAgICAgICAgICB0YWJsZVZpZXcucmVmcmVzaCgpO1xuICAxMDc1XHQgICAgICAgICAgICB0eHRfdGVuS0guY2xlYXIoKTtcbiAgMTA3Nlx0ICAgICAgICAgICAgdHh0X3NkdC5jbGVhcigpO1xuICAxMDc3XHQgICAgICAgICAgICB0eHRfbmhhcE1hLmNsZWFyKCk7XG4gIDEwNzhcdCAgICAgICAgICAgIHR4dF9uaGFwU0wuY2xlYXIoKTtcbiAgMTA3OVx0XG4gIDEwODBcdCAgICAgICAgICAgIC8vIFjDs2EgdGjDtG5nIHRpbiBow7NhIMSRxqFuXG4gIDEwODFcdCAgICAgICAgICAgIGlmICh0eHRfbWFHaWFtR2lhICE9IG51bGwpIHtcbiAgMTA4Mlx0ICAgICAgICAgICAgICAgIHR4dF9tYUdpYW1HaWEuY2xlYXIoKTtcbiAgMTA4M1x0ICAgICAgICAgICAgfVxuICAxMDg0XHQgICAgICAgICAgICBpZiAodGFfZ2hpQ2h1ICE9IG51bGwpIHtcbiAgMTA4NVx0ICAgICAgICAgICAgICAgIHRhX2doaUNodS5jbGVhcigpO1xuICAxMDg2XHQgICAgICAgICAgICB9XG4gIDEwODdcdCAgICAgICAgICAgIGlmIChsYl9naWFtR2lhICE9IG51bGwpIHtcbiAgMTA4OFx0ICAgICAgICAgICAgICAgIGxiX2dpYW1HaWEuc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgMTA4OVx0ICAgICAgICAgICAgfVxuICAxMDkwXHRcbiAgMTA5MVx0ICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIHRp4buBbiBraMOhY2ggdHLhuqMgdsOgIHRp4buBbiB0aOG7q2FcbiAgMTA5Mlx0ICAgICAgICAgICAgaWYgKHR4dF90aWVuS2hhY2hUcmEgIT0gbnVsbCkge1xuICAxMDkzXHQgICAgICAgICAgICAgICAgdHh0X3RpZW5LaGFjaFRyYS5jbGVhcigpO1xuICAxMDk0XHQgICAgICAgICAgICB9XG4gIDEwOTVcdCAgICAgICAgICAgIGlmIChsYl90aWVuVGh1YSAhPSBudWxsKSB7XG4gIDEwOTZcdCAgICAgICAgICAgICAgICBsYl90aWVuVGh1YS5zZXRUZXh0KFwiMCBWTsSQXCIpO1xuICAxMDk3XHQgICAgICAgICAgICAgICAgbGJfdGllblRodWEuc2V0U3R5bGUoXCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC10ZXh0LWZpbGw6ICMwMDk5MDA7XCIpO1xuICAxMDk4XHQgICAgICAgICAgICB9XG4gIDEwOTlcdFxuICAxMTAwXHQgICAgICAgICAgICAvLyBWw7QgaGnhu4d1IGjDs2EgbsO6dCB0aGFuaCB0b8OhbiBjaG8gxJHhur9uIGtoaSBraMOhY2ggaMOgbmcgdHLhuqMgxJHhu6cgdGnhu4FuXG4gIDExMDFcdCAgICAgICAgICAgIGlmIChidG5fdGhhbmhUb2FuICE9IG51bGwpIHtcbiAgMTEwMlx0ICAgICAgICAgICAgICAgIGJ0bl90aGFuaFRvYW4uc2V0RGlzYWJsZSh0cnVlKTtcbiAgMTEwM1x0ICAgICAgICAgICAgfVxuICAxMTA0XHRcbiAgMTEwNVx0ICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHThu5VuZyB0aeG7gW5cbiAgMTEwNlx0ICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgMTEwN1x0XG4gIDExMDhcdCAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlXG4gIDExMDlcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiVGjDoG5oIGPDtG5nXCIsIFwixJDDoyB04bqhbyBow7NhIMSRxqFuIHRow6BuaCBjw7RuZyFcIik7XG4gIDExMTBcdFxuICAxMTExXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDExMTJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDExMTNcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdOG6oW8gaMOzYSDEkcahbjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDExMTRcdCAgICAgICAgfVxuICAxMTE1XHQgICAgfVxuICAxMTE2XHRcbiAgMTExN1x0ICAgIC8qKlxuICAxMTE4XHQgICAgICogSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gIDExMTlcdCAgICAgKi9cbiAgMTEyMFx0ICAgIHByaXZhdGUgdm9pZCBzaG93U2VhcmNoSW50ZXJmYWNlKCkge1xuICAxMTIxXHQgICAgICAgIHRyeSB7XG4gIDExMjJcdCAgICAgICAgICAgIC8vIEzDoG0gbeG7m2kgZm9ybSB0w6xtIGtp4bq/bVxuICAxMTIzXHQgICAgICAgICAgICB0eHRfdGltS2llbS5jbGVhcigpO1xuICAxMTI0XHQgICAgICAgICAgICB0eHRfdGltS2llbS5yZXF1ZXN0Rm9jdXMoKTtcbiAgMTEyNVx0XG4gIDExMjZcdCAgICAgICAgICAgIC8vIEto4bufaSB04bqhbyBk4buvIGxp4buHdSB0w6xtIGtp4bq/bSBu4bq/dSBj4bqnblxuICAxMTI3XHQgICAgICAgICAgICBpbml0aWFsaXplU2VhcmNoRGF0YSgpO1xuICAxMTI4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDExMjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDExMzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTEzMVx0ICAgICAgICB9XG4gIDExMzJcdCAgICB9XG4gIDExMzNcdFxuICAxMTM0XHQgICAgLyoqXG4gIDExMzVcdCAgICAgKiBLaOG7n2kgdOG6oW8gZOG7ryBsaeG7h3UgdMOsbSBraeG6v21cbiAgMTEzNlx0ICAgICAqL1xuICAxMTM3XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVTZWFyY2hEYXRhKCkge1xuICAxMTM4XHQgICAgICAgIHRyeSB7XG4gIDExMzlcdCAgICAgICAgICAgIC8vIFThuqFvIGRhbmggc8OhY2ggc+G6o24gcGjhuqltIGNobyB0w6xtIGtp4bq/bVxuICAxMTQwXHQgICAgICAgICAgICBPYnNlcnZhYmxlTGlzdDxTYW5QaGFtPiBzZWFyY2hSZXN1bHRzID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7XG4gIDExNDFcdFxuICAxMTQyXHQgICAgICAgICAgICAvLyBM4bqleSB04bqldCBj4bqjIHPhuqNuIHBo4bqpbSB04burIGRhdGFiYXNlXG4gIDExNDNcdCAgICAgICAgICAgIExpc3Q8U2FuUGhhbT4gYWxsUHJvZHVjdHMgPSBzYW5QaGFtRGFvLnJlYWRBbGwoKTtcbiAgMTE0NFx0ICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5hZGRBbGwoYWxsUHJvZHVjdHMpO1xuICAxMTQ1XHRcbiAgMTE0Nlx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGvhur90IHF14bqjIHTDrG0ga2nhur9tIHRyb25nIGLhuqNuZ1xuICAxMTQ3XHQgICAgICAgICAgICAvLyBT4butIGThu6VuZyBi4bqjbmcgaGnhu4duIHThuqFpIMSR4buDIGhp4buDbiB0aOG7iyBr4bq/dCBxdeG6oyB0w6xtIGtp4bq/bVxuICAxMTQ4XHQgICAgICAgICAgICB0YWJsZVZpZXcuc2V0SXRlbXMoc2VhcmNoUmVzdWx0cyk7XG4gIDExNDlcdFxuICAxMTUwXHRcbiAgMTE1MVx0ICAgICAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gY2hvIHRyxrDhu51uZyB0w6xtIGtp4bq/bVxuICAxMTUyXHQgICAgICAgICAgICBzZXR1cFNlYXJjaEZpZWxkKCk7XG4gIDExNTNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTE1NFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTE1NVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBraOG7n2kgdOG6oW8gZOG7ryBsaeG7h3UgdMOsbSBraeG6v206IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMTU2XHQgICAgICAgIH1cbiAgMTE1N1x0ICAgIH1cbiAgMTE1OFx0XG4gIDExNTlcdCAgICAvKipcbiAgMTE2MFx0ICAgICAqIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24gY2hvIHRyxrDhu51uZyB0w6xtIGtp4bq/bVxuICAxMTYxXHQgICAgICovXG4gIDExNjJcdCAgICBwcml2YXRlIHZvaWQgc2V0dXBTZWFyY2hGaWVsZCgpIHtcbiAgMTE2M1x0ICAgICAgICAvLyBUaMOqbSBz4buxIGtp4buHbiBraGkgbmjhuq1wIHbDoG8gdHLGsOG7nW5nIHTDrG0ga2nhur9tXG4gIDExNjRcdCAgICAgICAgdHh0X3RpbUtpZW0udGV4dFByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAxMTY1XHQgICAgICAgICAgICBwZXJmb3JtU2VhcmNoKG5ld1ZhbHVlKTtcbiAgMTE2Nlx0ICAgICAgICB9KTtcbiAgMTE2N1x0ICAgIH1cbiAgMTE2OFx0XG4gIDExNjlcdCAgICAvKipcbiAgMTE3MFx0ICAgICAqIFRo4buxYyBoaeG7h24gdMOsbSBraeG6v20gc+G6o24gcGjhuqltXG4gIDExNzFcdCAgICAgKi9cbiAgMTE3Mlx0ICAgIHByaXZhdGUgdm9pZCBwZXJmb3JtU2VhcmNoKFN0cmluZyBrZXl3b3JkKSB7XG4gIDExNzNcdCAgICAgICAgdHJ5IHtcbiAgMTE3NFx0ICAgICAgICAgICAgaWYgKGtleXdvcmQgPT0gbnVsbCB8fCBrZXl3b3JkLnRyaW0oKS5pc0VtcHR5KCkpIHtcbiAgMTE3NVx0ICAgICAgICAgICAgICAgIC8vIE7hur91IHThu6sga2jDs2EgdHLhu5FuZywgaGnhu4NuIHRo4buLIHThuqV0IGPhuqMgc+G6o24gcGjhuqltXG4gIDExNzZcdCAgICAgICAgICAgICAgICBMaXN0PFNhblBoYW0+IGFsbFByb2R1Y3RzID0gc2FuUGhhbURhby5yZWFkQWxsKCk7XG4gIDExNzdcdCAgICAgICAgICAgICAgICB0YWJsZVZpZXcuc2V0SXRlbXMoRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KGFsbFByb2R1Y3RzKSk7XG4gIDExNzhcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gIDExNzlcdCAgICAgICAgICAgIH1cbiAgMTE4MFx0XG4gIDExODFcdCAgICAgICAgICAgIC8vIFTDrG0ga2nhur9tIHPhuqNuIHBo4bqpbSB0aGVvIHThu6sga2jDs2FcbiAgMTE4Mlx0ICAgICAgICAgICAgTGlzdDxTYW5QaGFtPiBzZWFyY2hSZXN1bHRzID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gIDExODNcdCAgICAgICAgICAgIExpc3Q8U2FuUGhhbT4gYWxsUHJvZHVjdHMgPSBzYW5QaGFtRGFvLnJlYWRBbGwoKTtcbiAgMTE4NFx0XG4gIDExODVcdCAgICAgICAgICAgIC8vIEzhu41jIHPhuqNuIHBo4bqpbSB0aGVvIHThu6sga2jDs2EgKG3DoyBob+G6t2MgdMOqbilcbiAgMTE4Nlx0ICAgICAgICAgICAgU3RyaW5nIGtleXdvcmRMb3dlciA9IGtleXdvcmQudG9Mb3dlckNhc2UoKTtcbiAgMTE4N1x0ICAgICAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogYWxsUHJvZHVjdHMpIHtcbiAgMTE4OFx0ICAgICAgICAgICAgICAgIGlmIChzcC5nZXRNYVNQKCkudG9Mb3dlckNhc2UoKS5jb250YWlucyhrZXl3b3JkTG93ZXIpIHx8XG4gIDExODlcdCAgICAgICAgICAgICAgICAgICAgICAgIHNwLmdldFRlblNQKCkudG9Mb3dlckNhc2UoKS5jb250YWlucyhrZXl3b3JkTG93ZXIpKSB7XG4gIDExOTBcdCAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5hZGQoc3ApO1xuICAxMTkxXHQgICAgICAgICAgICAgICAgfVxuICAxMTkyXHQgICAgICAgICAgICB9XG4gIDExOTNcdFxuICAxMTk0XHQgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgYuG6o25nIHbDoCB0cuG6oW5nIHRow6FpXG4gIDExOTVcdCAgICAgICAgICAgIHRhYmxlVmlldy5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3Qoc2VhcmNoUmVzdWx0cykpO1xuICAxMTk2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDExOTdcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDExOThcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdGjhu7FjIGhp4buHbiB0w6xtIGtp4bq/bTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDExOTlcdCAgICAgICAgfVxuICAxMjAwXHQgICAgfVxuICAxMjAxXHRcbiAgMTIwMlx0ICAgIC8qKlxuICAxMjAzXHQgICAgICogWOG7rSBsw70gc+G7sSBraeG7h24ga2hpIG5o4bqlcCDEkcO6cCB2w6BvIHPhuqNuIHBo4bqpbSB0cm9uZyBr4bq/dCBxdeG6oyB0w6xtIGtp4bq/bVxuICAxMjA0XHQgICAgICovXG4gIDEyMDVcdCAgICBARlhNTFxuICAxMjA2XHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVNlYXJjaFJlc3VsdERvdWJsZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTIwN1x0ICAgICAgICBpZiAoZXZlbnQuZ2V0Q2xpY2tDb3VudCgpID09IDIpIHsgLy8gTmjhuqVwIMSRw7pwXG4gIDEyMDhcdCAgICAgICAgICAgIFNhblBoYW0gc2VsZWN0ZWRQcm9kdWN0ID0gdGFibGVWaWV3LmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7XG4gIDEyMDlcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFByb2R1Y3QgIT0gbnVsbCkge1xuICAxMjEwXHQgICAgICAgICAgICAgICAgLy8gQ2h1eeG7g24gc2FuZyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIHbDoCB0aMOqbSBz4bqjbiBwaOG6qW0gdsOgbyBnaeG7jyBow6BuZ1xuICAxMjExXHQgICAgICAgICAgICAgICAgaGFuZGxlR2lvSGFuZ0NsaWNrKG51bGwpO1xuICAxMjEyXHRcbiAgMTIxM1x0ICAgICAgICAgICAgICAgIC8vIMSQaeG7gW4gdGjDtG5nIHRpbiBz4bqjbiBwaOG6qW0gdsOgbyBmb3JtXG4gIDEyMTRcdCAgICAgICAgICAgICAgICB0eHRfbmhhcE1hLnNldFRleHQoc2VsZWN0ZWRQcm9kdWN0LmdldE1hU1AoKSk7XG4gIDEyMTVcdCAgICAgICAgICAgICAgICB0eHRfbmhhcFNMLnNldFRleHQoXCIxXCIpOyAvLyBN4bq3YyDEkeG7i25oIHPhu5EgbMaw4bujbmcgbMOgIDFcbiAgMTIxNlx0ICAgICAgICAgICAgICAgIHR4dF9uaGFwU0wucmVxdWVzdEZvY3VzKCk7XG4gIDEyMTdcdCAgICAgICAgICAgIH1cbiAgMTIxOFx0ICAgICAgICB9XG4gIDEyMTlcdCAgICB9XG4gIDEyMjBcdFxuICAxMjIxXHQgICAgLyoqXG4gIDEyMjJcdCAgICAgKiBUaGnhur90IGzhuq1wIGNvbnRleHQgbWVudSBjaG8gYuG6o25nIGdp4buPIGjDoG5nXG4gIDEyMjNcdCAgICAgKi9cbiAgMTIyNFx0ICAgIHByaXZhdGUgdm9pZCBzZXR1cFRhYmxlQ29udGV4dE1lbnUoKSB7XG4gIDEyMjVcdCAgICAgICAgLy8gVOG6oW8gY29udGV4dCBtZW51XG4gIDEyMjZcdCAgICAgICAgQ29udGV4dE1lbnUgY29udGV4dE1lbnUgPSBuZXcgQ29udGV4dE1lbnUoKTtcbiAgMTIyN1x0XG4gIDEyMjhcdCAgICAgICAgLy8gVOG6oW8gbWVudSBpdGVtIFjDs2FcbiAgMTIyOVx0ICAgICAgICBNZW51SXRlbSBkZWxldGVJdGVtID0gbmV3IE1lbnVJdGVtKFwiWMOzYSBz4bqjbiBwaOG6qW1cIik7XG4gIDEyMzBcdCAgICAgICAgZGVsZXRlSXRlbS5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gIDEyMzFcdCAgICAgICAgICAgIC8vIEzhuqV5IHPhuqNuIHBo4bqpbSDEkcaw4bujYyBjaOG7jW5cbiAgMTIzMlx0ICAgICAgICAgICAgU2FuUGhhbSBzZWxlY3RlZFByb2R1Y3QgPSB0YWJsZVZpZXcuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgMTIzM1x0ICAgICAgICAgICAgaWYgKHNlbGVjdGVkUHJvZHVjdCAhPSBudWxsKSB7XG4gIDEyMzRcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHPhuqNuIHBo4bqpbSBraOG7j2kgZ2nhu48gaMOgbmdcbiAgMTIzNVx0ICAgICAgICAgICAgICAgIHJlbW92ZVByb2R1Y3RGcm9tQ2FydChzZWxlY3RlZFByb2R1Y3QuZ2V0TWFTUCgpKTtcbiAgMTIzNlx0ICAgICAgICAgICAgfVxuICAxMjM3XHQgICAgICAgIH0pO1xuICAxMjM4XHRcbiAgMTIzOVx0ICAgICAgICAvLyBU4bqhbyBtZW51IGl0ZW0gWMOzYSB04bqldCBj4bqjXG4gIDEyNDBcdCAgICAgICAgTWVudUl0ZW0gY2xlYXJBbGxJdGVtID0gbmV3IE1lbnVJdGVtKFwiWMOzYSB04bqldCBj4bqjXCIpO1xuICAxMjQxXHQgICAgICAgIGNsZWFyQWxsSXRlbS5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gIDEyNDJcdCAgICAgICAgICAgIC8vIFjDs2EgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgMTI0M1x0ICAgICAgICAgICAgY2xlYXJDYXJ0KCk7XG4gIDEyNDRcdCAgICAgICAgfSk7XG4gIDEyNDVcdFxuICAxMjQ2XHQgICAgICAgIC8vIFThuqFvIG1lbnUgaXRlbSBT4butYSBz4buRIGzGsOG7o25nXG4gIDEyNDdcdCAgICAgICAgTWVudUl0ZW0gZWRpdEl0ZW0gPSBuZXcgTWVudUl0ZW0oXCJT4butYSBz4buRIGzGsOG7o25nXCIpO1xuICAxMjQ4XHQgICAgICAgIGVkaXRJdGVtLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgMTI0OVx0ICAgICAgICAgICAgLy8gTOG6pXkgc+G6o24gcGjhuqltIMSRxrDhu6NjIGNo4buNblxuICAxMjUwXHQgICAgICAgICAgICBTYW5QaGFtIHNlbGVjdGVkUHJvZHVjdCA9IHRhYmxlVmlldy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAxMjUxXHQgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0ICE9IG51bGwpIHtcbiAgMTI1Mlx0ICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBo4buZcCB0aG/huqFpIG5o4bqtcCBz4buRIGzGsOG7o25nIG3hu5tpXG4gIDEyNTNcdCAgICAgICAgICAgICAgICBlZGl0UHJvZHVjdFF1YW50aXR5KHNlbGVjdGVkUHJvZHVjdCk7XG4gIDEyNTRcdCAgICAgICAgICAgIH1cbiAgMTI1NVx0ICAgICAgICB9KTtcbiAgMTI1Nlx0XG4gIDEyNTdcdCAgICAgICAgLy8gVGjDqm0gY8OhYyBtZW51IGl0ZW0gdsOgbyBjb250ZXh0IG1lbnVcbiAgMTI1OFx0ICAgICAgICBjb250ZXh0TWVudS5nZXRJdGVtcygpLmFkZEFsbChkZWxldGVJdGVtLCBlZGl0SXRlbSwgY2xlYXJBbGxJdGVtKTtcbiAgMTI1OVx0XG4gIDEyNjBcdCAgICAgICAgLy8gR8OhbiBjb250ZXh0IG1lbnUgY2hvIGLhuqNuZ1xuICAxMjYxXHQgICAgICAgIHRhYmxlVmlldy5zZXRDb250ZXh0TWVudShjb250ZXh0TWVudSk7XG4gIDEyNjJcdCAgICB9XG4gIDEyNjNcdFxuICAxMjY0XHQgICAgLyoqXG4gIDEyNjVcdCAgICAgKiBT4butYSBz4buRIGzGsOG7o25nIHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZ1xuICAxMjY2XHQgICAgICovXG4gIDEyNjdcdCAgICBwcml2YXRlIHZvaWQgZWRpdFByb2R1Y3RRdWFudGl0eShTYW5QaGFtIHByb2R1Y3QpIHtcbiAgMTI2OFx0ICAgICAgICB0cnkge1xuICAxMjY5XHQgICAgICAgICAgICAvLyBU4bqhbyBkaWFsb2cgxJHhu4Mgbmjhuq1wIHPhu5EgbMaw4bujbmcgbeG7m2lcbiAgMTI3MFx0ICAgICAgICAgICAgVGV4dElucHV0RGlhbG9nIGRpYWxvZyA9IG5ldyBUZXh0SW5wdXREaWFsb2cocHJvZHVjdFF1YW50aXRpZXMuZ2V0T3JEZWZhdWx0KHByb2R1Y3QuZ2V0TWFTUCgpLCAxKS50b1N0cmluZygpKTtcbiAgMTI3MVx0ICAgICAgICAgICAgZGlhbG9nLnNldFRpdGxlKFwiU+G7rWEgc+G7kSBsxrDhu6NuZ1wiKTtcbiAgMTI3Mlx0ICAgICAgICAgICAgZGlhbG9nLnNldEhlYWRlclRleHQoXCJT4bqjbiBwaOG6qW06IFwiICsgcHJvZHVjdC5nZXRUZW5TUCgpKTtcbiAgMTI3M1x0ICAgICAgICAgICAgZGlhbG9nLnNldENvbnRlbnRUZXh0KFwiTmjhuq1wIHPhu5EgbMaw4bujbmcgbeG7m2k6XCIpO1xuICAxMjc0XHRcbiAgMTI3NVx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGRpYWxvZyB2w6AgxJHhu6NpIGvhur90IHF14bqjXG4gIDEyNzZcdCAgICAgICAgICAgIGRpYWxvZy5zaG93QW5kV2FpdCgpLmlmUHJlc2VudChyZXN1bHQgLT4ge1xuICAxMjc3XHQgICAgICAgICAgICAgICAgdHJ5IHtcbiAgMTI3OFx0ICAgICAgICAgICAgICAgICAgICAvLyBDaHV54buDbiBr4bq/dCBxdeG6oyB0aMOgbmggc+G7kVxuICAxMjc5XHQgICAgICAgICAgICAgICAgICAgIGludCBuZXdRdWFudGl0eSA9IEludGVnZXIucGFyc2VJbnQocmVzdWx0KTtcbiAgMTI4MFx0XG4gIDEyODFcdCAgICAgICAgICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSBz4buRIGzGsOG7o25nIGjhu6NwIGzhu4dcbiAgMTI4Mlx0ICAgICAgICAgICAgICAgICAgICBpZiAobmV3UXVhbnRpdHkgPD0gMCkge1xuICAxMjgzXHQgICAgICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJT4buRIGzGsOG7o25nIHBo4bqjaSBs4bubbiBoxqFuIDAhXCIpO1xuICAxMjg0XHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gIDEyODVcdCAgICAgICAgICAgICAgICAgICAgfVxuICAxMjg2XHRcbiAgMTI4N1x0ICAgICAgICAgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHPhu5EgbMaw4bujbmcgdOG7k24ga2hvXG4gIDEyODhcdCAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1F1YW50aXR5ID4gcHJvZHVjdC5nZXRTb0x1b25nVG9uKCkpIHtcbiAgMTI4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiU+G7kSBsxrDhu6NuZyB2xrDhu6N0IHF1w6Egc+G7kSBsxrDhu6NuZyB04buTbiBraG8gKFwiICsgcHJvZHVjdC5nZXRTb0x1b25nVG9uKCkgKyBcIikhXCIpO1xuICAxMjkwXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gIDEyOTFcdCAgICAgICAgICAgICAgICAgICAgfVxuICAxMjkyXHRcbiAgMTI5M1x0ICAgICAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgc+G7kSBsxrDhu6NuZ1xuICAxMjk0XHQgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RRdWFudGl0aWVzLnB1dChwcm9kdWN0LmdldE1hU1AoKSwgbmV3UXVhbnRpdHkpO1xuICAxMjk1XHRcbiAgMTI5Nlx0ICAgICAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgYuG6o25nIHbDoCB04buVbmcgdGnhu4FuXG4gIDEyOTdcdCAgICAgICAgICAgICAgICAgICAgdGFibGVWaWV3LnJlZnJlc2goKTtcbiAgMTI5OFx0ICAgICAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAxMjk5XHRcbiAgMTMwMFx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlRow7RuZyBiw6FvXCIsIFwixJDDoyBj4bqtcCBuaOG6rXQgc+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW0hXCIpO1xuICAxMzAxXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGUpIHtcbiAgMTMwMlx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiU+G7kSBsxrDhu6NuZyBwaOG6o2kgbMOgIHPhu5Egbmd1ecOqbiFcIik7XG4gIDEzMDNcdCAgICAgICAgICAgICAgICB9XG4gIDEzMDRcdCAgICAgICAgICAgIH0pO1xuICAxMzA1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDEzMDZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzMDdcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4Mgc+G7rWEgc+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW06IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzA4XHQgICAgICAgIH1cbiAgMTMwOVx0ICAgIH1cbiAgMTMxMFx0XG4gIDEzMTFcdCAgICAvKipcbiAgMTMxMlx0ICAgICAqIFjDs2EgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgMTMxM1x0ICAgICAqL1xuICAxMzE0XHQgICAgcHJpdmF0ZSB2b2lkIGNsZWFyQ2FydCgpIHtcbiAgMTMxNVx0ICAgICAgICB0cnkge1xuICAxMzE2XHQgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHhlbSBnaeG7jyBow6BuZyBjw7MgdHLhu5FuZyBraMO0bmdcbiAgMTMxN1x0ICAgICAgICAgICAgaWYgKGNhcnRJdGVtcy5pc0VtcHR5KCkpIHtcbiAgMTMxOFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiVGjDtG5nIGLDoW9cIiwgXCJHaeG7jyBow6BuZyDEkcOjIHRy4buRbmchXCIpO1xuICAxMzE5XHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAxMzIwXHQgICAgICAgICAgICB9XG4gIDEzMjFcdFxuICAxMzIyXHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgaOG7mXAgdGhv4bqhaSB4w6FjIG5o4bqtblxuICAxMzIzXHQgICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydFR5cGUuQ09ORklSTUFUSU9OKTtcbiAgMTMyNFx0ICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXCJYw6FjIG5o4bqtbiB4w7NhXCIpO1xuICAxMzI1XHQgICAgICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAxMzI2XHQgICAgICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIHThuqV0IGPhuqMgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nP1wiKTtcbiAgMTMyN1x0XG4gIDEzMjhcdCAgICAgICAgICAgIC8vIE7hur91IG5nxrDhu51pIGTDuW5nIG5o4bqlbiBPS1xuICAxMzI5XHQgICAgICAgICAgICBpZiAoYWxlcnQuc2hvd0FuZFdhaXQoKS5nZXQoKSA9PSBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b25UeXBlLk9LKSB7XG4gIDEzMzBcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHThuqV0IGPhuqMgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gIDEzMzFcdCAgICAgICAgICAgICAgICBjYXJ0SXRlbXMuY2xlYXIoKTtcbiAgMTMzMlx0ICAgICAgICAgICAgICAgIHByb2R1Y3RRdWFudGl0aWVzLmNsZWFyKCk7XG4gIDEzMzNcdCAgICAgICAgICAgICAgICB0YWJsZVZpZXcucmVmcmVzaCgpO1xuICAxMzM0XHRcbiAgMTMzNVx0ICAgICAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcgdGnhu4FuXG4gIDEzMzZcdCAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAxMzM3XHRcbiAgMTMzOFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiVGjDtG5nIGLDoW9cIiwgXCLEkMOjIHjDs2EgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmchXCIpO1xuICAxMzM5XHQgICAgICAgICAgICB9XG4gIDEzNDBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM0MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM0Mlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyB4w7NhIGdp4buPIGjDoG5nOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM0M1x0ICAgICAgICB9XG4gIDEzNDRcdCAgICB9XG4gIDEzNDVcdFxuICAxMzQ2XHQgICAgLyoqXG4gIDEzNDdcdCAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBraGkgbmjhuqVuIG7DunQgxJHEg25nIHh14bqldFxuICAxMzQ4XHQgICAgICovXG4gIDEzNDlcdCAgICBARlhNTFxuICAxMzUwXHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZURhbmdYdWF0Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAxMzUxXHQgICAgICAgIHRyeSB7XG4gIDEzNTJcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBo4buZcCB0aG/huqFpIHjDoWMgbmjhuq1uXG4gIDEzNTNcdCAgICAgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0VHlwZS5DT05GSVJNQVRJT04pO1xuICAxMzU0XHQgICAgICAgICAgICBhbGVydC5zZXRUaXRsZShcIljDoWMgbmjhuq1uIMSRxINuZyB4deG6pXRcIik7XG4gIDEzNTVcdCAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gIDEzNTZcdCAgICAgICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIMSRxINuZyB4deG6pXQ/XCIpO1xuICAxMzU3XHRcbiAgMTM1OFx0ICAgICAgICAgICAgLy8gTuG6v3UgbmfGsOG7nWkgZMO5bmcgbmjhuqVuIE9LXG4gIDEzNTlcdCAgICAgICAgICAgIGlmIChhbGVydC5zaG93QW5kV2FpdCgpLmdldCgpID09IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvblR5cGUuT0spIHtcbiAgMTM2MFx0ICAgICAgICAgICAgICAgIC8vIENodXnhu4NuIHbhu4EgbcOgbiBow6xuaCDEkcSDbmcgbmjhuq1wXG4gIDEzNjFcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Mb2dpbl9ndWkuZnhtbFwiKSk7XG4gIDEzNjJcdCAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gIDEzNjNcdCAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgMTM2NFx0XG4gIDEzNjVcdCAgICAgICAgICAgICAgICAvLyBM4bqleSBzdGFnZSBoaeG7h24gdOG6oWlcbiAgMTM2Nlx0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBidG5fZGFuZ1h1YXQuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgMTM2N1x0XG4gIDEzNjhcdCAgICAgICAgICAgICAgICAvLyBUaGnhur90IGzhuq1wIHNjZW5lIG3hu5tpXG4gIDEzNjlcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gIDEzNzBcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIsSQxINuZyBuaOG6rXBcIik7XG4gIDEzNzFcdFxuICAxMzcyXHQgICAgICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAgaGnhu4duIHThuqFpXG4gIDEzNzNcdCAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSBudWxsO1xuICAxMzc0XHQgICAgICAgICAgICAgICAgQXBwLnVzZXIgPSBudWxsO1xuICAxMzc1XHQgICAgICAgICAgICAgICAgQXBwLm1hID0gbnVsbDtcbiAgMTM3Nlx0XG4gIDEzNzdcdCAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgMTM3OFx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgMTM3OVx0XG4gIDEzODBcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLEkMOjIMSRxINuZyB4deG6pXQgdGjDoG5oIGPDtG5nXCIpO1xuICAxMzgxXHQgICAgICAgICAgICB9XG4gIDEzODJcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM4M1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM4NFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDEkcSDbmcgeHXhuqV0OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM4NVx0ICAgICAgICB9XG4gIDEzODZcdCAgICB9XG4gIDEzODdcdFxuICAxMzg4XHQgICAgLyoqXG4gIDEzODlcdCAgICAgKiDDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoSAoZ+G7jWkgdOG7qyBGWE1MKVxuICAxMzkwXHQgICAgICovXG4gIDEzOTFcdCAgICBARlhNTFxuICAxMzkyXHQgICAgcHJpdmF0ZSB2b2lkIGFwRHVuZ01hR2lhbUdpYShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gIDEzOTNcdCAgICAgICAgYXBEdW5nTWFHaWFtR2lhKCk7XG4gIDEzOTRcdCAgICB9XG4gIDEzOTVcdFxuICAxMzk2XHQgICAgLyoqXG4gIDEzOTdcdCAgICAgKiDDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoVxuICAxMzk4XHQgICAgICovXG4gIDEzOTlcdCAgICBwcml2YXRlIHZvaWQgYXBEdW5nTWFHaWFtR2lhKCkge1xuICAxNDAwXHQgICAgICAgIHRyeSB7XG4gIDE0MDFcdCAgICAgICAgICAgIGlmICh0eHRfbWFHaWFtR2lhICE9IG51bGwpIHtcbiAgMTQwMlx0ICAgICAgICAgICAgICAgIFN0cmluZyBtYUdpYW1HaWEgPSB0eHRfbWFHaWFtR2lhLmdldFRleHQoKS50cmltKCk7XG4gIDE0MDNcdFxuICAxNDA0XHQgICAgICAgICAgICAgICAgaWYgKG1hR2lhbUdpYS5pc0VtcHR5KCkpIHtcbiAgMTQwNVx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIG3DoyBnaeG6o20gZ2nDoSFcIik7XG4gIDE0MDZcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAxNDA3XHQgICAgICAgICAgICAgICAgfVxuICAxNDA4XHRcbiAgMTQwOVx0ICAgICAgICAgICAgICAgIC8vIFRPRE86IEtp4buDbSB0cmEgbcOjIGdp4bqjbSBnacOhIHRyb25nIGPGoSBz4bufIGThu68gbGnhu4d1XG4gIDE0MTBcdCAgICAgICAgICAgICAgICAvLyDEkMOieSBsw6AgbeG7mXQgdsOtIGThu6UgxJHGoW4gZ2nhuqNuXG4gIDE0MTFcdCAgICAgICAgICAgICAgICBkb3VibGUgZ2lhbUdpYSA9IDA7XG4gIDE0MTJcdFxuICAxNDEzXHQgICAgICAgICAgICAgICAgaWYgKG1hR2lhbUdpYS5lcXVhbHMoXCJTQUxFMTBcIikpIHtcbiAgMTQxNFx0ICAgICAgICAgICAgICAgICAgICBnaWFtR2lhID0gY2FsY3VsYXRlU3VidG90YWwoKSAqIDAuMTsgLy8gR2nhuqNtIDEwJVxuICAxNDE1XHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYUdpYW1HaWEuZXF1YWxzKFwiU0FMRTIwXCIpKSB7XG4gIDE0MTZcdCAgICAgICAgICAgICAgICAgICAgZ2lhbUdpYSA9IGNhbGN1bGF0ZVN1YnRvdGFsKCkgKiAwLjI7IC8vIEdp4bqjbSAyMCVcbiAgMTQxN1x0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFHaWFtR2lhLmVxdWFscyhcIlNBTEU1MFwiKSkge1xuICAxNDE4XHQgICAgICAgICAgICAgICAgICAgIGdpYW1HaWEgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpICogMC41OyAvLyBHaeG6o20gNTAlXG4gIDE0MTlcdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAxNDIwXHQgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJNw6MgZ2nhuqNtIGdpw6Ega2jDtG5nIGjhu6NwIGzhu4chXCIpO1xuICAxNDIxXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgMTQyMlx0ICAgICAgICAgICAgICAgIH1cbiAgMTQyM1x0XG4gIDE0MjRcdCAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgZ2nhuqNtIGdpw6FcbiAgMTQyNVx0ICAgICAgICAgICAgICAgIE51bWJlckZvcm1hdCBjdXJyZW5jeUZvcm1hdCA9IE51bWJlckZvcm1hdC5nZXRDdXJyZW5jeUluc3RhbmNlKG5ldyBMb2NhbGUoXCJ2aVwiLCBcIlZOXCIpKTtcbiAgMTQyNlx0ICAgICAgICAgICAgICAgIGlmIChsYl9naWFtR2lhICE9IG51bGwpIHtcbiAgMTQyN1x0ICAgICAgICAgICAgICAgICAgICBsYl9naWFtR2lhLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KGdpYW1HaWEpKTtcbiAgMTQyOFx0ICAgICAgICAgICAgICAgIH1cbiAgMTQyOVx0XG4gIDE0MzBcdCAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdOG7lW5nIHRoYW5oIHRvw6FuXG4gIDE0MzFcdCAgICAgICAgICAgICAgICBkb3VibGUgdG9uZ1RpZW4gPSBjYWxjdWxhdGVTdWJ0b3RhbCgpICsgY2FsY3VsYXRlVkFUKGNhbGN1bGF0ZVN1YnRvdGFsKCkpIC0gZ2lhbUdpYTtcbiAgMTQzMlx0ICAgICAgICAgICAgICAgIGlmIChsYl90b25nVGhhbmhUb2FuICE9IG51bGwpIHtcbiAgMTQzM1x0ICAgICAgICAgICAgICAgICAgICBsYl90b25nVGhhbmhUb2FuLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KHRvbmdUaWVuKSk7XG4gIDE0MzRcdCAgICAgICAgICAgICAgICB9XG4gIDE0MzVcdFxuICAxNDM2XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJUaMOgbmggY8O0bmdcIiwgXCLDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoSB0aMOgbmggY8O0bmchXCIpO1xuICAxNDM3XHQgICAgICAgICAgICB9XG4gIDE0MzhcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTQzOVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTQ0MFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDDoXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDE0NDFcdCAgICAgICAgfVxuICAxNDQyXHQgICAgfVxuICAxNDQzXHRcbiAgMTQ0NFx0ICAgIC8qKlxuICAxNDQ1XHQgICAgICogQ+G6rXAgbmjhuq10IHThu5VuZyB0aeG7gW4gdHJvbmcgZ2nhu48gaMOgbmdcbiAgMTQ0Nlx0ICAgICAqL1xuICAxNDQ3XHQgICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZVRvdGFsQW1vdW50KCkge1xuICAxNDQ4XHQgICAgICAgIHRyeSB7XG4gIDE0NDlcdCAgICAgICAgICAgIC8vIFTDrW5oIHThu5VuZyBz4buRIHPhuqNuIHBo4bqpbSAoc+G7kSBsb+G6oWkgc+G6o24gcGjhuqltKVxuICAxNDUwXHQgICAgICAgICAgICBpbnQgdG9uZ1NvU1AgPSBjYXJ0SXRlbXMuc2l6ZSgpO1xuICAxNDUxXHQgICAgICAgICAgICBpZiAobGJfdG9uZ1NvU1AgIT0gbnVsbCkge1xuICAxNDUyXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1NvU1Auc2V0VGV4dChTdHJpbmcudmFsdWVPZih0b25nU29TUCkpO1xuICAxNDUzXHQgICAgICAgICAgICB9XG4gIDE0NTRcdFxuICAxNDU1XHQgICAgICAgICAgICAvLyBUw61uaCB04buVbmcgc+G7kSBsxrDhu6NuZyAodOG7lW5nIHPhu5EgbeG6t3QgaMOgbmcpXG4gIDE0NTZcdCAgICAgICAgICAgIGludCB0b25nU0wgPSAwO1xuICAxNDU3XHQgICAgICAgICAgICBmb3IgKEludGVnZXIgcXVhbnRpdHkgOiBwcm9kdWN0UXVhbnRpdGllcy52YWx1ZXMoKSkge1xuICAxNDU4XHQgICAgICAgICAgICAgICAgdG9uZ1NMICs9IHF1YW50aXR5O1xuICAxNDU5XHQgICAgICAgICAgICB9XG4gIDE0NjBcdCAgICAgICAgICAgIGlmIChsYl90b25nU0wgIT0gbnVsbCkge1xuICAxNDYxXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1NMLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodG9uZ1NMKSk7XG4gIDE0NjJcdCAgICAgICAgICAgIH1cbiAgMTQ2M1x0XG4gIDE0NjRcdCAgICAgICAgICAgIC8vIFTDrW5oIHThuqFtIHTDrW5oICh04buVbmcgdGnhu4FuIGjDoG5nIGNoxrBhIGJhbyBn4buTbSB0aHXhur8pXG4gIDE0NjVcdCAgICAgICAgICAgIGRvdWJsZSB0YW1UaW5oID0gY2FsY3VsYXRlU3VidG90YWwoKTtcbiAgMTQ2Nlx0ICAgICAgICAgICAgTnVtYmVyRm9ybWF0IGN1cnJlbmN5Rm9ybWF0ID0gTnVtYmVyRm9ybWF0LmdldEN1cnJlbmN5SW5zdGFuY2UobmV3IExvY2FsZShcInZpXCIsIFwiVk5cIikpO1xuICAxNDY3XHQgICAgICAgICAgICBpZiAobGJfdGFtVGluaCAhPSBudWxsKSB7XG4gIDE0NjhcdCAgICAgICAgICAgICAgICBsYl90YW1UaW5oLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KHRhbVRpbmgpKTtcbiAgMTQ2OVx0ICAgICAgICAgICAgfVxuICAxNDcwXHRcbiAgMTQ3MVx0ICAgICAgICAgICAgLy8gVMOtbmggdOG7lW5nIHRp4buBbiAoYmFvIGfhu5NtIHRodeG6vylcbiAgMTQ3Mlx0ICAgICAgICAgICAgZG91YmxlIHRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgMTQ3M1x0ICAgICAgICAgICAgaWYgKGxiX3RvbmdUaWVuICE9IG51bGwpIHtcbiAgMTQ3NFx0ICAgICAgICAgICAgICAgIGxiX3RvbmdUaWVuLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KHRvdGFsKSk7XG4gIDE0NzVcdCAgICAgICAgICAgIH1cbiAgMTQ3Nlx0XG4gIDE0NzdcdCAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcgdGhhbmggdG/DoW5cbiAgMTQ3OFx0ICAgICAgICAgICAgZG91YmxlIHRvbmdUaWVuID0gdG90YWw7XG4gIDE0NzlcdFxuICAxNDgwXHQgICAgICAgICAgICAvLyBUcuG7qyBnaeG6o20gZ2nDoSBu4bq/dSBjw7NcbiAgMTQ4MVx0ICAgICAgICAgICAgaWYgKGxiX2dpYW1HaWEgIT0gbnVsbCAmJiAhbGJfZ2lhbUdpYS5nZXRUZXh0KCkuZXF1YWxzKFwiMCBWTsSQXCIpKSB7XG4gIDE0ODJcdCAgICAgICAgICAgICAgICB0cnkge1xuICAxNDgzXHQgICAgICAgICAgICAgICAgICAgIFN0cmluZyBnaWFtR2lhU3RyID0gbGJfZ2lhbUdpYS5nZXRUZXh0KCkucmVwbGFjZUFsbChcIlteXFxcXGRdXCIsIFwiXCIpO1xuICAxNDg0XHQgICAgICAgICAgICAgICAgICAgIGRvdWJsZSBnaWFtR2lhID0gRG91YmxlLnBhcnNlRG91YmxlKGdpYW1HaWFTdHIpO1xuICAxNDg1XHQgICAgICAgICAgICAgICAgICAgIHRvbmdUaWVuIC09IGdpYW1HaWE7XG4gIDE0ODZcdCAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxNDg3XHQgICAgICAgICAgICAgICAgICAgIC8vIEtow7RuZyBsw6BtIGfDrCBu4bq/dSBraMO0bmcgdGjhu4MgY2h1eeG7g24gxJHhu5VpXG4gIDE0ODhcdCAgICAgICAgICAgICAgICB9XG4gIDE0ODlcdCAgICAgICAgICAgIH1cbiAgMTQ5MFx0XG4gIDE0OTFcdCAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcgdGhhbmggdG/DoW5cbiAgMTQ5Mlx0ICAgICAgICAgICAgaWYgKGxiX3RvbmdUaGFuaFRvYW4gIT0gbnVsbCkge1xuICAxNDkzXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1RoYW5oVG9hbi5zZXRUZXh0KGN1cnJlbmN5Rm9ybWF0LmZvcm1hdCh0b25nVGllbikpO1xuICAxNDk0XHQgICAgICAgICAgICB9XG4gIDE0OTVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTQ5Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTQ5N1x0ICAgICAgICAgICAgLy8gWOG7rSBsw70gbOG7l2kgdsOgIMSR4bq3dCBnacOhIHRy4buLIG3hurdjIMSR4buLbmhcbiAgMTQ5OFx0ICAgICAgICAgICAgaWYgKGxiX3RvbmdTb1NQICE9IG51bGwpIHtcbiAgMTQ5OVx0ICAgICAgICAgICAgICAgIGxiX3RvbmdTb1NQLnNldFRleHQoXCIwXCIpO1xuICAxNTAwXHQgICAgICAgICAgICB9XG4gIDE1MDFcdCAgICAgICAgICAgIGlmIChsYl90b25nU0wgIT0gbnVsbCkge1xuICAxNTAyXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1NMLnNldFRleHQoXCIwXCIpO1xuICAxNTAzXHQgICAgICAgICAgICB9XG4gIDE1MDRcdCAgICAgICAgICAgIGlmIChsYl90YW1UaW5oICE9IG51bGwpIHtcbiAgMTUwNVx0ICAgICAgICAgICAgICAgIGxiX3RhbVRpbmguc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgMTUwNlx0ICAgICAgICAgICAgfVxuICAxNTA3XHQgICAgICAgICAgICBpZiAobGJfdG9uZ1RpZW4gIT0gbnVsbCkge1xuICAxNTA4XHQgICAgICAgICAgICAgICAgbGJfdG9uZ1RpZW4uc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgMTUwOVx0ICAgICAgICAgICAgfVxuICAxNTEwXHQgICAgICAgICAgICBpZiAobGJfdG9uZ1RoYW5oVG9hbiAhPSBudWxsKSB7XG4gIDE1MTFcdCAgICAgICAgICAgICAgICBsYl90b25nVGhhbmhUb2FuLnNldFRleHQoXCIwIFZOxJBcIik7XG4gIDE1MTJcdCAgICAgICAgICAgIH1cbiAgMTUxM1x0ICAgICAgICB9XG4gIDE1MTRcdCAgICB9XG4gIDE1MTVcdFxuICAxNTE2XHQgICAgLyoqXG4gIDE1MTdcdCAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBraGkgbmjhuqVuIG7DunQgdGhhbmggdG/DoW5cbiAgMTUxOFx0ICAgICAqL1xuICAxNTE5XHQgICAgQEZYTUxcbiAgMTUyMFx0ICAgIHZvaWQgdGhhbmhUb2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTUyMVx0ICAgICAgICBpZiAoY2FydEl0ZW1zLmlzRW1wdHkoKSkge1xuICAxNTIyXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJHaeG7jyBow6BuZyB0cuG7kW5nIVwiKTtcbiAgMTUyM1x0ICAgICAgICAgICAgcmV0dXJuO1xuICAxNTI0XHQgICAgICAgIH1cbiAgMTUyNVx0XG4gIDE1MjZcdCAgICAgICAgLy8gS2nhu4NtIHRyYSB4ZW0ga2jDoWNoIGjDoG5nIMSRw6MgdHLhuqMgxJHhu6cgdGnhu4FuIGNoxrBhXG4gIDE1MjdcdCAgICAgICAgaWYgKHR4dF90aWVuS2hhY2hUcmEuZ2V0VGV4dCgpLnRyaW0oKS5pc0VtcHR5KCkpIHtcbiAgMTUyOFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCBz4buRIHRp4buBbiBraMOhY2ggdHLhuqMhXCIpO1xuICAxNTI5XHQgICAgICAgICAgICB0eHRfdGllbktoYWNoVHJhLnJlcXVlc3RGb2N1cygpO1xuICAxNTMwXHQgICAgICAgICAgICByZXR1cm47XG4gIDE1MzFcdCAgICAgICAgfVxuICAxNTMyXHRcbiAgMTUzM1x0ICAgICAgICAvLyBLaeG7g20gdHJhIHhlbSB0aeG7gW4gdGjhu6thIGPDsyDDom0ga2jDtG5nXG4gIDE1MzRcdCAgICAgICAgaWYgKGxiX3RpZW5UaHVhLmdldFRleHQoKS5zdGFydHNXaXRoKFwiLVwiKSkge1xuICAxNTM1XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJT4buRIHRp4buBbiBraMOhY2ggdHLhuqMgY2jGsGEgxJHhu6chXCIpO1xuICAxNTM2XHQgICAgICAgICAgICB0eHRfdGllbktoYWNoVHJhLnJlcXVlc3RGb2N1cygpO1xuICAxNTM3XHQgICAgICAgICAgICByZXR1cm47XG4gIDE1MzhcdCAgICAgICAgfVxuICAxNTM5XHRcbiAgMTU0MFx0ICAgICAgICAvLyBYw6FjIG5o4bqtbiB0aGFuaCB0b8OhblxuICAxNTQxXHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0VHlwZS5DT05GSVJNQVRJT04pO1xuICAxNTQyXHQgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiWMOhYyBuaOG6rW4gdGhhbmggdG/DoW5cIik7XG4gIDE1NDNcdCAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgMTU0NFx0XG4gIDE1NDVcdCAgICAgICAgLy8gVOG6oW8gbuG7mWkgZHVuZyB4w6FjIG5o4bqtbiBjaGkgdGnhur90IGjGoW5cbiAgMTU0Nlx0ICAgICAgICBTdHJpbmdCdWlsZGVyIGNvbnRlbnQgPSBuZXcgU3RyaW5nQnVpbGRlcihcIlRow7RuZyB0aW4gdGhhbmggdG/DoW46XFxuXCIpO1xuICAxNTQ3XHQgICAgICAgIGNvbnRlbnQuYXBwZW5kKFwiVOG7lW5nIHPhuqNuIHBo4bqpbTogXCIpLmFwcGVuZChjYXJ0SXRlbXMuc2l6ZSgpKS5hcHBlbmQoXCJcXG5cIik7XG4gIDE1NDhcdFxuICAxNTQ5XHQgICAgICAgIC8vIEzhuqV5IHThu5VuZyB0aeG7gW4gdOG7qyBsYl90b25nVGhhbmhUb2FuXG4gIDE1NTBcdCAgICAgICAgU3RyaW5nIHRvbmdUaWVuID0gXCIwIFZOxJBcIjtcbiAgMTU1MVx0ICAgICAgICBpZiAobGJfdG9uZ1RoYW5oVG9hbiAhPSBudWxsKSB7XG4gIDE1NTJcdCAgICAgICAgICAgIHRvbmdUaWVuID0gbGJfdG9uZ1RoYW5oVG9hbi5nZXRUZXh0KCk7XG4gIDE1NTNcdCAgICAgICAgfSBlbHNlIGlmIChsYl90b25nVGllbiAhPSBudWxsKSB7XG4gIDE1NTRcdCAgICAgICAgICAgIHRvbmdUaWVuID0gbGJfdG9uZ1RpZW4uZ2V0VGV4dCgpO1xuICAxNTU1XHQgICAgICAgIH1cbiAgMTU1Nlx0ICAgICAgICBjb250ZW50LmFwcGVuZChcIlThu5VuZyB0aGFuaCB0b8OhbjogXCIpLmFwcGVuZCh0b25nVGllbikuYXBwZW5kKFwiXFxuXCIpO1xuICAxNTU3XHRcbiAgMTU1OFx0ICAgICAgICAvLyBM4bqleSBwaMawxqFuZyB0aOG7qWMgdGhhbmggdG/DoW5cbiAgMTU1OVx0ICAgICAgICBTdHJpbmcgcGh1b25nVGh1YyA9IFwiVGnhu4FuIG3hurd0XCI7XG4gIDE1NjBcdCAgICAgICAgaWYgKHJiX2NodXllbktob2FuICE9IG51bGwgJiYgcmJfY2h1eWVuS2hvYW4uaXNTZWxlY3RlZCgpKSB7XG4gIDE1NjFcdCAgICAgICAgICAgIHBodW9uZ1RodWMgPSBcIkNodXnhu4NuIGtob+G6o25cIjtcbiAgMTU2Mlx0ICAgICAgICB9IGVsc2UgaWYgKHJiX3RoZSAhPSBudWxsICYmIHJiX3RoZS5pc1NlbGVjdGVkKCkpIHtcbiAgMTU2M1x0ICAgICAgICAgICAgcGh1b25nVGh1YyA9IFwiVGjhurtcIjtcbiAgMTU2NFx0ICAgICAgICB9XG4gIDE1NjVcdCAgICAgICAgY29udGVudC5hcHBlbmQoXCJQaMawxqFuZyB0aOG7qWMgdGhhbmggdG/DoW46IFwiKS5hcHBlbmQocGh1b25nVGh1YykuYXBwZW5kKFwiXFxuXCIpO1xuICAxNTY2XHRcbiAgMTU2N1x0ICAgICAgICAvLyBM4bqleSBnaGkgY2jDuiBu4bq/dSBjw7NcbiAgMTU2OFx0ICAgICAgICBpZiAodGFfZ2hpQ2h1ICE9IG51bGwgJiYgIXRhX2doaUNodS5nZXRUZXh0KCkudHJpbSgpLmlzRW1wdHkoKSkge1xuICAxNTY5XHQgICAgICAgICAgICBjb250ZW50LmFwcGVuZChcIkdoaSBjaMO6OiBcIikuYXBwZW5kKHRhX2doaUNodS5nZXRUZXh0KCkudHJpbSgpKS5hcHBlbmQoXCJcXG48cmVzcG9uc2UgY2xpcHBlZD48Tk9URT5UbyBzYXZlIG9uIGNvbnRleHQgb25seSBwYXJ0IG9mIHRoaXMgZmlsZSBoYXMgYmVlbiBzaG93biB0byB5b3UuPC9OT1RFPlxuVG90YWwgbGluZXMgaW4gZmlsZTogMTY5NlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWFF1QUNwaGFvQ1NpckIyOWdDcmpVMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgY2hlY2sgdGhlIGhhbmRsZVRpbUtpZW1DbGljayBtZXRob2QgaW4gQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzBmNmQ2YWYtZmIzNi00NWQxLWE2NWUtOTg5Y2Y4NGFkOTlhIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOHI4Q0xTbUJERTFDeHhzY1BGWFh4UiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzEzNDksIDEzODZdfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGNoZWNrIHRoZSBoYW5kbGVEYW5nWHVhdENsaWNrIG1ldGhvZCBpbiBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDQzOFx0ICAgICAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgNDM5XHQgICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgNDQwXHQgICAgfVxuICAgNDQxXHRcbiAgIDQ0Mlx0ICAgIEBGWE1MXG4gICA0NDNcdCAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NDRcdCAgICAgICAgdHJ5IHtcbiAgIDQ0NVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdVxuICAgNDQ2XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgIDQ0N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDQ4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNDQ5XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDQ1MFx0XG4gICA0NTFcdCAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgNDUyXHQgICAgICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgIDQ1M1x0ICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG4gICA0NTRcdFxuICAgNDU1XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbiAgIDQ1Nlx0ICAgICAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xuICAgNDU3XHQgICAgICAgIH1cbiAgIDQ1OFx0ICAgIH1cbiAgIDQ1OVx0XG4gICA0NjBcdCAgICBARlhNTFxuICAgNDYxXHQgICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ2Mlx0ICAgICAgICB0cnkge1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFUSmJzYVBRVGtBdGNKQVJSeXhHSlB1In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyBjaGVjayB0aGUgaGFuZGxlRGFuZ1h1YXRDbGljayBtZXRob2QgaW4gQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYTk1ZWJmZmItMWMwZC00YWMxLThhZmMtNmI4NGYwOGY3YTYxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSzFpczFkUXpQekg4d25MYlJ3eWNZMSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YVwiLCBcInZpZXdfcmFuZ2VcIjogWzEzNDksIDEzNzJdfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3Mgc2VlIHRoZSBmdWxsIGhhbmRsZURhbmdYdWF0Q2xpY2sgbWV0aG9kOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YTpcbiAgMTM0OVx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAxMzUwXHRcbiAgMTM1MVx0ICAgICAgICAgICAgICAgIC8vIEzhuqV5IHN0YWdlIGhp4buHbiB04bqhaVxuICAxMzUyXHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGJ0bl9kYW5nWHVhdC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAxMzUzXHRcbiAgMTM1NFx0ICAgICAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgMTM1NVx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgMTM1Nlx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwixJDEg25nIG5o4bqtcFwiKTtcbiAgMTM1N1x0XG4gIDEzNThcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcCBoaeG7h24gdOG6oWlcbiAgMTM1OVx0ICAgICAgICAgICAgICAgIEFwcC50YWlLaG9hbiA9IG51bGw7XG4gIDEzNjBcdCAgICAgICAgICAgICAgICBBcHAudXNlciA9IG51bGw7XG4gIDEzNjFcdCAgICAgICAgICAgICAgICBBcHAubWEgPSBudWxsO1xuICAxMzYyXHRcbiAgMTM2M1x0ICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBzdGFnZVxuICAxMzY0XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAxMzY1XHRcbiAgMTM2Nlx0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsSQw6MgxJHEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIik7XG4gIDEzNjdcdCAgICAgICAgICAgIH1cbiAgMTM2OFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxMzY5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAxMzcwXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIMSRxINuZyB4deG6pXQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzcxXHQgICAgICAgIH1cbiAgMTM3Mlx0ICAgIH1cbiAgMTM3M1x0XG4gIDEzNzRcdCAgICAvKipcbiAgMTM3NVx0ICAgICAqIMOBcCBk4bulbmcgbcOjIGdp4bqjbSBnacOhIChn4buNaSB04burIEZYTUwpXG4gIDEzNzZcdCAgICAgKi9cbiAgMTM3N1x0ICAgIEBGWE1MXG4gIDEzNzhcdCAgICBwcml2YXRlIHZvaWQgYXBEdW5nTWFHaWFtR2lhKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTM3OVx0ICAgICAgICBhcER1bmdNYUdpYW1HaWEoKTtcbiAgMTM4MFx0ICAgIH1cbiAgMTM4MVx0XG4gIDEzODJcdCAgICAvKipcbiAgMTM4M1x0ICAgICAqIMOBcCBk4bulbmcgbcOjIGdp4bqjbSBnacOhXG4gIDEzODRcdCAgICAgKi9cbiAgMTM4NVx0ICAgIHByaXZhdGUgdm9pZCBhcER1bmdNYUdpYW1HaWEoKSB7XG4gIDEzODZcdCAgICAgICAgdHJ5IHtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE2ODJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThyOENMU21CREUxQ3h4c2NQRlhYeFIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0J3Mgc2VlIHRoZSBmdWxsIGhhbmRsZURhbmdYdWF0Q2xpY2sgbWV0aG9kOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjQxODU4MTY0LWQwZGYtNGFjMC1hNjg0LWUzNDE0YTIzODBiYiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNGUm03UGs0VFd3eUVLaHpoaEtSRGIiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsxMzQwLCAxMzcyXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIHNlZSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBoYW5kbGVEYW5nWHVhdENsaWNrIG1ldGhvZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4gIDEzNDlcdCAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgMTM1MFx0XG4gIDEzNTFcdCAgICAgICAgICAgICAgICAvLyBM4bqleSBzdGFnZSBoaeG7h24gdOG6oWlcbiAgMTM1Mlx0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBidG5fZGFuZ1h1YXQuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgMTM1M1x0XG4gIDEzNTRcdCAgICAgICAgICAgICAgICAvLyBUaGnhur90IGzhuq1wIHNjZW5lIG3hu5tpXG4gIDEzNTVcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gIDEzNTZcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIsSQxINuZyBuaOG6rXBcIik7XG4gIDEzNTdcdFxuICAxMzU4XHQgICAgICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAgaGnhu4duIHThuqFpXG4gIDEzNTlcdCAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSBudWxsO1xuICAxMzYwXHQgICAgICAgICAgICAgICAgQXBwLnVzZXIgPSBudWxsO1xuICAxMzYxXHQgICAgICAgICAgICAgICAgQXBwLm1hID0gbnVsbDtcbiAgMTM2Mlx0XG4gIDEzNjNcdCAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgMTM2NFx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgMTM2NVx0XG4gIDEzNjZcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLEkMOjIMSRxINuZyB4deG6pXQgdGjDoG5oIGPDtG5nXCIpO1xuICAxMzY3XHQgICAgICAgICAgICB9XG4gIDEzNjhcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM2OVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM3MFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDEkcSDbmcgeHXhuqV0OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM3MVx0ICAgICAgICB9XG4gIDEzNzJcdCAgICB9XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxNjgyXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLMWlzMWRRelB6SDh3bkxiUnd5Y1kxIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCdzIHNlZSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBoYW5kbGVEYW5nWHVhdENsaWNrIG1ldGhvZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5N2E1M2EwMC1jNDQwLTQyYmMtYTZjNS1lM2YxZWNjN2ViYmMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDZUF4cXNpQk1GS3ViYjRiaGZ0WVQyIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbMTMzMCwgMTM3Ml19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBzZWUgdGhlIHZlcnkgYmVnaW5uaW5nIG9mIHRoZSBoYW5kbGVEYW5nWHVhdENsaWNrIG1ldGhvZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4gIDEzNDBcdCAgICAgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiWMOhYyBuaOG6rW4gxJHEg25nIHh14bqldFwiKTtcbiAgMTM0MVx0ICAgICAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgMTM0Mlx0ICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gxJHEg25nIHh14bqldD9cIik7XG4gIDEzNDNcdFxuICAxMzQ0XHQgICAgICAgICAgICAvLyBO4bq/dSBuZ8aw4budaSBkw7luZyBuaOG6pW4gT0tcbiAgMTM0NVx0ICAgICAgICAgICAgaWYgKGFsZXJ0LnNob3dBbmRXYWl0KCkuZ2V0KCkgPT0gamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uVHlwZS5PSykge1xuICAxMzQ2XHQgICAgICAgICAgICAgICAgLy8gQ2h1eeG7g24gduG7gSBtw6BuIGjDrG5oIMSRxINuZyBuaOG6rXBcbiAgMTM0N1x0ICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL0xvZ2luX2d1aS5meG1sXCIpKTtcbiAgMTM0OFx0ICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgMTM0OVx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAxMzUwXHRcbiAgMTM1MVx0ICAgICAgICAgICAgICAgIC8vIEzhuqV5IHN0YWdlIGhp4buHbiB04bqhaVxuICAxMzUyXHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGJ0bl9kYW5nWHVhdC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAxMzUzXHRcbiAgMTM1NFx0ICAgICAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgMTM1NVx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgMTM1Nlx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwixJDEg25nIG5o4bqtcFwiKTtcbiAgMTM1N1x0XG4gIDEzNThcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcCBoaeG7h24gdOG6oWlcbiAgMTM1OVx0ICAgICAgICAgICAgICAgIEFwcC50YWlLaG9hbiA9IG51bGw7XG4gIDEzNjBcdCAgICAgICAgICAgICAgICBBcHAudXNlciA9IG51bGw7XG4gIDEzNjFcdCAgICAgICAgICAgICAgICBBcHAubWEgPSBudWxsO1xuICAxMzYyXHRcbiAgMTM2M1x0ICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBzdGFnZVxuICAxMzY0XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAxMzY1XHRcbiAgMTM2Nlx0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsSQw6MgxJHEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIik7XG4gIDEzNjdcdCAgICAgICAgICAgIH1cbiAgMTM2OFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxMzY5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAxMzcwXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIMSRxINuZyB4deG6pXQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzcxXHQgICAgICAgIH1cbiAgMTM3Mlx0ICAgIH1cblRvdGFsIGxpbmVzIGluIGZpbGU6IDE2ODJcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNGUm03UGs0VFd3eUVLaHpoaEtSRGIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0J3Mgc2VlIHRoZSB2ZXJ5IGJlZ2lubmluZyBvZiB0aGUgaGFuZGxlRGFuZ1h1YXRDbGljayBtZXRob2Q6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNWM2YjhjYTUtNDc5OS00OWE2LWE4ZjUtOTFiOTNmMGUyZGIwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU0V2OXRhSjM3aVA4Q3lzcU05SjlRNyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIEBGWE1MXFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEYW5nWHVhdENsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gSGlcXHUxZWMzbiB0aFxcdTFlY2IgaFxcdTFlZDlwIHRob1xcdTFlYTFpIHhcXHUwMGUxYyBuaFxcdTFlYWRuXFxuICAgICAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnRUeXBlLkNPTkZJUk1BVElPTik7XFxuICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXFxcIlhcXHUwMGUxYyBuaFxcdTFlYWRuIFxcdTAxMTFcXHUwMTAzbmcgeHVcXHUxZWE1dFxcXCIpO1xcbiAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XFxuICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXFxcIkJcXHUxZWExbiBjXFx1MDBmMyBjaFxcdTFlYWZjIGNoXFx1MWVhZm4gbXVcXHUxZWQxbiBcXHUwMTExXFx1MDEwM25nIHh1XFx1MWVhNXQ/XFxcIik7XFxuXFxuICAgICAgICAgICAgLy8gTlxcdTFlYmZ1IG5nXFx1MDFiMFxcdTFlZGRpIGRcXHUwMGY5bmcgbmhcXHUxZWE1biBPS1xcbiAgICAgICAgICAgIGlmIChhbGVydC5zaG93QW5kV2FpdCgpLmdldCgpID09IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvblR5cGUuT0spIHtcXG4gICAgICAgICAgICAgICAgLy8gQ2h1eVxcdTFlYzNuIHZcXHUxZWMxIG1cXHUwMGUwbiBoXFx1MDBlY25oIFxcdTAxMTFcXHUwMTAzbmcgbmhcXHUxZWFkcFxcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXFxcIi9meG1sL0xvZ2luX2d1aS5meG1sXFxcIikpO1xcbiAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcblxcbiAgICAgICAgICAgICAgICAvLyBMXFx1MWVhNXkgc3RhZ2UgaGlcXHUxZWM3biB0XFx1MWVhMWlcXG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGJ0bl9kYW5nWHVhdC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcblxcbiAgICAgICAgICAgICAgICAvLyBUaGlcXHUxZWJmdCBsXFx1MWVhZHAgc2NlbmUgbVxcdTFlZGJpXFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXFxcIlxcdTAxMTBcXHUwMTAzbmcgbmhcXHUxZWFkcFxcXCIpO1xcblxcbiAgICAgICAgICAgICAgICAvLyBYXFx1MDBmM2EgdGhcXHUwMGY0bmcgdGluIFxcdTAxMTFcXHUwMTAzbmcgbmhcXHUxZWFkcCBoaVxcdTFlYzduIHRcXHUxZWExaVxcbiAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSBudWxsO1xcbiAgICAgICAgICAgICAgICBBcHAudXNlciA9IG51bGw7XFxuICAgICAgICAgICAgICAgIEFwcC5tYSA9IG51bGw7XFxuXFxuICAgICAgICAgICAgICAgIC8vIEhpXFx1MWVjM24gdGhcXHUxZWNiIHN0YWdlXFxuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcXG5cXG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFxcXCJcXHUwMTEwXFx1MDBlMyBcXHUwMTExXFx1MDEwM25nIHh1XFx1MWVhNXQgdGhcXHUwMGUwbmggY1xcdTAwZjRuZ1xcXCIpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcXFwiTFxcdTFlZDdpXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBcXHUwMTExXFx1MDEwM25nIHh1XFx1MWVhNXQ6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIEBGWE1MXFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEYW5nWHVhdENsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy8gSGlcXHUxZWMzbiB0aFxcdTFlY2IgaFxcdTFlZDlwIHRob1xcdTFlYTFpIHhcXHUwMGUxYyBuaFxcdTFlYWRuXFxuICAgICAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnRUeXBlLkNPTkZJUk1BVElPTik7XFxuICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXFxcIlhcXHUwMGUxYyBuaFxcdTFlYWRuIFxcdTAxMTFcXHUwMTAzbmcgeHVcXHUxZWE1dFxcXCIpO1xcbiAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XFxuICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXFxcIkJcXHUxZWExbiBjXFx1MDBmMyBjaFxcdTFlYWZjIGNoXFx1MWVhZm4gbXVcXHUxZWQxbiBcXHUwMTExXFx1MDEwM25nIHh1XFx1MWVhNXQ/XFxcIik7XFxuXFxuICAgICAgICAgICAgLy8gTlxcdTFlYmZ1IG5nXFx1MDFiMFxcdTFlZGRpIGRcXHUwMGY5bmcgbmhcXHUxZWE1biBPS1xcbiAgICAgICAgICAgIGlmIChhbGVydC5zaG93QW5kV2FpdCgpLmdldCgpID09IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvblR5cGUuT0spIHtcXG4gICAgICAgICAgICAgICAgLy8gWFxcdTAwZjNhIHRoXFx1MDBmNG5nIHRpbiBcXHUwMTExXFx1MDEwM25nIG5oXFx1MWVhZHAgaGlcXHUxZWM3biB0XFx1MWVhMWlcXG4gICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gbnVsbDtcXG4gICAgICAgICAgICAgICAgQXBwLnVzZXIgPSBudWxsO1xcbiAgICAgICAgICAgICAgICBBcHAubWEgPSBudWxsO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgLy8gQ2h1eVxcdTFlYzNuIHZcXHUxZWMxIG1cXHUwMGUwbiBoXFx1MDBlY25oIFxcdTAxMTFcXHUwMTAzbmcgbmhcXHUxZWFkcFxcbiAgICAgICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL0xvZ2luX2d1aS5meG1sXFxcIik7XFxuICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXFxcIlxcdTAxMTBcXHUwMGUzIFxcdTAxMTFcXHUwMTAzbmcgeHVcXHUxZWE1dCB0aFxcdTAwZTBuaCBjXFx1MDBmNG5nXFxcIik7XFxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xcbiAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXFxcIkxcXHUxZWQ3aVxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFxcdTAxMTFcXHUwMTAzbmcgbmhcXHUxZWFkcDogXFxcIiArIGUuZ2V0TWVzc2FnZSgpKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcXG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcXFwiTFxcdTFlZDdpXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBcXHUwMTExXFx1MDEwM25nIHh1XFx1MWVhNXQ6IFxcXCIgKyBlLmdldE1lc3NhZ2UoKSk7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEzMzYsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTM3Mn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGZpeCB0aGUgaGFuZGxlRGFuZ1h1YXRDbGljayBtZXRob2Q6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOlxuICAxMzMwXHQgICAgfVxuICAxMzMxXHRcbiAgMTMzMlx0ICAgIC8qKlxuICAxMzMzXHQgICAgICogWOG7rSBsw70gc+G7sSBraeG7h24ga2hpIG5o4bqlbiBuw7p0IMSRxINuZyB4deG6pXRcbiAgMTMzNFx0ICAgICAqL1xuICAxMzM1XHQgICAgQEZYTUxcbiAgMTMzNlx0ICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEYW5nWHVhdENsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTMzN1x0ICAgICAgICB0cnkge1xuICAxMzM4XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgaOG7mXAgdGhv4bqhaSB4w6FjIG5o4bqtblxuICAxMzM5XHQgICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydFR5cGUuQ09ORklSTUFUSU9OKTtcbiAgMTM0MFx0ICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXCJYw6FjIG5o4bqtbiDEkcSDbmcgeHXhuqV0XCIpO1xuICAxMzQxXHQgICAgICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAxMzQyXHQgICAgICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiDEkcSDbmcgeHXhuqV0P1wiKTtcbiAgMTM0M1x0XG4gIDEzNDRcdCAgICAgICAgICAgIC8vIE7hur91IG5nxrDhu51pIGTDuW5nIG5o4bqlbiBPS1xuICAxMzQ1XHQgICAgICAgICAgICBpZiAoYWxlcnQuc2hvd0FuZFdhaXQoKS5nZXQoKSA9PSBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b25UeXBlLk9LKSB7XG4gIDEzNDZcdCAgICAgICAgICAgICAgICAvLyBDaHV54buDbiB24buBIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAxMzQ3XHQgICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvTG9naW5fZ3VpLmZ4bWxcIikpO1xuICAxMzQ4XHQgICAgICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAxMzQ5XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gIDEzNTBcdFxuICAxMzUxXHQgICAgICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gIDEzNTJcdCAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgYnRuX2RhbmdYdWF0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gIDEzNTNcdFxuICAxMzU0XHQgICAgICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBzY2VuZSBt4bubaVxuICAxMzU1XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAxMzU2XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAxMzU3XHRcbiAgMTM1OFx0ICAgICAgICAgICAgICAgIC8vIFjDs2EgdGjDtG5nIHRpbiDEkcSDbmcgbmjhuq1wIGhp4buHbiB04bqhaVxuICAxMzU5XHQgICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gbnVsbDtcbiAgMTM2MFx0ICAgICAgICAgICAgICAgIEFwcC51c2VyID0gbnVsbDtcbiAgMTM2MVx0ICAgICAgICAgICAgICAgIEFwcC5tYSA9IG51bGw7XG4gIDEzNjJcdFxuICAxMzYzXHQgICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHN0YWdlXG4gIDEzNjRcdCAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gIDEzNjVcdFxuICAxMzY2XHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwixJDDoyDEkcSDbmcgeHXhuqV0IHRow6BuaCBjw7RuZ1wiKTtcbiAgMTM2N1x0ICAgICAgICAgICAgfVxuICAxMzY4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDEzNjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzNzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgxJHEg25nIHh14bqldDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDEzNzFcdCAgICAgICAgfVxuICAxMzcyXHQgICAgfVxuVG90YWwgbGluZXMgaW4gZmlsZTogMTY4MlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQ2VBeHFzaUJNRkt1YmI0YmhmdFlUMiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgZml4IHRoZSBoYW5kbGVEYW5nWHVhdENsaWNrIG1ldGhvZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhZTkyMjhkNS1lNWQ5LTQ0YmMtYjYyZS03OTA3OGYzMzVlMmMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSc3NIM1VZWWRlSlZTZjM4a1A3N0dQIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGNoZWNrIHRoZSBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEgZmlsZSB0byBmaXggaXRzIG5hdmlnYXRpb24gbWV0aG9kczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgMTMzMVx0XG4gIDEzMzJcdCAgICAvKipcbiAgMTMzM1x0ICAgICAqIFjhu60gbMO9IHPhu7Ega2nhu4duIGtoaSBuaOG6pW4gbsO6dCDEkcSDbmcgeHXhuqV0XG4gIDEzMzRcdCAgICAgKi9cbiAgMTMzNVx0ICAgIEBGWE1MXG4gIDEzMzZcdCAgICBwcml2YXRlIHZvaWQgaGFuZGxlRGFuZ1h1YXRDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gIDEzMzdcdCAgICAgICAgdHJ5IHtcbiAgMTMzOFx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGjhu5lwIHRob+G6oWkgeMOhYyBuaOG6rW5cbiAgMTMzOVx0ICAgICAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnRUeXBlLkNPTkZJUk1BVElPTik7XG4gIDEzNDBcdCAgICAgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiWMOhYyBuaOG6rW4gxJHEg25nIHh14bqldFwiKTtcbiAgMTM0MVx0ICAgICAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgMTM0Mlx0ICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gxJHEg25nIHh14bqldD9cIik7XG4gIDEzNDNcdFxuICAxMzQ0XHQgICAgICAgICAgICAvLyBO4bq/dSBuZ8aw4budaSBkw7luZyBuaOG6pW4gT0tcbiAgMTM0NVx0ICAgICAgICAgICAgaWYgKGFsZXJ0LnNob3dBbmRXYWl0KCkuZ2V0KCkgPT0gamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uVHlwZS5PSykge1xuICAxMzQ2XHQgICAgICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAgaGnhu4duIHThuqFpXG4gIDEzNDdcdCAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSBudWxsO1xuICAxMzQ4XHQgICAgICAgICAgICAgICAgQXBwLnVzZXIgPSBudWxsO1xuICAxMzQ5XHQgICAgICAgICAgICAgICAgQXBwLm1hID0gbnVsbDtcbiAgMTM1MFx0XG4gIDEzNTFcdCAgICAgICAgICAgICAgICAvLyBDaHV54buDbiB24buBIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAxMzUyXHQgICAgICAgICAgICAgICAgdHJ5IHtcbiAgMTM1M1x0ICAgICAgICAgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL0xvZ2luX2d1aS5meG1sXCIpO1xuICAxMzU0XHQgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsSQw6MgxJHEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIik7XG4gIDEzNTVcdCAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxMzU2XHQgICAgICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzNTdcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIMSRxINuZyBuaOG6rXA6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzU4XHQgICAgICAgICAgICAgICAgfVxuICAxMzU5XHQgICAgICAgICAgICB9XG4gIDEzNjBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM2MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM2Mlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDEkcSDbmcgeHXhuqV0OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM2M1x0ICAgICAgICB9XG4gIDEzNjRcdCAgICB9XG4gIDEzNjVcdFxuICAxMzY2XHQgICAgLyoqXG4gIDEzNjdcdCAgICAgKiDDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoSAoZ+G7jWkgdOG7qyBGWE1MKVxuICAxMzY4XHQgICAgICovXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNFdjl0YUozN2lQOEN5c3FNOUo5UTcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGNoZWNrIHRoZSBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEgZmlsZSB0byBmaXggaXRzIG5hdmlnYXRpb24gbWV0aG9kczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0MjU2ZmVmOC00NzcwLTQwZmMtYjE0YS0xNjBjZDNmYjk1YzEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFOQTVDaG1CTkhHYnI2OUZEOUFtc2M5IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcXG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XFxuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXFxcIk5oXFx1MDBlMm4gdmlcXHUwMGVhblxcXCIpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJTXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIgLT4gXFxcIlRyYUN1dV9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiVFxcdTAwZTBpIGtob1xcdTFlYTNuXFxcIiAtPiBcXFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIkhvXFx1MDBlMSBcXHUwMTExXFx1MDFhMW5cXFwiIC0+IFxcXCJUcmFDdXVIb2FEb25fZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIlBoaVxcdTFlYmZ1IG5oXFx1MWVhZHBcXFwiIC0+IFxcXCJUcmFDdXVQaGlldU5oYXBfZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIktoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiIC0+IFxcXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcXFwiVW5leHBlY3RlZCB2YWx1ZTogXFxcIiArIHNlbGVjdGVkVmFsdWUpO1xcbiAgICAgICAgICAgICAgICB9O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvZnhtbC9cXFwiICsgZnhtbEZpbGUgKyBcXFwiLmZ4bWxcXFwiKSk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gVHJhIGNcXHUxZWU5dSBcXFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcXG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFxcXCJOaFxcdTAwZTJuIHZpXFx1MDBlYW5cXFwiKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcXG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcXFwiTmhcXHUwMGUybiB2aVxcdTAwZWFuXFxcIikpIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIlNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIiAtPiBcXFwiVHJhQ3V1X2d1aVxcXCI7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJUXFx1MDBlMGkga2hvXFx1MWVhM25cXFwiIC0+IFxcXCJUcmFDdXVUYWlLaG9hbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiSG9cXHUwMGUxIFxcdTAxMTFcXHUwMWExblxcXCIgLT4gXFxcIlRyYUN1dUhvYURvbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiUGhpXFx1MWViZnUgbmhcXHUxZWFkcFxcXCIgLT4gXFxcIlRyYUN1dVBoaWV1TmhhcF9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiS2hcXHUwMGUxY2ggaFxcdTAwZTBuZ1xcXCIgLT4gXFxcIlRyYUN1dUtoYWNoSGFuZ19ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFxcXCJVbmV4cGVjdGVkIHZhbHVlOiBcXFwiICsgc2VsZWN0ZWRWYWx1ZSk7XFxuICAgICAgICAgICAgICAgIH07XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvXFxcIiArIGZ4bWxGaWxlICsgXFxcIi5meG1sXFxcIik7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBUcmEgY1xcdTFlZTl1IFxcXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xcbiAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXFxcIk5oXFx1MDBlMm4gdmlcXHUwMGVhblxcXCIpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9XFxuICAgIFxcbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcXG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcXG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0MDAsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDI4fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBmaXggdGhlIG5hdmlnYXRpb24gbWV0aG9kcyBpbiBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YTpcbiAgICAgMVx0cGFja2FnZSBpdWguZml0LmNvbnRyb2xsZXI7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgaXVoLmZpdC5BcHA7XG4gICAgIDRcdGltcG9ydCBpdWguZml0LmRhb3MuTmhhblZpZW5fZGFvO1xuICAgICA1XHRpbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5OaGFuVmllbjtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5hbmltYXRpb24uRmFkZVRyYW5zaXRpb247XG4gICAgIDdcdGltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkludGVycG9sYXRvcjtcbiAgICAgOFx0aW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eTtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuICAgIDExXHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAxMlx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgMTNcdGltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuICAgIDE0XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgIDE1XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxNlx0aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLmNlbGwuUHJvcGVydHlWYWx1ZUZhY3Rvcnk7XG4gICAgMTdcdGltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuICAgIDE4XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0Lk1vdXNlRXZlbnQ7XG4gICAgMTlcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG4gICAgMjBcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g7XG4gICAgMjFcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgMjJcdGltcG9ydCBqYXZhZngudXRpbC5EdXJhdGlvbjtcbiAgICAyM1x0XG4gICAgMjRcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDI1XHRpbXBvcnQgamF2YS5uZXQuVVJMO1xuICAgIDI2XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbiAgICAyN1x0aW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7XG4gICAgMjhcdGltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDtcbiAgICAyOVx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgIDMwXHRpbXBvcnQgamF2YS51dGlsLk1hcDtcbiAgICAzMVx0aW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcbiAgICAzMlx0XG4gICAgMzNcdHB1YmxpYyBjbGFzcyBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG4gICAgMzRcdFxuICAgIDM1XHQgICAgQEZYTUxcbiAgICAzNlx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViTWVudUxpc3Q7XG4gICAgMzdcdFxuICAgIDM4XHQgICAgQEZYTUxcbiAgICAzOVx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViVkJveDtcbiAgICA0MFx0XG4gICAgNDFcdCAgICBARlhNTFxuICAgIDQyXHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX1RyYUN1dTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICBARlhNTFxuICAgIDQ1XHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX3FsTmhhblZpZW47XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgQEZYTUxcbiAgICA0OFx0ICAgIHByaXZhdGUgQ29tYm9Cb3g8U3RyaW5nPiBjY2JfR2lhb0RpZW47XG4gICAgNDlcdFxuICAgIDUwXHQgICAgQEZYTUxcbiAgICA1MVx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfY2NjZDtcbiAgICA1Mlx0XG4gICAgNTNcdCAgICBARlhNTFxuICAgIDU0XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxOaGFuVmllbiwgU3RyaW5nPiBjbF9jaHVjVnU7XG4gICAgNTVcdFxuICAgIDU2XHQgICAgQEZYTUxcbiAgICA1N1x0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfZGlhQ2hpO1xuICAgIDU4XHRcbiAgICA1OVx0ICAgIEBGWE1MXG4gICAgNjBcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPE5oYW5WaWVuLCBTdHJpbmc+IGNsX2VtYWlsO1xuICAgIDYxXHRcbiAgICA2Mlx0ICAgIEBGWE1MXG4gICAgNjNcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPE5oYW5WaWVuLCBTdHJpbmc+IGNsX21hTlY7XG4gICAgNjRcdFxuICAgIDY1XHQgICAgQEZYTUxcbiAgICA2Nlx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfbmdheVNpbmg7XG4gICAgNjdcdFxuICAgIDY4XHQgICAgQEZYTUxcbiAgICA2OVx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfc2R0O1xuICAgIDcwXHRcbiAgICA3MVx0ICAgIEBGWE1MXG4gICAgNzJcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPE5oYW5WaWVuLCBTdHJpbmc+IGNsX3N0dDtcbiAgICA3M1x0XG4gICAgNzRcdCAgICBARlhNTFxuICAgIDc1XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxOaGFuVmllbiwgU3RyaW5nPiBjbF90ZW5OVjtcbiAgICA3Nlx0XG4gICAgNzdcdCAgICBARlhNTFxuICAgIDc4XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX0hvYURvbjtcbiAgICA3OVx0XG4gICAgODBcdCAgICBARlhNTFxuICAgIDgxXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2dpb0hhbmc7XG4gICAgODJcdFxuICAgIDgzXHQgICAgQEZYTUxcbiAgICA4NFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19ob2FEb247XG4gICAgODVcdFxuICAgIDg2XHQgICAgQEZYTUxcbiAgICA4N1x0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19uaGFuVmllbjtcbiAgICA4OFx0XG4gICAgODlcdCAgICBARlhNTFxuICAgIDkwXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3BoaWV1TmhhcDtcbiAgICA5MVx0XG4gICAgOTJcdCAgICBARlhNTFxuICAgIDkzXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3F1YW5MeTtcbiAgICA5NFx0XG4gICAgOTVcdCAgICBARlhNTFxuICAgIDk2XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3NhblBoYW07XG4gICAgOTdcdFxuICAgIDk4XHQgICAgQEZYTUxcbiAgICA5OVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjtcbiAgIDEwMFx0XG4gICAxMDFcdCAgICBARlhNTFxuICAgMTAyXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RhaUtob2FuMTtcbiAgIDEwM1x0XG4gICAxMDRcdCAgICBARlhNTFxuICAgMTA1XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2U7XG4gICAxMDZcdFxuICAgMTA3XHQgICAgQEZYTUxcbiAgIDEwOFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlRG9hbmhUaHU7XG4gICAxMDlcdFxuICAgMTEwXHQgICAgQEZYTUxcbiAgIDExMVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlU2FuUGhhbTtcbiAgIDExMlx0XG4gICAxMTNcdCAgICBARlhNTFxuICAgMTE0XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RpbUtpZW07XG4gICAxMTVcdFxuICAgMTE2XHQgICAgQEZYTUxcbiAgIDExN1x0ICAgIHByaXZhdGUgTGFiZWwgbGJfSG9hRG9uO1xuICAgMTE4XHRcbiAgIDExOVx0ICAgIEBGWE1MXG4gICAxMjBcdCAgICBwcml2YXRlIExhYmVsIGxiX2NjY2Q7XG4gICAxMjFcdFxuICAgMTIyXHQgICAgQEZYTUxcbiAgIDEyM1x0ICAgIHByaXZhdGUgTGFiZWwgbGJfY2h1Y1Z1O1xuICAgMTI0XHRcbiAgIDEyNVx0ICAgIEBGWE1MXG4gICAxMjZcdCAgICBwcml2YXRlIExhYmVsIGxiX2RpYUNoaTtcbiAgIDEyN1x0XG4gICAxMjhcdCAgICBARlhNTFxuICAgMTI5XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9lbWFpbDtcbiAgIDEzMFx0XG4gICAxMzFcdCAgICBARlhNTFxuICAgMTMyXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9naW9IYW5nO1xuICAgMTMzXHRcbiAgIDEzNFx0ICAgIEBGWE1MXG4gICAxMzVcdCAgICBwcml2YXRlIExhYmVsIGxiX2hvYURvbjtcbiAgIDEzNlx0XG4gICAxMzdcdCAgICBARlhNTFxuICAgMTM4XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9tYU5WO1xuICAgMTM5XHRcbiAgIDE0MFx0ICAgIEBGWE1MXG4gICAxNDFcdCAgICBwcml2YXRlIExhYmVsIGxiX25nYXlTaW5oO1xuICAgMTQyXHRcbiAgIDE0M1x0ICAgIEBGWE1MXG4gICAxNDRcdCAgICBwcml2YXRlIExhYmVsIGxiX25oYW5WaWVuO1xuICAgMTQ1XHRcbiAgIDE0Nlx0ICAgIEBGWE1MXG4gICAxNDdcdCAgICBwcml2YXRlIExhYmVsIGxiX3BoaWV1TmhhcDtcbiAgIDE0OFx0XG4gICAxNDlcdCAgICBARlhNTFxuICAgMTUwXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9xdWFuTHk7XG4gICAxNTFcdFxuICAgMTUyXHQgICAgQEZYTUxcbiAgIDE1M1x0ICAgIHByaXZhdGUgTGFiZWwgbGJfc2FuUGhhbTtcbiAgIDE1NFx0XG4gICAxNTVcdCAgICBARlhNTFxuICAgMTU2XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9zZHQ7XG4gICAxNTdcdFxuICAgMTU4XHQgICAgQEZYTUxcbiAgIDE1OVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGFpS2hvYW47XG4gICAxNjBcdFxuICAgMTYxXHQgICAgQEZYTUxcbiAgIDE2Mlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGVuTlY7XG4gICAxNjNcdFxuICAgMTY0XHQgICAgQEZYTUxcbiAgIDE2NVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZTtcbiAgIDE2Nlx0XG4gICAxNjdcdCAgICBARlhNTFxuICAgMTY4XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlRG9hbmhUaHU7XG4gICAxNjlcdFxuICAgMTcwXHQgICAgQEZYTUxcbiAgIDE3MVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZVNhblBoYW07XG4gICAxNzJcdFxuICAgMTczXHQgICAgQEZYTUxcbiAgIDE3NFx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGltS2llbTtcbiAgIDE3NVx0XG4gICAxNzZcdCAgICBARlhNTFxuICAgMTc3XHQgICAgcHJpdmF0ZSBQYW5lIHBfSG9hRG9uO1xuICAgMTc4XHRcbiAgIDE3OVx0ICAgIEBGWE1MXG4gICAxODBcdCAgICBwcml2YXRlIFBhbmUgcF9naW9IYW5nO1xuICAgMTgxXHRcbiAgIDE4Mlx0ICAgIEBGWE1MXG4gICAxODNcdCAgICBwcml2YXRlIFBhbmUgcF9ob2FEb247XG4gICAxODRcdFxuICAgMTg1XHQgICAgQEZYTUxcbiAgIDE4Nlx0ICAgIHByaXZhdGUgUGFuZSBwX25oYW5WaWVuO1xuICAgMTg3XHRcbiAgIDE4OFx0ICAgIEBGWE1MXG4gICAxODlcdCAgICBwcml2YXRlIFBhbmUgcF9waGlldU5oYXA7XG4gICAxOTBcdFxuICAgMTkxXHQgICAgQEZYTUxcbiAgIDE5Mlx0ICAgIHByaXZhdGUgUGFuZSBwX3F1YW5MeTtcbiAgIDE5M1x0XG4gICAxOTRcdCAgICBARlhNTFxuICAgMTk1XHQgICAgcHJpdmF0ZSBQYW5lIHBfc2FuUGhhbTtcbiAgIDE5Nlx0XG4gICAxOTdcdCAgICBARlhNTFxuICAgMTk4XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGFpS2hvYW47XG4gICAxOTlcdFxuICAgMjAwXHQgICAgQEZYTUxcbiAgIDIwMVx0ICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2U7XG4gICAyMDJcdFxuICAgMjAzXHQgICAgQEZYTUxcbiAgIDIwNFx0ICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VEb2FuaFRodTtcbiAgIDIwNVx0XG4gICAyMDZcdCAgICBARlhNTFxuICAgMjA3XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZVNhblBoYW07XG4gICAyMDhcdFxuICAgMjA5XHQgICAgQEZYTUxcbiAgIDIxMFx0ICAgIHByaXZhdGUgUGFuZSBwX3RpbUtpZW07XG4gICAyMTFcdFxuICAgMjEyXHQgICAgQEZYTUxcbiAgIDIxM1x0ICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJNZW51TGlzdDtcbiAgIDIxNFx0XG4gICAyMTVcdCAgICBARlhNTFxuICAgMjE2XHQgICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1YlZCb3g7XG4gICAyMTdcdFxuICAgMjE4XHQgICAgQEZYTUxcbiAgIDIxOVx0ICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViTWVudUxpc3Q7XG4gICAyMjBcdFxuICAgMjIxXHQgICAgQEZYTUxcbiAgIDIyMlx0ICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViVkJveDtcbiAgIDIyM1x0XG4gICAyMjRcdCAgICBARlhNTFxuICAgMjI1XHQgICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJNZW51TGlzdDtcbiAgIDIyNlx0XG4gICAyMjdcdCAgICBARlhNTFxuICAgMjI4XHQgICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJWQm94O1xuICAgMjI5XHRcbiAgIDIzMFx0ICAgIEBGWE1MXG4gICAyMzFcdCAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfbWFOVjtcbiAgIDIzMlx0XG4gICAyMzNcdCAgICBARlhNTFxuICAgMjM0XHQgICAgcHJpdmF0ZSBUYWJsZVZpZXc8TmhhblZpZW4+IHRhYmxlTmhhblZpZW47XG4gICAyMzVcdFxuICAgMjM2XHQgICAgQEZYTUxcbiAgIDIzN1x0ICAgIHByaXZhdGUgVkJveCB2Qm94O1xuICAgMjM4XHRcbiAgIDIzOVx0ICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgIDI0MFx0ICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAyNDFcdCAgICAgICAgYWRkTWVudXNUb01hcEltcGwoKTtcbiAgIDI0Mlx0ICAgIH1cbiAgIDI0M1x0XG4gICAyNDRcdCAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAyNDVcdCAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgIDI0Nlx0ICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgIDI0N1x0ICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgMjQ4XHQgICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgIDI0OVx0XG4gICAyNTBcdCAgICAgICAgLyoqXG4gICAyNTFcdCAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAyNTJcdCAgICAgICAgICovXG4gICAyNTNcdCAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAyNTRcdCAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgMjU1XHQgICAgICAgIH1cbiAgIDI1Nlx0ICAgIH1cbiAgIDI1N1x0ICAgIC8qKlxuICAgMjU4XHQgICAgICogTWVudSBzbGlkZXJcbiAgIDI1OVx0ICAgICAqIEBwYXJhbSBtZW51XG4gICAyNjBcdCAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgMjYxXHQgICAgICovXG4gICAyNjJcdCAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsVkJveCBzdWJNZW51KXtcbiAgIDI2M1x0ICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgIDI2NFx0ICAgIH1cbiAgIDI2NVx0XG4gICAyNjZcdCAgICBwcml2YXRlIHZvaWQgdG9vbHNTbGlkZXJJbXBsKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpIHtcbiAgIDI2N1x0ICAgICAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpe1xuICAgMjY4XHQgICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgIDI2OVx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgIDI3MFx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgMjcxXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAyNzJcdCAgICAgICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoc3ViTWVudSk7XG4gICAyNzNcdCAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgMjc0XHQgICAgICAgIH1lbHNle1xuICAgMjc1XHQgICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgIDI3Nlx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgIDI3N1x0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgMjc4XHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAyNzlcdCAgICAgICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAyODBcdCAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgMjgxXHQgICAgICAgIH1cbiAgIDI4Mlx0ICAgIH1cbiAgIDI4M1x0XG4gICAyODRcdCAgICBwdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSl7XG4gICAyODVcdCAgICAgICAgcmVtb3ZlT3RoZXJNZW51c0ltcGwobWVudSk7XG4gICAyODZcdCAgICB9XG4gICAyODdcdCAgICBwcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAyODhcdCAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAyODlcdCAgICAgICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAyOTBcdCAgICAgICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgIDI5MVx0ICAgICAgICB9XG4gICAyOTJcdCAgICB9XG4gICAyOTNcdCAgICBARlhNTFxuICAgMjk0XHQgICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgMjk1XHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyBtZW51IGLDoW4gaMOgbmdcbiAgIDI5Nlx0ICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgIDI5N1x0ICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgIDI5OFx0ICAgIH1cbiAgIDI5OVx0XG4gICAzMDBcdCAgICBARlhNTFxuICAgMzAxXHQgICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAzMDJcdCAgICAgICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCxxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAzMDNcdCAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbiAgIDMwNFx0ICAgIH1cbiAgIDMwNVx0XG4gICAzMDZcdCAgICBARlhNTFxuICAgMzA3XHQgICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgMzA4XHQgICAgICAgIHRvb2xzU2xpZGVyKHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAzMDlcdCAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aG9uZ0tlU3ViVkJveCk7XG4gICAzMTBcdCAgICB9XG4gICAzMTFcdFxuICAgMzEyXHQgICAgQEZYTUxcbiAgIDMxM1x0ICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDMxNFx0ICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSB0w6xtIGtp4bq/bVxuICAgMzE1XHQgICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgMzE2XHQgICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuICAgMzE3XHQgICAgfVxuICAgMzE4XHRcbiAgIDMxOVx0ICAgIHByaXZhdGUgRGF0ZVRpbWVGb3JtYXR0ZXIgZGF0ZUZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXlcIik7XG4gICAzMjBcdFxuICAgMzIxXHQgICAgQE92ZXJyaWRlXG4gICAzMjJcdCAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCB1cmwsIFJlc291cmNlQnVuZGxlIHJlc291cmNlQnVuZGxlKSB7XG4gICAzMjNcdCAgICAgICAgYWRkTWVudXNUb01hcCgpO1xuICAgMzI0XHQgICAgICAgIHNldHVwVGFibGVDb2x1bW5zKCk7XG4gICAzMjVcdCAgICAgICAgbG9hZFRhYmxlRGF0YSgpO1xuICAgMzI2XHQgICAgICAgIHNldHVwVGFibGVDbGlja0V2ZW50KCk7XG4gICAzMjdcdCAgICAgICAgaW5pdGlhbGl6ZUNvbWJvQm94KCk7XG4gICAzMjhcdCAgICB9XG4gICAzMjlcdFxuICAgMzMwXHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFibGVDb2x1bW5zKCkge1xuICAgMzMxXHQgICAgICAgIGNsX3N0dC5zZXRDZWxsRmFjdG9yeShjb2wgLT4gbmV3IFRhYmxlQ2VsbDxOaGFuVmllbiwgU3RyaW5nPigpIHtcbiAgIDMzMlx0ICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAzMzNcdCAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHtcbiAgIDMzNFx0ICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpO1xuICAgMzM1XHQgICAgICAgICAgICAgICAgaWYgKGVtcHR5KSB7XG4gICAzMzZcdCAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTtcbiAgIDMzN1x0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAzMzhcdCAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChTdHJpbmcudmFsdWVPZihnZXRJbmRleCgpICsgMSkpO1xuICAgMzM5XHQgICAgICAgICAgICAgICAgfVxuICAgMzQwXHQgICAgICAgICAgICB9XG4gICAzNDFcdCAgICAgICAgfSk7XG4gICAzNDJcdFxuICAgMzQzXHQgICAgICAgIGNsX3N0dC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwic3R0XCIpKTtcbiAgIDM0NFx0ICAgICAgICBjbF9tYU5WLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYU5WXCIpKTtcbiAgIDM0NVx0ICAgICAgICBjbF90ZW5OVi5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwidGVuTlZcIikpO1xuICAgMzQ2XHQgICAgICAgIGNsX2NjY2Quc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcImNjY2RcIikpO1xuICAgMzQ3XHQgICAgICAgIGNsX3NkdC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwic2R0XCIpKTtcbiAgIDM0OFx0ICAgICAgICBjbF9lbWFpbC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwiZW1haWxcIikpO1xuICAgMzQ5XHQgICAgICAgIGNsX2RpYUNoaS5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwiZGlhQ2hpXCIpKTtcbiAgIDM1MFx0ICAgICAgICBjbF9jaHVjVnUuc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcImNodWNWdVwiKSk7XG4gICAzNTFcdCAgICAgICAgXG4gICAzNTJcdCAgICAgICAgLy8gxJDhu4tuaCBk4bqhbmcgbmfDoHkgc2luaFxuICAgMzUzXHQgICAgICAgIGNsX25nYXlTaW5oLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4ge1xuICAgMzU0XHQgICAgICAgICAgICBMb2NhbERhdGUgZGF0ZSA9IGNlbGxEYXRhLmdldFZhbHVlKCkuZ2V0TmdheVNpbmgoKTtcbiAgIDM1NVx0ICAgICAgICAgICAgaWYgKGRhdGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAzNTZcdCAgICAgICAgICAgIHJldHVybiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoZGF0ZS5mb3JtYXQoZGF0ZUZvcm1hdHRlcikpO1xuICAgMzU3XHQgICAgICAgIH0pO1xuICAgMzU4XHQgICAgfVxuICAgMzU5XHRcbiAgIDM2MFx0ICAgIHByaXZhdGUgdm9pZCBsb2FkVGFibGVEYXRhKCkge1xuICAgMzYxXHQgICAgICAgIHRyeSB7XG4gICAzNjJcdCAgICAgICAgICAgIE5oYW5WaWVuX2RhbyBuaGFuVmllbkRhbyA9IG5ldyBOaGFuVmllbl9kYW8oKTtcbiAgIDM2M1x0ICAgICAgICAgICAgTGlzdDxOaGFuVmllbj4gZHNudiA9IG5oYW5WaWVuRGFvLnJlYWRBbGxOaGFuVmllbigpO1xuICAgMzY0XHQgICAgICAgICAgICBPYnNlcnZhYmxlTGlzdDxOaGFuVmllbj4gZGF0YSA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChkc252KTtcbiAgIDM2NVx0ICAgICAgICAgICAgdGFibGVOaGFuVmllbi5zZXRJdGVtcyhkYXRhKTtcbiAgIDM2Nlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMzY3XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyB04bqjaSBk4buvIGxp4buHdSBuaMOibiB2acOqblwiKTtcbiAgIDM2OFx0ICAgICAgICB9XG4gICAzNjlcdCAgICB9XG4gICAzNzBcdFxuICAgMzcxXHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFibGVDbGlja0V2ZW50KCkge1xuICAgMzcyXHQgICAgICAgIHRhYmxlTmhhblZpZW4uc2V0T25Nb3VzZUNsaWNrZWQoZXZlbnQgLT4ge1xuICAgMzczXHQgICAgICAgICAgICBOaGFuVmllbiBzZWxlY3RlZE5oYW5WaWVuID0gdGFibGVOaGFuVmllbi5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgMzc0XHQgICAgICAgICAgICBpZiAoc2VsZWN0ZWROaGFuVmllbiAhPSBudWxsKSB7XG4gICAzNzVcdCAgICAgICAgICAgICAgICB1cGRhdGVMYWJlbHMoc2VsZWN0ZWROaGFuVmllbik7XG4gICAzNzZcdCAgICAgICAgICAgIH1cbiAgIDM3N1x0ICAgICAgICB9KTtcbiAgIDM3OFx0ICAgIH1cbiAgIDM3OVx0XG4gICAzODBcdCAgICBwcml2YXRlIHZvaWQgdXBkYXRlTGFiZWxzKE5oYW5WaWVuIG52KSB7XG4gICAzODFcdCAgICAgICAgbGJfbWFOVi5zZXRUZXh0KG52LmdldE1hTlYoKSk7XG4gICAzODJcdCAgICAgICAgbGJfdGVuTlYuc2V0VGV4dChudi5nZXRUZW5OVigpKTtcbiAgIDM4M1x0ICAgICAgICBsYl9jY2NkLnNldFRleHQobnYuZ2V0Q2NjZCgpKTtcbiAgIDM4NFx0ICAgICAgICBsYl9zZHQuc2V0VGV4dChudi5nZXRTZHQoKSk7XG4gICAzODVcdCAgICAgICAgbGJfZW1haWwuc2V0VGV4dChudi5nZXRFbWFpbCgpKTtcbiAgIDM4Nlx0ICAgICAgICBsYl9kaWFDaGkuc2V0VGV4dChudi5nZXREaWFDaGkoKSk7XG4gICAzODdcdCAgICAgICAgbGJfY2h1Y1Z1LnNldFRleHQobnYuZ2V0Q2h1Y1Z1KCkudG9TdHJpbmcoKSk7XG4gICAzODhcdCAgICAgICAgbGJfbmdheVNpbmguc2V0VGV4dChudi5nZXROZ2F5U2luaCgpLmZvcm1hdChkYXRlRm9ybWF0dGVyKSk7XG4gICAzODlcdCAgICB9XG4gICAzOTBcdFxuICAgMzkxXHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVDb21ib0JveCgpIHtcbiAgIDM5Mlx0ICAgICAgICBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoXG4gICAzOTNcdCAgICAgICAgICAgIFwiU+G6o24gcGjhuqltXCIsIFwiVMOgaSBraG/huqNuXCIsIFwiSG/DoSDEkcahblwiLCBcIlBoaeG6v3Ugbmjhuq1wXCIsIFwiTmjDom4gdmnDqm5cIiwgXCJLaMOhY2ggaMOgbmdcIlxuICAgMzk0XHQgICAgICAgICk7XG4gICAzOTVcdCAgICAgICAgY2NiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgMzk2XHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgMzk3XHQgICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAzOThcdCAgICB9XG4gICAzOTlcdFxuICAgNDAwXHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgNDAxXHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICA0MDJcdCAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICA0MDNcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIk5ow6JuIHZpw6puXCIpKSB7XG4gICA0MDRcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICA0MDVcdCAgICAgICAgICAgIH1cbiAgIDQwNlx0ICAgICAgICAgICAgXG4gICA0MDdcdCAgICAgICAgICAgIHRyeSB7XG4gICA0MDhcdCAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgIDQwOVx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICA0MTBcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICA0MTFcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgIDQxMlx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgIDQxM1x0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICA0MTRcdCAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgIDQxNVx0ICAgICAgICAgICAgICAgIH07XG4gICA0MTZcdCAgICAgICAgICAgICAgICBcbiAgIDQxN1x0ICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgIDQxOFx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgNDE5XHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgNDIwXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgNDIxXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDIyXHQgICAgICAgICAgICAgICAgXG4gICA0MjNcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0MjRcdCAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICA0MjVcdCAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJOaMOibiB2acOqblwiKTtcbiAgIDQyNlx0ICAgICAgICAgICAgfVxuICAgNDI3XHQgICAgICAgIH0pO1xuICAgNDI4XHQgICAgfVxuICAgNDI5XHRcbiAgIDQzMFx0ICAgIEBGWE1MXG4gICA0MzFcdCAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNDMyXHQgICAgICAgIFN0cmluZyBtYU5oYW5WaWVuID0gdHh0X21hTlYuZ2V0VGV4dCgpO1xuICAgNDMzXHQgICAgICAgIEFwcC5tYVRyYUN1dSA9IG1hTmhhblZpZW47XG4gICA0MzRcdCAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSBuZXcgTmhhblZpZW5fZGFvKCkucmVhZE5oYW5WaWVuKG1hTmhhblZpZW4pO1xuICAgNDM1XHQgICAgICAgIGxiX21hTlYuc2V0VGV4dChuaGFuVmllbi5nZXRNYU5WKCkpO1xuICAgNDM2XHQgICAgICAgIGxiX3Rlbk5WLnNldFRleHQobmhhblZpZW4uZ2V0VGVuTlYoKSk7XG4gICA0MzdcdCAgICAgICAgbGJfY2NjZC5zZXRUZXh0KG5oYW5WaWVuLmdldENjY2QoKSk7XG4gICA0MzhcdCAgICAgICAgbGJfc2R0LnNldFRleHQobmhhblZpZW4uZ2V0U2R0KCkpO1xuICAgNDM5XHQgICAgICAgIGxiX2VtYWlsLnNldFRleHQobmhhblZpZW4uZ2V0RW1haWwoKSk7XG4gICA0NDBcdCAgICAgICAgbGJfZGlhQ2hpLnNldFRleHQobmhhblZpZW4uZ2V0RGlhQ2hpKCkpO1xuICAgNDQxXHQgICAgICAgIGxiX2NodWNWdS5zZXRUZXh0KG5oYW5WaWVuLmdldENodWNWdSgpLnRvU3RyaW5nKCkpO1xuICAgNDQyXHQgICAgICAgIGxiX25nYXlTaW5oLnNldFRleHQobmhhblZpZW4uZ2V0TmdheVNpbmgoKS5mb3JtYXQoZGF0ZUZvcm1hdHRlcikpO1xuICAgNDQzXHQgICAgICAgIGhpZ2hsaWdodE1hdGNoaW5nUm93KG1hTmhhblZpZW4pO1xuICAgNDQ0XHQgICAgfVxuICAgNDQ1XHRcbiAgIDQ0Nlx0ICAgIHByaXZhdGUgdm9pZCBoaWdobGlnaHRNYXRjaGluZ1JvdyhTdHJpbmcgbWFOaGFuVmllbikge1xuICAgNDQ3XHQgICAgICAgIGlmIChtYU5oYW5WaWVuID09IG51bGwgfHwgbWFOaGFuVmllbi5pc0VtcHR5KCkpIHtcbiAgIDQ0OFx0ICAgICAgICAgICAgcmV0dXJuO1xuICAgNDQ5XHQgICAgICAgIH1cbiAgIDQ1MFx0XG4gICA0NTFcdCAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0YWJsZU5oYW5WaWVuLmdldEl0ZW1zKCkuc2l6ZSgpOyBpKyspIHtcbiAgIDQ1Mlx0ICAgICAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSB0YWJsZU5oYW5WaWVuLmdldEl0ZW1zKCkuZ2V0KGkpO1xuICAgNDUzXHQgICAgICAgICAgICBpZiAobmhhblZpZW4uZ2V0TWFOVigpLmVxdWFscyhtYU5oYW5WaWVuKSkgeyAgLy8gU+G7rWEgbOG6oWkgxJFp4buBdSBraeG7h24gc28gc8OhbmhcbiAgIDQ1NFx0ICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgcm93XG4gICA0NTVcdCAgICAgICAgICAgICAgICB0YWJsZU5oYW5WaWVuLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGkpO1xuICAgNDU2XHQgICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRoZSByb3dcbiAgIDQ1N1x0ICAgICAgICAgICAgICAgIHRhYmxlTmhhblZpZW4uc2Nyb2xsVG8oaSk7XG4gICA0NThcdCAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IGZvY3VzXG4gICA0NTlcdCAgICAgICAgICAgICAgICB0YWJsZU5oYW5WaWVuLnJlcXVlc3RGb2N1cygpO1xuICAgNDYwXHQgICAgICAgICAgICAgICAgYnJlYWs7XG4gICA0NjFcdCAgICAgICAgICAgIH1cbiAgIDQ2Mlx0ICAgICAgICB9XG4gICA0NjNcdCAgICB9XG4gICA0NjRcdFxuICAgNDY1XHQgICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICA0NjZcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgIDQ2N1x0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICA0NjhcdCAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgIDQ2OVx0ICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgIDQ3MFx0ICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgNDcxXHQgICAgfVxuICAgNDcyXHRcbiAgIDQ3M1x0ICAgIEBGWE1MXG4gICA0NzRcdCAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgNDc1XHQgICAgICAgIHRyeSB7XG4gICA0NzZcdCAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5SG9hRG9uX2d1aVwiKTtcbiAgIDQ3N1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICA0NzhcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBow7NhIMSRxqFuXCIpO1xuICAgNDc5XHQgICAgICAgIH1cbiAgIDQ4MFx0ICAgIH1cbiAgIDQ4MVx0XG4gICA0ODJcdCAgICBARlhNTFxuICAgNDgzXHQgICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ4NFx0ICAgICAgICB0cnkge1xuICAgNDg1XHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUtoYWNoSGFuZ19ndWlcIik7XG4gICA0ODZcdCAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgNDg3XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70ga2jDoWNoIGjDoG5nXCIpO1xuICAgNDg4XHQgICAgICAgIH1cbiAgIDQ4OVx0ICAgIH1cbiAgIDQ5MFx0XG4gICA0OTFcdCAgICBARlhNTFxuICAgNDkyXHQgICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgNDkzXHQgICAgICAgIHRyeSB7XG4gICA0OTRcdCAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5TmhhblZpZW5fZ3VpXCIpO1xuICAgNDk1XHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgIDQ5Nlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IG5ow6JuIHZpw6puXCIpO1xuICAgNDk3XHQgICAgICAgIH1cbiAgIDQ5OFx0ICAgIH1cbiAgIDQ5OVx0XG4gICA1MDBcdCAgICBARlhNTFxuICAgNTAxXHQgICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUwMlx0ICAgICAgICB0cnkge1xuICAgNTAzXHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVBoaWV1TmhhcF9ndWlcIik7XG4gICA1MDRcdCAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgNTA1XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcIik7XG4gICA1MDZcdCAgICAgICAgfVxuICAgNTA3XHQgICAgfVxuICAgNTA4XHRcbiAgIDUwOVx0ICAgIEBGWE1MXG4gICA1MTBcdCAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUxMVx0ICAgICAgICB0cnkge1xuICAgNTEyXHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVNhblBoYW1fZ3VpXCIpO1xuICAgNTEzXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgIDUxNFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHPhuqNuIHBo4bqpbVwiKTtcbiAgIDUxNVx0ICAgICAgICB9XG4gICA1MTZcdCAgICB9XG4gICA1MTdcdFxuICAgNTE4XHQgICAgQEZYTUxcbiAgIDUxOVx0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUyMFx0ICAgICAgICB0cnkge1xuICAgNTIxXHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVRhaUtob2FuX2d1aVwiKTtcbiAgIDUyMlx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICA1MjNcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSB0w6BpIGtob+G6o25cIik7XG4gICA1MjRcdCAgICAgICAgfVxuICAgNTI1XHQgICAgfVxuICAgNTI2XHRcbiAgIDUyN1x0ICAgIEBGWE1MXG4gICA1MjhcdCAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjlcdCAgICAgICAgdHJ5IHtcbiAgIDUzMFx0ICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUaG9uZ0tlRG9hbmhUaHVfZ3VpXCIpO1xuICAgNTMxXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgIDUzMlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBkb2FuaCB0aHVcIik7XG4gICA1MzNcdCAgICAgICAgfVxuICAgNTM0XHQgICAgfVxuICAgNTM1XHRcbiAgIDUzNlx0ICAgIEBGWE1MXG4gICA1MzdcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUzOFx0ICAgICAgICB0cnkge1xuICAgNTM5XHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VTYW5QaGFtX2d1aVwiKTtcbiAgIDU0MFx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICA1NDFcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXCIpO1xuICAgNTQyXHQgICAgICAgIH1cbiAgIDU0M1x0ICAgIH1cbiAgIDU0NFx0fVxuICAgNTQ1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDU0NVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUnNzSDNVWVlkZUpWU2YzOGtQNzdHUCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQncyBmaXggdGhlIG5hdmlnYXRpb24gbWV0aG9kcyBpbiBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOTE4MjBjYzMtYmE0Ny00YmRjLTkzYTItN2FiNGMzYjg4MjBkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU0JxdEM0UGRjNEZmcmJDYkJjdWNwUyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5SG9hRG9uX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIGhcXHUwMGYzYSBcXHUwMTExXFx1MDFhMW5cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5S2hhY2hIYW5nX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIGtoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFxcXCJRdWFuTHlOaGFuVmllbl9ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBuaFxcdTAwZTJuIHZpXFx1MDBlYW5cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5UGhpZXVOaGFwX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIHBoaVxcdTFlYmZ1IG5oXFx1MWVhZHBcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeVNhblBoYW1fZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgc1xcdTFlYTNuIHBoXFx1MWVhOW1cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFxcXCJRdWFuTHlUYWlLaG9hbl9ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCB0XFx1MDBlMGkga2hvXFx1MWVhM25cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFxcXCJUaG9uZ0tlRG9hbmhUaHVfZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFRoXFx1MWVkMW5nIGtcXHUwMGVhIGRvYW5oIHRodVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiVGhvbmdLZVNhblBoYW1fZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFRoXFx1MWVkMW5nIGtcXHUwMGVhIHNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJuZXdfc3RyXCI6IFwiICAgIEBGWE1MXFxuICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgaFxcdTAwZjNhIFxcdTAxMTFcXHUwMWExblxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQga2hcXHUwMGUxY2ggaFxcdTAwZTBuZ1xcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIG5oXFx1MDBlMm4gdmlcXHUwMGVhblxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgcGhpXFx1MWViZnUgbmhcXHUxZWFkcFxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBzXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIHRcXHUwMGUwaSBraG9cXHUxZWEzblxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL1Rob25nS2VEb2FuaFRodV9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gVGhcXHUxZWQxbmcga1xcdTAwZWEgZG9hbmggdGh1XFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gVGhcXHUxZWQxbmcga1xcdTAwZWEgc1xcdTFlYTNuIHBoXFx1MWVhOW1cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNDczLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDU0M31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGZpeCB0aGUgbmF2aWdhdGlvbiBtZXRob2RzIGluIFRyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAzOTZcdCAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAzOTdcdCAgICAgICAgc2V0dXBDb21ib0JveEhhbmRsZXIoKTtcbiAgIDM5OFx0ICAgIH1cbiAgIDM5OVx0XG4gICA0MDBcdCAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICA0MDFcdCAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgIDQwMlx0ICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgIDQwM1x0ICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgIDQwNFx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDQwNVx0ICAgICAgICAgICAgfVxuICAgNDA2XHRcbiAgIDQwN1x0ICAgICAgICAgICAgdHJ5IHtcbiAgIDQwOFx0ICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgNDA5XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgIDQxMFx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgIDQxMVx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgNDEyXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgNDEzXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgIDQxNFx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgNDE1XHQgICAgICAgICAgICAgICAgfTtcbiAgIDQxNlx0XG4gICA0MTdcdCAgICAgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpO1xuICAgNDE4XHRcbiAgIDQxOVx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQyMFx0ICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgIDQyMVx0ICAgICAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgNDIyXHQgICAgICAgICAgICB9XG4gICA0MjNcdCAgICAgICAgfSk7XG4gICA0MjRcdCAgICB9XG4gICA0MjVcdFxuICAgNDI2XHQgICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICA0MjdcdCAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgNDI4XHQgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgNDI5XHQgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDQzMFx0ICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICA0MzFcdCAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDMyXHQgICAgfVxuICAgNDMzXHRcbiAgIDQzNFx0ICAgIEBGWE1MXG4gICA0MzVcdCAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNDM2XHQgICAgICAgIFN0cmluZyBtYU5oYW5WaWVuID0gdHh0X21hTlYuZ2V0VGV4dCgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFOQTVDaG1CTkhHYnI2OUZEOUFtc2M5In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyBmaXggdGhlIG5hdmlnYXRpb24gbWV0aG9kcyBpbiBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmE6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZTEzMGMzNzItMmM0ZS00ZTIxLThiOWYtMDI2ZGNhOWViYzVjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTTR1SmQ3MmR5Rzg2Q2tNYjZoUFFKMyIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCB0aGUgc2V0dXBDb21ib0JveEhhbmRsZXIgbWV0aG9kIGluIFRyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIGNoZWNrIHRoZSBUcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEgZmlsZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICA0NzNcdCAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICA0NzRcdCAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgIDQ3NVx0ICAgIH1cbiAgIDQ3Nlx0XG4gICA0NzdcdCAgICBARlhNTFxuICAgNDc4XHQgICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ3OVx0ICAgICAgICB0cnkge1xuICAgNDgwXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgIDQ4MVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDgyXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgIDQ4M1x0ICAgICAgICB9XG4gICA0ODRcdCAgICB9XG4gICA0ODVcdFxuICAgNDg2XHQgICAgQEZYTUxcbiAgIDQ4N1x0ICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0ODhcdCAgICAgICAgdHJ5IHtcbiAgIDQ4OVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICA0OTBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ5MVx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgIDQ5Mlx0ICAgICAgICB9XG4gICA0OTNcdCAgICB9XG4gICA0OTRcdFxuICAgNDk1XHQgICAgQEZYTUxcbiAgIDQ5Nlx0ICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ5N1x0ICAgICAgICB0cnkge1xuICAgNDk4XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgNDk5XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MDBcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBuaMOibiB2acOqblwiKTtcbiAgIDUwMVx0ICAgICAgICB9XG4gICA1MDJcdCAgICB9XG4gICA1MDNcdFxuICAgNTA0XHQgICAgQEZYTUxcbiAgIDUwNVx0ICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MDZcdCAgICAgICAgdHJ5IHtcbiAgIDUwN1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICA1MDhcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUwOVx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXCIpO1xuICAgNTEwXHQgICAgICAgIH1cbiAgIDUxMVx0ICAgIH1cbiAgIDUxMlx0XG4gICA1MTNcdCAgICBARlhNTFxuICAgNTE0XHQgICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MTVcdCAgICAgICAgdHJ5IHtcbiAgIDUxNlx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgNTE3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MThcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cIik7XG4gICA1MTlcdCAgICAgICAgfVxuICAgNTIwXHQgICAgfVxuICAgNTIxXHRcbiAgIDUyMlx0ICAgIEBGWE1MXG4gICA1MjNcdCAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjRcdCAgICAgICAgdHJ5IHtcbiAgIDUyNVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgIDUyNlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTI3XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gdMOgaSBraG/huqNuXCIpO1xuICAgNTI4XHQgICAgICAgIH1cbiAgIDUyOVx0ICAgIH1cbiAgIDUzMFx0XG4gICA1MzFcdCAgICBARlhNTFxuICAgNTMyXHQgICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgNTMzXHQgICAgICAgIHRyeSB7XG4gICA1MzRcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgNTM1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MzZcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogZG9hbmggdGh1XCIpO1xuICAgNTM3XHQgICAgICAgIH1cbiAgIDUzOFx0ICAgIH1cbiAgIDUzOVx0XG4gICA1NDBcdCAgICBARlhNTFxuICAgNTQxXHQgICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1NDJcdCAgICAgICAgdHJ5IHtcbiAgIDU0M1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgIDU0NFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTQ1XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVwiKTtcbiAgIDU0Nlx0ICAgICAgICB9XG4gICA1NDdcdCAgICB9XG4gICA1NDhcdH1cbiAgIDU0OVx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNCcXRDNFBkYzRGZnJiQ2JCY3VjcFMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGNoZWNrIHRoZSBUcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEgZmlsZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4YzBiZmE2Mi1mZDUzLTQzNWEtOTA2YS03N2E1NjExODMwZmMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWVld2ZEx6WFk5SjJya1RqR1J2b1BNIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmFcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcXG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XFxuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXFxcIlRcXHUwMGUwaSBraG9cXHUxZWEzblxcXCIpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJTXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIgLT4gXFxcIlRyYUN1dV9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiSG9cXHUwMGUxIFxcdTAxMTFcXHUwMWExblxcXCIgLT4gXFxcIlRyYUN1dUhvYURvbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiUGhpXFx1MWViZnUgbmhcXHUxZWFkcFxcXCIgLT4gXFxcIlRyYUN1dVBoaWV1TmhhcF9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiTmhcXHUwMGUybiB2aVxcdTAwZWFuXFxcIiAtPiBcXFwiVHJhQ3V1TmhhblZpZW5fZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIktoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiIC0+IFxcXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcXFwiVW5leHBlY3RlZCB2YWx1ZTogXFxcIiArIHNlbGVjdGVkVmFsdWUpO1xcbiAgICAgICAgICAgICAgICB9O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvZnhtbC9cXFwiICsgZnhtbEZpbGUgKyBcXFwiLmZ4bWxcXFwiKSk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gVHJhIGNcXHUxZWU5dSBcXFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcXG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFxcXCJUXFx1MDBlMGkga2hvXFx1MWVhM25cXFwiKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KTtcXG4gICAgfVwiLCBcIm5ld19zdHJcIjogXCIgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcXG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcXFwiVFxcdTAwZTBpIGtob1xcdTFlYTNuXFxcIikpIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIlNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIiAtPiBcXFwiVHJhQ3V1X2d1aVxcXCI7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJIb1xcdTAwZTEgXFx1MDExMVxcdTAxYTFuXFxcIiAtPiBcXFwiVHJhQ3V1SG9hRG9uX2d1aVxcXCI7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJQaGlcXHUxZWJmdSBuaFxcdTFlYWRwXFxcIiAtPiBcXFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVxcXCI7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJOaFxcdTAwZTJuIHZpXFx1MDBlYW5cXFwiIC0+IFxcXCJUcmFDdXVOaGFuVmllbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiS2hcXHUwMGUxY2ggaFxcdTAwZTBuZ1xcXCIgLT4gXFxcIlRyYUN1dUtoYWNoSGFuZ19ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFxcXCJVbmV4cGVjdGVkIHZhbHVlOiBcXFwiICsgc2VsZWN0ZWRWYWx1ZSk7XFxuICAgICAgICAgICAgICAgIH07XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvXFxcIiArIGZ4bWxGaWxlICsgXFxcIi5meG1sXFxcIik7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBUcmEgY1xcdTFlZTl1IFxcXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xcbiAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXFxcIlRcXHUwMGUwaSBraG9cXHUxZWEzblxcXCIpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9XFxuICAgIFxcbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcXG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcXG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0MDAsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDI4fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBmaXggdGhlIFRyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSBmaWxlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxucHVibGljIGNsYXNzIFRyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIgaW1wbGVtZW50cyBJbml0aWFsaXphYmxlIHtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IGJhbkhhbmdTdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IGJhbkhhbmdTdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEJ1dHRvbiBidG5fVHJhQ3V1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEJ1dHRvbiBidG5fcWxUYWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBDb21ib0JveDxTdHJpbmc+IGNjYl9HaWFvRGllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxUYWlLaG9hbiwgU3RyaW5nPiBjbF9tYVRLO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFRhaUtob2FuLCBTdHJpbmc+IGNsX21rO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFRhaUtob2FuLCBTdHJpbmc+IGNsX3N0dDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxUYWlLaG9hbiwgU3RyaW5nPiBjbF90ZW5ETjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxUYWlLaG9hbiwgU3RyaW5nPiBjbF90Z2RuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFRhaUtob2FuLCBTdHJpbmc+IGNsX21hTlY7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfaG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfbmhhblZpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19zYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjE7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9tYVRLO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX21rO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX25oYW5WaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3BoaWV1TmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfc2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90YWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90ZW5ETjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90Z2RuO1xuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hVEs7XG4gICAgXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlVmlldzxUYWlLaG9hbj4gdGFibGVUYWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG5cbiAgICBNYXA8VkJveCxWQm94PiBtYXAgPSBuZXcgSGFzaE1hcDxWQm94LFZCb3g+KCk7XG4gICAgcHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgICAgICAgYWRkTWVudXNUb01hcEltcGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAgICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZW51IHNsaWRlclxuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICogQHBhcmFtIHN1Yk1lbnVcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsVkJveCBzdWJNZW51KXtcbiAgICAgICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsc3ViTWVudSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHRvb2xzU2xpZGVySW1wbChWQm94IG1lbnUsVkJveCBzdWJNZW51KSB7XG4gICAgICAgIGlmKG1lbnUuZ2V0Q2hpbGRyZW4oKS5jb250YWlucyhzdWJNZW51KSl7XG4gICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLmFkZChzdWJNZW51KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyB2b2lkIHJlbW92ZU90aGVyTWVudXMoVkJveCBtZW51KXtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51c0ltcGwobWVudSk7XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCByZW1vdmVPdGhlck1lbnVzSW1wbChWQm94IG1lbnUpIHtcbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBpZighZW50cnkuZ2V0S2V5KCkuZXF1YWxzKG1lbnUpKVxuICAgICAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIHRvb2xzU2xpZGVyKGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdG9vbHNTbGlkZXIodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aG9uZ0tlU3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBtZW51IHTDrG0ga2nhur9tXG4gICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKHRpbUtpZW1TdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdGltS2llbShNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICAgICAgU3RyaW5nIG1hVGFpS2hvYW4gPSB0eHRfbWFUSy5nZXRUZXh0KCk7XG4gICAgICAgIEFwcC5tYVRyYUN1dSA9IG1hVGFpS2hvYW47XG4gICAgICAgIFRhaUtob2FuIHRrID0gbmV3IFRhaUtob2FuX2RhbygpLnJlYWQobWFUYWlLaG9hbik7XG4gICAgICAgIGxiX21hVEsuc2V0VGV4dCh0ay5nZXRNYVRhaUtob2FuKCkpO1xuICAgICAgICBsYl90ZW5ETi5zZXRUZXh0KHRrLmdldFRlbkRhbmdOaGFwKCkpO1xuICAgICAgICBsYl9tay5zZXRUZXh0KHRrLmdldE1hdEtoYXUoKSk7XG4gICAgICAgIERhdGVUaW1lRm9ybWF0dGVyIGZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXlcIik7XG4gICAgICAgIGxiX3RnZG4uc2V0VGV4dCh0ay5nZXRUaG9pR2lhbkRhbmdOaGFwKCkuZm9ybWF0KGZvcm1hdHRlcikpO1xuICAgICAgICBoaWdobGlnaHRNYXRjaGluZ1JvdyhtYVRhaUtob2FuKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgaGlnaGxpZ2h0TWF0Y2hpbmdSb3coU3RyaW5nIG1hVGFpS2hvYW4pIHtcbiAgICAgICAgaWYgKG1hVGFpS2hvYW4gPT0gbnVsbCB8fCBtYVRhaUtob2FuLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0YWJsZVRhaUtob2FuLmdldEl0ZW1zKCkuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgIFRhaUtob2FuIHRhaUtob2FuID0gdGFibGVUYWlLaG9hbi5nZXRJdGVtcygpLmdldChpKTtcbiAgICAgICAgICAgIGlmICh0YWlLaG9hbi5nZXRNYVRhaUtob2FuKCkuZXF1YWxzKG1hVGFpS2hvYW4pKSB7ICAvLyBT4butYSBs4bqhaSDEkWnhu4F1IGtp4buHbiBzbyBzw6FuaFxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgcm93XG4gICAgICAgICAgICAgICAgdGFibGVUYWlLaG9hbi5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChpKTtcbiAgICAgICAgICAgICAgICAvLyBTY3JvbGwgdG8gdGhlIHJvd1xuICAgICAgICAgICAgICAgIHRhYmxlVGFpS2hvYW4uc2Nyb2xsVG8oaSk7XG4gICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBmb2N1c1xuICAgICAgICAgICAgICAgIHRhYmxlVGFpS2hvYW4ucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgYXJnMCwgUmVzb3VyY2VCdW5kbGUgYXJnMSkge1xuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gQ29tYm9Cb3hcbiAgICAgICAgaW5pdGlhbGl6ZUNvbWJvQm94KCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIGPDoWMgY+G7mXQgY2hvIGLhuqNuZ1xuICAgICAgICBpbml0aWFsaXplVGFibGVDb2x1bW5zKCk7XG5cbiAgICAgICAgLy8gTG9hZCBk4buvIGxp4buHdSB2w6BvIGLhuqNuZ1xuICAgICAgICBsb2FkVGFibGVEYXRhKCk7XG5cbiAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gY2xpY2sgY2hvIGLhuqNuZ1xuICAgICAgICBzZXR1cFRhYmxlQ2xpY2tFdmVudCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplQ29tYm9Cb3goKSB7XG4gICAgICAgIE9ic2VydmFibGVMaXN0PFN0cmluZz4gbGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChcbiAgICAgICAgICAgICAgICBcIlPhuqNuIHBo4bqpbVwiLCBcIlTDoGkga2hv4bqjblwiLCBcIkhvw6EgxJHGoW5cIiwgXCJQaGnhur91IG5o4bqtcFwiLCBcIk5ow6JuIHZpw6puXCIsIFwiS2jDoWNoIGjDoG5nXCJcbiAgICAgICAgKTtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJOaMOibiB2acOqblwiKTtcbiAgICAgICAgc2V0dXBDb21ib0JveEhhbmRsZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiVMOgaSBraG/huqNuXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJUw6BpIGtob+G6o25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzaG93RXJyb3IoU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplVGFibGVDb2x1bW5zKCkge1xuICAgICAgICAvLyBD4buZdCBTVFRcbiAgICAgICAgY2xfc3R0LnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgVGFibGVDZWxsPFRhaUtob2FuLCBTdHJpbmc+KCkge1xuICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7XG4gICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChTdHJpbmcudmFsdWVPZihnZXRJbmRleCgpICsgMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ8OhYyBj4buZdCBraMOhY1xuICAgICAgICBjbF9tYVRLLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYVRhaUtob2FuXCIpKTtcbiAgICAgICAgY2xfdGVuRE4uc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcInRlbkRhbmdOaGFwXCIpKTtcbiAgICAgICAgY2xfbWsuc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcIm1hdEtoYXVcIikpO1xuICAgICAgICAvLyDEkOG7i25oIGThuqFuZyBuZ8OgeSB0aMOhbmdcbiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZGF0ZUZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXkgSEg6bW1cIik7XG5cbiAgICAgICAgLy8gQ+G7mXQgTmfDoHkgc+G6o24geHXhuqV0XG4gICAgICAgIGNsX3RnZG4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7XG4gICAgICAgICAgICBMb2NhbERhdGVUaW1lIGRhdGUgPSBjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldFRob2lHaWFuRGFuZ05oYXAoKTtcbiAgICAgICAgICAgIGlmIChkYXRlID09IG51bGwpIHJldHVybiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoXCJcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KGRhdGUuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXkgSEg6bW1cIikpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNsX21hTlYuc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPlxuICAgICAgICAgICAgICAgIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShjZWxsRGF0YS5nZXRWYWx1ZSgpLmdldE5oYW5WaWVuKCkuZ2V0TWFOVigpKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRUYWJsZURhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBUYWlLaG9hbl9kYW8gdGFpS2hvYW5EYW8gPSBuZXcgVGFpS2hvYW5fZGFvKCk7XG4gICAgICAgICAgICBMaXN0PFRhaUtob2FuPiBkc3NwID0gdGFpS2hvYW5EYW8ucmVhZEFsbCgpO1xuICAgICAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8VGFpS2hvYW4+IGRhdGEgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoZHNzcCk7XG4gICAgICAgICAgICB0YWJsZVRhaUtob2FuLnNldEl0ZW1zKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUik7XG4gICAgICAgICAgICBhbGVydC5zZXRUaXRsZShcIkzhu5dpXCIpO1xuICAgICAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChcIkzhu5dpIGtoaSB04bqjaSBk4buvIGxp4buHdVwiKTtcbiAgICAgICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KFwixJDDoyB44bqjeSByYSBs4buXaSBraGkgdOG6o2kgZOG7ryBsaeG7h3UuIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUuXCIpO1xuICAgICAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cFRhYmxlQ2xpY2tFdmVudCgpIHtcbiAgICAgICAgdGFibGVUYWlLaG9hbi5zZXRPbk1vdXNlQ2xpY2tlZChldmVudCAtPiB7XG4gICAgICAgICAgICBUYWlLaG9hbiBzZWxlY3RlZFRhaUtob2FuID0gdGFibGVUYWlLaG9hbi5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGFpS2hvYW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVscyhzZWxlY3RlZFRhaUtob2FuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZUxhYmVscyhUYWlLaG9hbiB0aykge1xuICAgICAgICBsYl9tYVRLLnNldFRleHQodGsuZ2V0TWFUYWlLaG9hbigpKTtcbiAgICAgICAgbGJfdGVuRE4uc2V0VGV4dCh0ay5nZXRUZW5EYW5nTmhhcCgpKTtcbiAgICAgICAgbGJfbWsuc2V0VGV4dCh0ay5nZXRNYXRLaGF1KCkpO1xuICAgICAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJISDptbSBkZC9NTS95eXl5XCIpO1xuICAgICAgICBsYl90Z2RuLnNldFRleHQodGsuZ2V0VGhvaUdpYW5EYW5nTmhhcCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcbiAgICAgICAgbGJfbWFOVi5zZXRUZXh0KFN0cmluZy52YWx1ZU9mKHRrLmdldE5oYW5WaWVuKCkuZ2V0TWFOVigpKSk7XG5cbiAgICB9XG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlIb2FEb25fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5S2hhY2hIYW5nX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlOaGFuVmllbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBuaMOibiB2acOqblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5UGhpZXVOaGFwX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5U2FuUGhhbV9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5VGFpS2hvYW5fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gdMOgaSBraG/huqNuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VEb2FuaFRodV9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogZG9hbmggdGh1XCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVGhvbmdLZVNhblBoYW1fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplQ29tYm9Cb3goKSB7XG4gICAgICAgIE9ic2VydmFibGVMaXN0PFN0cmluZz4gbGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChcbiAgICAgICAgICAgICAgICBcIlPhuqNuIHBo4bqpbVwiLCBcIlTDoGkga2hv4bqjblwiLCBcIkhvw6EgxJHGoW5cIiwgXCJQaGnhur91IG5o4bqtcFwiLCBcIk5ow6JuIHZpw6puXCIsIFwiS2jDoWNoIGjDoG5nXCJcbiAgICAgICAgKTtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJLaMOhY2ggaMOgbmdcIik7XG4gICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIktow6FjaCBow6BuZ1wiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUhvYURvbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVDb21ib0JveCgpIHtcbiAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8U3RyaW5nPiBsaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KFxuICAgICAgICAgICAgICAgIFwiU+G6o24gcGjhuqltXCIsIFwiVMOgaSBraG/huqNuXCIsIFwiSG/DoSDEkcahblwiLCBcIlBoaeG6v3Ugbmjhuq1wXCIsIFwiTmjDom4gdmnDqm5cIiwgXCJLaMOhY2ggaMOgbmdcIlxuICAgICAgICApO1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0SXRlbXMobGlzdCk7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIkhvw6EgxJHGoW5cIik7XG4gICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIkhvw6EgxJHGoW5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVDb21ib0JveCgpIHtcbiAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8U3RyaW5nPiBsaXN0ID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KFxuICAgICAgICAgICAgICAgIFwiU+G6o24gcGjhuqltXCIsIFwiVMOgaSBraG/huqNuXCIsIFwiSG/DoSDEkcahblwiLCBcIlBoaeG6v3Ugbmjhuq1wXCIsIFwiTmjDom4gdmnDqm5cIiwgXCJLaMOhY2ggaMOgbmdcIlxuICAgICAgICApO1xuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0SXRlbXMobGlzdCk7XG4gICAgICAgIGNiYl9HaWFvRGllbi5zZXRWYWx1ZShcIlPhuqNuIHBo4bqpbVwiKTtcbiAgICAgICAgc2V0dXBDb21ib0JveEhhbmRsZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNiYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiU+G6o24gcGjhuqltXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiUGhp4bq/dSBuaOG6rXBcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJOaMOibiB2acOqblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTTR1SmQ3MmR5Rzg2Q2tNYjZoUFFKMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQncyBmaXggdGhlIFRyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YSBmaWxlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImI0Yjc3OWMzLWI0MWYtNDM0ZS05YTM5LTU5NDA4MTk3YzIwZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRLSnR3YkdFd05kQ2ZrVWt0S3h1d2kiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeUhvYURvbl9ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBoXFx1MDBmM2EgXFx1MDExMVxcdTAxYTFuXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeUtoYWNoSGFuZ19ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBraFxcdTAwZTFjaCBoXFx1MDBlMG5nXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5TmhhblZpZW5fZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgbmhcXHUwMGUybiB2aVxcdTAwZWFuXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeVBoaWV1TmhhcF9ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBwaGlcXHUxZWJmdSBuaFxcdTFlYWRwXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFxcXCJRdWFuTHlTYW5QaGFtX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIHNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5VGFpS2hvYW5fZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgdFxcdTAwZTBpIGtob1xcdTFlYTNuXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiVGhvbmdLZURvYW5oVGh1X2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBUaFxcdTFlZDFuZyBrXFx1MDBlYSBkb2FuaCB0aHVcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlRob25nS2VTYW5QaGFtX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBUaFxcdTFlZDFuZyBrXFx1MDBlYSBzXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIGhcXHUwMGYzYSBcXHUwMTExXFx1MDFhMW5cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIGtoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBuaFxcdTAwZTJuIHZpXFx1MDBlYW5cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIHBoaVxcdTFlYmZ1IG5oXFx1MWVhZHBcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgc1xcdTFlYTNuIHBoXFx1MWVhOW1cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCB0XFx1MDBlMGkga2hvXFx1MWVhM25cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFRoXFx1MWVkMW5nIGtcXHUwMGVhIGRvYW5oIHRodVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFRoXFx1MWVkMW5nIGtcXHUwMGVhIHNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDQ3MywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1NDN9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBsZXQncyBmaXggdGhlIG5hdmlnYXRpb24gbWV0aG9kcyBpbiBUcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmE6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMzUzXHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgMzU0XHQgICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAzNTVcdCAgICB9XG4gICAzNTZcdFxuICAgMzU3XHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgMzU4XHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAzNTlcdCAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAzNjBcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlTDoGkga2hv4bqjblwiKSkge1xuICAgMzYxXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMzYyXHQgICAgICAgICAgICB9XG4gICAzNjNcdFxuICAgMzY0XHQgICAgICAgICAgICB0cnkge1xuICAgMzY1XHQgICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAzNjZcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgMzY3XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAzNjhcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAzNjlcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgIDM3MFx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAzNzFcdCAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgIDM3Mlx0ICAgICAgICAgICAgICAgIH07XG4gICAzNzNcdFxuICAgMzc0XHQgICAgICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKTtcbiAgIDM3NVx0XG4gICAzNzZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAzNzdcdCAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAzNzhcdCAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJUw6BpIGtob+G6o25cIik7XG4gICAzNzlcdCAgICAgICAgICAgIH1cbiAgIDM4MFx0ICAgICAgICB9KTtcbiAgIDM4MVx0ICAgIH1cbiAgIDM4Mlx0XG4gICAzODNcdCAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgIDM4NFx0ICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAzODVcdCAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAzODZcdCAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMzg3XHQgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgIDM4OFx0ICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAzODlcdCAgICB9XG4gICAzOTBcdFxuICAgMzkxXHQgICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAzOTJcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgIDM5M1x0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZWV3ZkTHpYWTlKMnJrVGpHUnZvUE0ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIGZpeCB0aGUgbmF2aWdhdGlvbiBtZXRob2RzIGluIFRyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkMjY3NWU1OC0xNTY2LTRiNzItOWQ5Mi0zMzkwZTY4NTM0ODEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFKV2dpMkt0Z2tVSmNFZXJWTER3N1Q0IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFs0MDAsIDQzMF19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBjaGVjayB0aGUgVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSBmaWxlOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDQ2MFx0ICAgICAgICBsYl90Z2RuLnNldFRleHQodGsuZ2V0VGhvaUdpYW5EYW5nTmhhcCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcbiAgIDQ2MVx0ICAgICAgICBsYl9tYU5WLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodGsuZ2V0TmhhblZpZW4oKS5nZXRNYU5WKCkpKTtcbiAgIDQ2Mlx0XG4gICA0NjNcdCAgICB9XG4gICA0NjRcdCAgICBARlhNTFxuICAgNDY1XHQgICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ2Nlx0ICAgICAgICB0cnkge1xuICAgNDY3XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgIDQ2OFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDY5XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgIDQ3MFx0ICAgICAgICB9XG4gICA0NzFcdCAgICB9XG4gICA0NzJcdFxuICAgNDczXHQgICAgQEZYTUxcbiAgIDQ3NFx0ICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NzVcdCAgICAgICAgdHJ5IHtcbiAgIDQ3Nlx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICA0NzdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ3OFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgIDQ3OVx0ICAgICAgICB9XG4gICA0ODBcdCAgICB9XG4gICA0ODFcdFxuICAgNDgyXHQgICAgQEZYTUxcbiAgIDQ4M1x0ICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ4NFx0ICAgICAgICB0cnkge1xuICAgNDg1XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgNDg2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0ODdcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBuaMOibiB2acOqblwiKTtcbiAgIDQ4OFx0ICAgICAgICB9XG4gICA0ODlcdCAgICB9XG4gICA0OTBcdFxuICAgNDkxXHQgICAgQEZYTUxcbiAgIDQ5Mlx0ICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0OTNcdCAgICAgICAgdHJ5IHtcbiAgIDQ5NFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICA0OTVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ5Nlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXCIpO1xuICAgNDk3XHQgICAgICAgIH1cbiAgIDQ5OFx0ICAgIH1cbiAgIDQ5OVx0XG4gICA1MDBcdCAgICBARlhNTFxuICAgNTAxXHQgICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MDJcdCAgICAgICAgdHJ5IHtcbiAgIDUwM1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgNTA0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MDVcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cIik7XG4gICA1MDZcdCAgICAgICAgfVxuICAgNTA3XHQgICAgfVxuICAgNTA4XHRcbiAgIDUwOVx0ICAgIEBGWE1MXG4gICA1MTBcdCAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MTFcdCAgICAgICAgdHJ5IHtcbiAgIDUxMlx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgIDUxM1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTE0XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gdMOgaSBraG/huqNuXCIpO1xuICAgNTE1XHQgICAgICAgIH1cbiAgIDUxNlx0ICAgIH1cbiAgIDUxN1x0XG4gICA1MThcdCAgICBARlhNTFxuICAgNTE5XHQgICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgNTIwXHQgICAgICAgIHRyeSB7XG4gICA1MjFcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgNTIyXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MjNcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogZG9hbmggdGh1XCIpO1xuICAgNTI0XHQgICAgICAgIH1cbiAgIDUyNVx0ICAgIH1cbiAgIDUyNlx0XG4gICA1MjdcdCAgICBARlhNTFxuICAgNTI4XHQgICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjlcdCAgICAgICAgdHJ5IHtcbiAgIDUzMFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgIDUzMVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTMyXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVwiKTtcbiAgIDUzM1x0ICAgICAgICB9XG4gICA1MzRcdCAgICB9XG4gICA1MzVcdFxuICAgNTM2XHR9XG4gICA1MzdcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFUS0p0d2JHRXdOZENma1VrdEt4dXdpIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCdzIGNoZWNrIHRoZSBUcmFDdXVfY29udHJvbGxlci5qYXZhIGZpbGU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiN2ZjNDBhNGQtODc5Yi00ZGY4LWEwNGEtMTM1ZmZkOGI5ZjZmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRU1Ra2FCUHVTOXc4MVNYdmlQd1RrSyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbMzcwLCA0MDVdfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3MgY2hlY2sgdGhlIHNldHVwQ29tYm9Cb3hIYW5kbGVyIG1ldGhvZCBpbiBUcmFDdXVfY29udHJvbGxlci5qYXZhOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOlxuICAgNDAwXHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDAxXHQgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgNDAyXHQgICAgICAgICAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFwiU+G6o24gcGjhuqltXCIpO1xuICAgNDAzXHQgICAgICAgICAgICB9XG4gICA0MDRcdCAgICAgICAgfSk7XG4gICA0MDVcdCAgICB9XG4gICA0MDZcdFxuICAgNDA3XHQgICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICA0MDhcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgIDQwOVx0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICA0MTBcdCAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgIDQxMVx0ICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgIDQxMlx0ICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgNDEzXHQgICAgfVxuICAgNDE0XHRcbiAgIDQxNVx0ICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplVGFibGVDb2x1bW5zKCkge1xuICAgNDE2XHQgICAgICAgIC8vIEPhu5l0IFNUVFxuICAgNDE3XHQgICAgICAgIGNsX3R4dC5zZXRDZWxsRmFjdG9yeShjb2wgLT4gbmV3IFRhYmxlQ2VsbDxTYW5QaGFtLCBTdHJpbmc+KCkge1xuICAgNDE4XHQgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgIDQxOVx0ICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShTdHJpbmcgaXRlbSwgYm9vbGVhbiBlbXB0eSkge1xuICAgNDIwXHQgICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlSXRlbShpdGVtLCBlbXB0eSk7XG4gICA0MjFcdCAgICAgICAgICAgICAgICBpZiAoZW1wdHkpIHtcbiAgIDQyMlx0ICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpO1xuICAgNDIzXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDQyNFx0ICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KFN0cmluZy52YWx1ZU9mKGdldEluZGV4KCkgKyAxKSk7XG4gICA0MjVcdCAgICAgICAgICAgICAgICB9XG4gICA0MjZcdCAgICAgICAgICAgIH1cbiAgIDQyN1x0ICAgICAgICB9KTtcbiAgIDQyOFx0XG4gICA0MjlcdCAgICAgICAgLy8gQ8OhYyBj4buZdCBraMOhY1xuICAgNDMwXHQgICAgICAgIGNsX21hU1Auc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcIm1hU1BcIikpO1xuVG90YWwgbGluZXMgaW4gZmlsZTogNTgwXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFKV2dpMkt0Z2tVSmNFZXJWTER3N1Q0In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCdzIGNoZWNrIHRoZSBzZXR1cENvbWJvQm94SGFuZGxlciBtZXRob2QgaW4gVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxMGRiZjAxYy1kN2I4LTQ3MTEtYjYxZC1kYmY3ZTY5OGFjZGEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0YjJrcmdBOG1GTnBFdUhmbmdodzJUIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XFxuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2JiX0dpYW9EaWVuLmdldFZhbHVlKCk7XFxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFxcXCJTXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJUXFx1MDBlMGkga2hvXFx1MWVhM25cXFwiIC0+IFxcXCJUcmFDdXVUYWlLaG9hbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiSG9cXHUwMGUxIFxcdTAxMTFcXHUwMWExblxcXCIgLT4gXFxcIlRyYUN1dUhvYURvbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiUGhpXFx1MWViZnUgbmhcXHUxZWFkcFxcXCIgLT4gXFxcIlRyYUN1dVBoaWV1TmhhcF9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiTmhcXHUwMGUybiB2aVxcdTAwZWFuXFxcIiAtPiBcXFwiVHJhQ3V1TmhhblZpZW5fZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIktoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiIC0+IFxcXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcXFwiVW5leHBlY3RlZCB2YWx1ZTogXFxcIiArIHNlbGVjdGVkVmFsdWUpO1xcbiAgICAgICAgICAgICAgICB9O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFxcXCIvZnhtbC9cXFwiICsgZnhtbEZpbGUgKyBcXFwiLmZ4bWxcXFwiKSk7XFxuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XFxuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gVHJhIGNcXHUxZWU5dSBcXFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcXG4gICAgICAgICAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFxcXCJTXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XFxuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2JiX0dpYW9EaWVuLmdldFZhbHVlKCk7XFxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFxcXCJTXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFxcXCJUXFx1MDBlMGkga2hvXFx1MWVhM25cXFwiIC0+IFxcXCJUcmFDdXVUYWlLaG9hbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiSG9cXHUwMGUxIFxcdTAxMTFcXHUwMWExblxcXCIgLT4gXFxcIlRyYUN1dUhvYURvbl9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiUGhpXFx1MWViZnUgbmhcXHUxZWFkcFxcXCIgLT4gXFxcIlRyYUN1dVBoaWV1TmhhcF9ndWlcXFwiO1xcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcXFwiTmhcXHUwMGUybiB2aVxcdTAwZWFuXFxcIiAtPiBcXFwiVHJhQ3V1TmhhblZpZW5fZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXFxcIktoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiIC0+IFxcXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcXFwiVW5leHBlY3RlZCB2YWx1ZTogXFxcIiArIHNlbGVjdGVkVmFsdWUpO1xcbiAgICAgICAgICAgICAgICB9O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL1xcXCIgKyBmeG1sRmlsZSArIFxcXCIuZnhtbFxcXCIpO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gVHJhIGNcXHUxZWU5dSBcXFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcXG4gICAgICAgICAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFxcXCJTXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9XFxuICAgIFxcbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcXG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcXG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNiYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xcbiAgICB9XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAzNzcsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDA1fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBmaXggdGhlIHNldHVwQ29tYm9Cb3hIYW5kbGVyIG1ldGhvZCBpbiBUcmFDdXVfY29udHJvbGxlci5qYXZhOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhOlxuICAgMzcwXHQgICAgICAgICAgICAgICAgXCJT4bqjbiBwaOG6qW1cIiwgXCJUw6BpIGtob+G6o25cIiwgXCJIb8OhIMSRxqFuXCIsIFwiUGhp4bq/dSBuaOG6rXBcIiwgXCJOaMOibiB2acOqblwiLCBcIktow6FjaCBow6BuZ1wiXG4gICAzNzFcdCAgICAgICAgKTtcbiAgIDM3Mlx0ICAgICAgICBjYmJfR2lhb0RpZW4uc2V0SXRlbXMobGlzdCk7XG4gICAzNzNcdCAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFwiU+G6o24gcGjhuqltXCIpO1xuICAgMzc0XHQgICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAzNzVcdCAgICB9XG4gICAzNzZcdFxuICAgMzc3XHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgMzc4XHQgICAgICAgIGNiYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAzNzlcdCAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2JiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAzODBcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlPhuqNuIHBo4bqpbVwiKSkge1xuICAgMzgxXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMzgyXHQgICAgICAgICAgICB9XG4gICAzODNcdCAgICAgICAgICAgIFxuICAgMzg0XHQgICAgICAgICAgICB0cnkge1xuICAgMzg1XHQgICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAzODZcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAzODdcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgIDM4OFx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgIDM4OVx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgMzkwXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgIDM5MVx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgMzkyXHQgICAgICAgICAgICAgICAgfTtcbiAgIDM5M1x0ICAgICAgICAgICAgICAgIFxuICAgMzk0XHQgICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgMzk1XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAzOTZcdCAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAzOTdcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAzOThcdCAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAzOTlcdCAgICAgICAgICAgICAgICBcbiAgIDQwMFx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQwMVx0ICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgIDQwMlx0ICAgICAgICAgICAgICAgIGNiYl9HaWFvRGllbi5zZXRWYWx1ZShcIlPhuqNuIHBo4bqpbVwiKTtcbiAgIDQwM1x0ICAgICAgICAgICAgfVxuICAgNDA0XHQgICAgICAgIH0pO1xuICAgNDA1XHQgICAgfVxuVG90YWwgbGluZXMgaW4gZmlsZTogNTgwXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFFTVFrYUJQdVM5dzgxU1h2aVB3VGtLIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCdzIGZpeCB0aGUgc2V0dXBDb21ib0JveEhhbmRsZXIgbWV0aG9kIGluIFRyYUN1dV9jb250cm9sbGVyLmphdmE6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZWQ0ZTBiNDktM2UyOC00Yzc3LWJmYmUtM2UyN2MxOWY1MTQ2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOW9FNWljQ2lMY0w2eTNVd1ROdUI1cSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBhbnkgbmF2aWdhdGlvbiBtZXRob2RzIChsaWtlIHRvUUxIb2FEb24sIHRvUUxTYW5QaGFtLCBldGMuKSBpbiBUcmFDdXVfY29udHJvbGxlci5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBjaGVjayBpZiB0aGVyZSBhcmUgYW55IG5hdmlnYXRpb24gbWV0aG9kcyBpbiBUcmFDdXVfY29udHJvbGxlci5qYXZhIHRoYXQgbmVlZCB0byBiZSBmaXhlZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMzczXHQgICAgICAgIGNiYl9HaWFvRGllbi5zZXRWYWx1ZShcIlPhuqNuIHBo4bqpbVwiKTtcbiAgIDM3NFx0ICAgICAgICBzZXR1cENvbWJvQm94SGFuZGxlcigpO1xuICAgMzc1XHQgICAgfVxuICAgMzc2XHRcbiAgIDM3N1x0ICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgIDM3OFx0ICAgICAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgMzc5XHQgICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgMzgwXHQgICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJT4bqjbiBwaOG6qW1cIikpIHtcbiAgIDM4MVx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDM4Mlx0ICAgICAgICAgICAgfVxuICAgMzgzXHRcbiAgIDM4NFx0ICAgICAgICAgICAgdHJ5IHtcbiAgIDM4NVx0ICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgMzg2XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgMzg3XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAzODhcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAzODlcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgIDM5MFx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAzOTFcdCAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgIDM5Mlx0ICAgICAgICAgICAgICAgIH07XG4gICAzOTNcdFxuICAgMzk0XHQgICAgICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKTtcbiAgIDM5NVx0XG4gICAzOTZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAzOTdcdCAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAzOThcdCAgICAgICAgICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAzOTlcdCAgICAgICAgICAgIH1cbiAgIDQwMFx0ICAgICAgICB9KTtcbiAgIDQwMVx0ICAgIH1cbiAgIDQwMlx0XG4gICA0MDNcdCAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgIDQwNFx0ICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICA0MDVcdCAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICA0MDZcdCAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNiYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgNDA3XHQgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgIDQwOFx0ICAgICAgICBzdGFnZS5zaG93KCk7XG4gICA0MDlcdCAgICB9XG4gICA0MTBcdFxuICAgNDExXHQgICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICA0MTJcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgIDQxM1x0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTRiMmtyZ0E4bUZOcEV1SGZuZ2h3MlQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0J3MgY2hlY2sgaWYgdGhlcmUgYXJlIGFueSBuYXZpZ2F0aW9uIG1ldGhvZHMgaW4gVHJhQ3V1X2NvbnRyb2xsZXIuamF2YSB0aGF0IG5lZWQgdG8gYmUgZml4ZWQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYWI5OTYzZjctMDNiOC00NDQ1LWI2ODYtNDMyZWM1ODdlMGYyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRWU3M21TSFVDZ1ZoZGdZNENHUmc2ZyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeUhvYURvbl9ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBoXFx1MDBmM2EgXFx1MDExMVxcdTAxYTFuXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeUtoYWNoSGFuZ19ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBraFxcdTAwZTFjaCBoXFx1MDBlMG5nXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5TmhhblZpZW5fZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgbmhcXHUwMGUybiB2aVxcdTAwZWFuXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlF1YW5MeVBoaWV1TmhhcF9ndWlcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBwaGlcXHUxZWJmdSBuaFxcdTFlYWRwXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFxcXCJRdWFuTHlTYW5QaGFtX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIHNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiUXVhbkx5VGFpS2hvYW5fZ3VpXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgdFxcdTAwZTBpIGtob1xcdTFlYTNuXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgQEZYTUxcXG4gICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcXFwiVGhvbmdLZURvYW5oVGh1X2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBUaFxcdTFlZDFuZyBrXFx1MDBlYSBkb2FuaCB0aHVcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgQXBwLnNldFJvb3QoXFxcIlRob25nS2VTYW5QaGFtX2d1aVxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBUaFxcdTFlZDFuZyBrXFx1MDBlYSBzXFx1MWVhM24gcGhcXHUxZWE5bVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XCIsIFwibmV3X3N0clwiOiBcIiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIGhcXHUwMGYzYSBcXHUwMTExXFx1MDFhMW5cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIGtoXFx1MDBlMWNoIGhcXHUwMGUwbmdcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCBuaFxcdTAwZTJuIHZpXFx1MDBlYW5cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXFxcIik7XFxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xcbiAgICAgICAgICAgIHNob3dFcnJvcihcXFwiTFxcdTFlZDdpIGNodXlcXHUxZWMzbiBnaWFvIGRpXFx1MWVjN25cXFwiLCBcXFwiS2hcXHUwMGY0bmcgdGhcXHUxZWMzIG1cXHUxZWRmIGdpYW8gZGlcXHUxZWM3biBRdVxcdTFlYTNuIGxcXHUwMGZkIHBoaVxcdTFlYmZ1IG5oXFx1MWVhZHBcXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbG9hZEZYTUwoXFxcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFF1XFx1MWVhM24gbFxcdTAwZmQgc1xcdTFlYTNuIHBoXFx1MWVhOW1cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFxcXCIpO1xcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcXG4gICAgICAgICAgICBzaG93RXJyb3IoXFxcIkxcXHUxZWQ3aSBjaHV5XFx1MWVjM24gZ2lhbyBkaVxcdTFlYzduXFxcIiwgXFxcIktoXFx1MDBmNG5nIHRoXFx1MWVjMyBtXFx1MWVkZiBnaWFvIGRpXFx1MWVjN24gUXVcXHUxZWEzbiBsXFx1MDBmZCB0XFx1MDBlMGkga2hvXFx1MWVhM25cXFwiKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICBARlhNTFxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxvYWRGWE1MKFxcXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFRoXFx1MWVkMW5nIGtcXHUwMGVhIGRvYW5oIHRodVxcXCIpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIEBGWE1MXFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsb2FkRlhNTChcXFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcXFwiKTtcXG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XFxuICAgICAgICAgICAgc2hvd0Vycm9yKFxcXCJMXFx1MWVkN2kgY2h1eVxcdTFlYzNuIGdpYW8gZGlcXHUxZWM3blxcXCIsIFxcXCJLaFxcdTAwZjRuZyB0aFxcdTFlYzMgbVxcdTFlZGYgZ2lhbyBkaVxcdTFlYzduIFRoXFx1MWVkMW5nIGtcXHUwMGVhIHNcXHUxZWEzbiBwaFxcdTFlYTltXFxcIik7XFxuICAgICAgICB9XFxuICAgIH1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDUyMCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1ODB9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCdzIGZpeCB0aGUgbmF2aWdhdGlvbiBtZXRob2RzIGluIFRyYUN1dV9jb250cm9sbGVyLmphdmE6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJIb8OhIMSRxqFuXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5SG9hRG9uX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGjDs2EgxJHGoW5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUtoYWNoSGFuZ19ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5TmhhblZpZW5fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gbmjDom4gdmnDqm5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVBoaWV1TmhhcF9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVNhblBoYW1fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gc+G6o24gcGjhuqltXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVRhaUtob2FuX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUaG9uZ0tlRG9hbmhUaHVfZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIGRvYW5oIHRodVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VTYW5QaGFtX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlBoaeG6v3Ugbmjhuq1wXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUhvYURvbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBow7NhIMSRxqFuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlLaGFjaEhhbmdfZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70ga2jDoWNoIGjDoG5nXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeU5oYW5WaWVuX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IG5ow6JuIHZpw6puXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhXG5wYWNrYWdlIGl1aC5maXQuY29udHJvbGxlcjtcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIFN0cmluZz4gY2xfdGdjbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTYW5QaGFtLCBTdHJpbmc+IGNsX3R4dDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2dpb0hhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19uaGFuVmllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3BoaWV1TmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3F1YW5MeTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3NhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RhaUtob2FuMTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2dpYUJhbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9naWFOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2hzZDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9sb2FpSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9tYVNQO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX25jYztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9uc3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfc2x0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RlblNQO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RnY247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGltS2llbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX25oYW5WaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3F1YW5MeTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfc2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfbWFTUDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZVZpZXc8U2FuUGhhbT4gdGFibGVTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgdG9vbHNTbGlkZXJJbXBsKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpIHtcbiAgICAgICAgaWYobWVudS5nZXRDaGlsZHJlbigpLmNvbnRhaW5zKHN1Yk1lbnUpKXtcbiAgICAgICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgICAgICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoc3ViTWVudSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgICAgICBtZW51LmdldENoaWxkcmVuKCkuYWRkKHN1Yk1lbnUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIG90aGVyIG1lbnVzXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSl7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgaWYoIWVudHJ5LmdldEtleSgpLmVxdWFscyhtZW51KSlcbiAgICAgICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIHRvb2xzU2xpZGVyKGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdG9vbHNTbGlkZXIodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aG9uZ0tlU3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBtZW51IHTDrG0ga2nhur9tXG4gICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKHRpbUtpZW1TdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdGltS2llbShNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICAgICAgU3RyaW5nIG1hU2FuUGhhbSA9IHR4dF9tYVNQLmdldFRleHQoKTtcbiAgICAgICAgQXBwLm1hVHJhQ3V1ID0gbWFTYW5QaGFtO1xuICAgICAgICBTYW5QaGFtIHNwID0gbmV3IFNhblBoYW1fZGFvKCkucmVhZChtYVNhblBoYW0pO1xuICAgICAgICBsYl9tYVNQLnNldFRleHQoc3AuZ2V0TWFTUCgpKTtcbiAgICAgICAgbGJfdGVuU1Auc2V0VGV4dChzcC5nZXRUZW5TUCgpKTtcbiAgICAgICAgbGJfbmNjLnNldFRleHQoc3AuZ2V0TmhhQ0MoKSk7XG4gICAgICAgIGxiX3NsdC5zZXRUZXh0KFN0cmluZy52YWx1ZU9mKHNwLmdldFNvTHVvbmdUb24oKSkpO1xuICAgICAgICBsYl9naWFOaGFwLnNldFRleHQoU3RyaW5nLnZhbHVlT2Yoc3AuZ2V0R2lhTmhhcCgpKSk7XG4gICAgICAgIGxiX2dpYUJhbi5zZXRUZXh0KFN0cmluZy52YWx1ZU9mKHNwLmdldEdpYUJhbigpKSk7XG4gICAgICAgIERhdGVUaW1lRm9ybWF0dGVyIGZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXlcIik7XG4gICAgICAgIGxiX25zeC5zZXRUZXh0KHNwLmdldE5nYXlTWCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcbiAgICAgICAgbGJfaHNkLnNldFRleHQoc3AuZ2V0SGFuU0QoKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICAgICAgIGxiX3RnY24uc2V0VGV4dChzcC5nZXRUaG9pR2lhbkNhcE5oYXQoKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICAgICAgIGxiX2xvYWlIYW5nLnNldFRleHQoc3AuZ2V0TG9haUhhbmcoKS50b1N0cmluZygpKTtcbiAgICAgICAgaGlnaGxpZ2h0TWF0Y2hpbmdSb3cobWFTYW5QaGFtKTtcbiAgICB9XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplQ29tYm9Cb3goKSB7XG4gICAgICAgIE9ic2VydmFibGVMaXN0PFN0cmluZz4gbGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChcbiAgICAgICAgICAgICAgICBcIlPhuqNuIHBo4bqpbVwiLCBcIlTDoGkga2hv4bqjblwiLCBcIkhvw6EgxJHGoW5cIiwgXCJQaGnhur91IG5o4bqtcFwiLCBcIk5ow6JuIHZpw6puXCIsIFwiS2jDoWNoIGjDoG5nXCJcbiAgICAgICAgKTtcbiAgICAgICAgY2JiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjYmJfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlPhuqNuIHBo4bqpbVwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNiYl9HaWFvRGllbi5zZXRWYWx1ZShcIlPhuqNuIHBo4bqpbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjYmJfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUik7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVUYWJsZUNvbHVtbnMoKSB7XG4gICAgICAgIC8vIEPhu5l0IFNUVFxuICAgICAgICBjbF90eHQuc2V0Q2VsbEZhY3RvcnkoY29sIC0+IG5ldyBUYWJsZUNlbGw8U2FuUGhhbSwgU3RyaW5nPigpIHtcbiAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShTdHJpbmcgaXRlbSwgYm9vbGVhbiBlbXB0eSkge1xuICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpO1xuICAgICAgICAgICAgICAgIGlmIChlbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRleHQoU3RyaW5nLnZhbHVlT2YoZ2V0SW5kZXgoKSArIDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZFRhYmxlRGF0YSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhblBoYW1fZGFvIHNhblBoYW1EYW8gPSBuZXcgU2FuUGhhbV9kYW8oKTtcbiAgICAgICAgICAgIExpc3Q8U2FuUGhhbT4gZHNzcCA9IHNhblBoYW1EYW8ucmVhZEFsbCgpO1xuICAgICAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8U2FuUGhhbT4gZGF0YSA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChkc3NwKTtcbiAgICAgICAgICAgIHRhYmxlU2FuUGhhbS5zZXRJdGVtcyhkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IpO1xuICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXCJM4buXaVwiKTtcbiAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQoXCJM4buXaSBraGkgdOG6o2kgZOG7ryBsaeG7h3VcIik7XG4gICAgICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChcIsSQw6MgeOG6o3kgcmEgbOG7l2kga2hpIHThuqNpIGThu68gbGnhu4d1LiBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1LlwiKTtcbiAgICAgICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBUYWJsZUNsaWNrRXZlbnQoKSB7XG4gICAgICAgIHRhYmxlU2FuUGhhbS5zZXRPbk1vdXNlQ2xpY2tlZChldmVudCAtPiB7XG4gICAgICAgICAgICBTYW5QaGFtIHNlbGVjdGVkU2FuUGhhbSA9IHRhYmxlU2FuUGhhbS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkU2FuUGhhbSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlTGFiZWxzKHNlbGVjdGVkU2FuUGhhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlIb2FEb25fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5S2hhY2hIYW5nX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlOaGFuVmllbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBuaMOibiB2acOqblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5UGhpZXVOaGFwX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5U2FuUGhhbV9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5VGFpS2hvYW5fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gdMOgaSBraG/huqNuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VEb2FuaFRodV9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogZG9hbmggdGh1XCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVGhvbmdLZVNhblBoYW1fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxufS4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiS2jDoWNoIGjDoG5nXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJOaMOibiB2acOqblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJUw6BpIGtob+G6o25cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiVMOgaSBraG/huqNuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4uLi5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTlvRTVpY0NpTGNMNnkzVXdUTnVCNXEifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0J3MgZml4IHRoZSBuYXZpZ2F0aW9uIG1ldGhvZHMgaW4gVHJhQ3V1X2NvbnRyb2xsZXIuamF2YTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoiY2FuY2VsbGVkIiwicmVxdWVzdF9pZCI6InRlbXAtZmUtYjg3YmQ3NTEtZmY4Yy00MzQzLWI2NTMtNWNkYTE1MmFkZjg1IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDUwOFx0ICAgICAgICBsYl90Z2NuLnNldFRleHQoc3AuZ2V0VGhvaUdpYW5DYXBOaGF0KCkuZm9ybWF0KGZvcm1hdHRlcikpO1xuICAgNTA5XHQgICAgICAgIGxiX2xvYWlIYW5nLnNldFRleHQoc3AuZ2V0TG9haUhhbmcoKS50b1N0cmluZygpKTtcbiAgIDUxMFx0ICAgIH1cbiAgIDUxMVx0XG4gICA1MTJcdCAgICBARlhNTFxuICAgNTEzXHQgICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUxNFx0ICAgICAgICB0cnkge1xuICAgNTE1XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgIDUxNlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTE3XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgIDUxOFx0ICAgICAgICB9XG4gICA1MTlcdCAgICB9XG4gICA1MjBcdFxuICAgNTIxXHQgICAgQEZYTUxcbiAgIDUyMlx0ICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjNcdCAgICAgICAgdHJ5IHtcbiAgIDUyNFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICA1MjVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUyNlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgIDUyN1x0ICAgICAgICB9XG4gICA1MjhcdCAgICB9XG4gICA1MjlcdFxuICAgNTMwXHQgICAgQEZYTUxcbiAgIDUzMVx0ICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUzMlx0ICAgICAgICB0cnkge1xuICAgNTMzXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgNTM0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MzVcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBuaMOibiB2acOqblwiKTtcbiAgIDUzNlx0ICAgICAgICB9XG4gICA1MzdcdCAgICB9XG4gICA1MzhcdFxuICAgNTM5XHQgICAgQEZYTUxcbiAgIDU0MFx0ICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1NDFcdCAgICAgICAgdHJ5IHtcbiAgIDU0Mlx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICA1NDNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU0NFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXCIpO1xuICAgNTQ1XHQgICAgICAgIH1cbiAgIDU0Nlx0ICAgIH1cbiAgIDU0N1x0XG4gICA1NDhcdCAgICBARlhNTFxuICAgNTQ5XHQgICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1NTBcdCAgICAgICAgdHJ5IHtcbiAgIDU1MVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgNTUyXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1NTNcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cIik7XG4gICA1NTRcdCAgICAgICAgfVxuICAgNTU1XHQgICAgfVxuICAgNTU2XHRcbiAgIDU1N1x0ICAgIEBGWE1MXG4gICA1NThcdCAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1NTlcdCAgICAgICAgdHJ5IHtcbiAgIDU2MFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgIDU2MVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTYyXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gdMOgaSBraG/huqNuXCIpO1xuICAgNTYzXHQgICAgICAgIH1cbiAgIDU2NFx0ICAgIH1cbiAgIDU2NVx0XG4gICA1NjZcdCAgICBARlhNTFxuICAgNTY3XHQgICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgNTY4XHQgICAgICAgIHRyeSB7XG4gICA1NjlcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgNTcwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1NzFcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogZG9hbmggdGh1XCIpO1xuICAgNTcyXHQgICAgICAgIH1cbiAgIDU3M1x0ICAgIH1cbiAgIDU3NFx0XG4gICA1NzVcdCAgICBARlhNTFxuICAgNTc2XHQgICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1NzdcdCAgICAgICAgdHJ5IHtcbiAgIDU3OFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgIDU3OVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTgwXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVwiKTtcbiAgIDU4MVx0ICAgICAgICB9XG4gICA1ODJcdCAgICB9XG4gICA1ODNcdFxuICAgNTg0XHR9XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUVlNzNtU0hVQ2dWaGRnWTRDR1JnNmcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dfSx7InJlcXVlc3RfaWQiOiIxOWMxNzNmMC0zY2QyLTRhM2QtYmQ0Mi0xZmQ5MjEzMTUwYmYiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJyZXF1ZXN0X2lkIjoiYzExZjYwNzQtYmFjNi00ZmM5LTliY2QtZmQ1YmJjY2RlYTkxIiwidXVpZCI6ImEwNDA2ZWMzLTg3OWUtNGIwMi05YWRhLTI0MTU4OWVkMTI4NCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0NDk2NjQ1OTk2MywidG9UaW1lc3RhbXAiOjE3NDQ5Njc5MjM1OTYsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiZDg1Y2Y0ZDYtOGNhNi00YWY1LWI4ODgtMmMzNTUyNzE3ZGM2IiwidXVpZCI6ImMwNzhlNjMzLThiYzctNGUwZS05ZWMxLTc3YWRkNzRkNjMwMyIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MTc0NDk2NzkyMzU5NiwidG9UaW1lc3RhbXAiOjE3NDQ5Njc5MjU0MTAsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiMDk1MjlhZjYtNWU0OS00OGQ0LTk0MGYtZGYzYjU0NGZjNDFjIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlZWYwNWFkMS04MWUzLTQ3MzAtODMxYS01Yzk3OTY2MzlkYjgiLCJyZXF1ZXN0X21lc3NhZ2UiOiJow6N5IGzhuqV5IGNobyB0w7RpIHThuqV0IGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgbmF2aWdhdG9yIOG7nyBiYW5oYW5nZ3VpIGThuqtuIHThu5tpIGdpYW8gZGnhu4duIGtow6FjIGNobyB0w7RpIGNvcHkiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiaMOjeSBs4bqleSBjaG8gdMO0aSB04bqldCBj4bqjIGPDoWMgcGjGsMahbmcgdGjhu6ljIG5hdmlnYXRvciDhu58gYmFuaGFuZ2d1aSBk4bqrbiB04bubaSBnaWFvIGRp4buHbiBraMOhYyBjaG8gdMO0aSBjb3B5In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1bkV4NUNiZm5lWnBwM0hZOFlyOVQzIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXCIsIFwidmlld19yYW5nZVwiOiBbNDQyLCA1NjBdfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiVMO0aSBz4bq9IGzhuqV5IHThuqV0IGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyAobmF2aWdhdGlvbikgdOG7qyBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YSDEkeG7gyBi4bqhbiBjw7MgdGjhu4MgY29weS4gxJDDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgdOG7qyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIMSR4bq/biBjw6FjIGdpYW8gZGnhu4duIGtow6FjOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJow6N5IGzhuqV5IGNobyB0w7RpIHThuqV0IGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgbmF2aWdhdG9yIOG7nyBiYW5oYW5nZ3VpIGThuqtuIHThu5tpIGdpYW8gZGnhu4duIGtow6FjIGNobyB0w7RpIGNvcHkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiVMO0aSBz4bq9IGzhuqV5IHThuqV0IGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyAobmF2aWdhdGlvbikgdOG7qyBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YSDEkeG7gyBi4bqhbiBjw7MgdGjhu4MgY29weS4gxJDDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgdOG7qyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIMSR4bq/biBjw6FjIGdpYW8gZGnhu4duIGtow6FjOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjhhMWQwMjNlLWRlOGItNDUxMy1iZjE2LTExYjlmMDBhYjg0ZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVVzcVNvRExiWlUzd29odGU2aFVXN2EiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmFcIiwgXCJ2aWV3X3JhbmdlXCI6IFsxNjgwLCAxNjkwXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IsSQw6J5IGzDoCBwaMawxqFuZyB0aOG7qWMgbG9hZEZYTUwgxJHGsOG7o2Mgc+G7rSBk4bulbmcgdHJvbmcgQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOlxuICAgNDQyXHQgICAgQEZYTUxcbiAgIDQ0M1x0ICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ0NFx0ICAgICAgICB0cnkge1xuICAgNDQ1XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gVHJhQ3V1X2d1aS5meG1sXG4gICA0NDZcdCAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKSk7XG4gICA0NDdcdCAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgIDQ0OFx0ICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICA0NDlcdFxuICAgNDUwXHQgICAgICAgICAgICAvLyBM4bqleSBzdGFnZSBoaeG7h24gdOG6oWlcbiAgIDQ1MVx0ICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgNDUyXHRcbiAgIDQ1M1x0ICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBzY2VuZSBt4bubaVxuICAgNDU0XHQgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICA0NTVcdCAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiVHJhIGPhu6l1IHPhuqNuIHBo4bqpbVwiKTtcbiAgIDQ1Nlx0XG4gICA0NTdcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBzdGFnZVxuICAgNDU4XHQgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICA0NTlcdFxuICAgNDYwXHQgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdHJhIGPhu6l1IHRow6BuaCBjw7RuZ1wiKTtcbiAgIDQ2MVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDYyXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNDYzXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDQ2NFx0XG4gICA0NjVcdCAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgNDY2XHQgICAgICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgIDQ2N1x0ICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG4gICA0NjhcdFxuICAgNDY5XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbiAgIDQ3MFx0ICAgICAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xuICAgNDcxXHQgICAgICAgIH1cbiAgIDQ3Mlx0ICAgIH1cbiAgIDQ3M1x0XG4gICA0NzRcdCAgICBARlhNTFxuICAgNDc1XHQgICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ3Nlx0ICAgICAgICB0cnkge1xuICAgNDc3XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG4gICA0NzhcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgNDc5XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0ODBcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA0ODFcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgNDgyXHQgICAgICAgIH1cbiAgIDQ4M1x0ICAgIH1cbiAgIDQ4NFx0XG4gICA0ODVcdCAgICBARlhNTFxuICAgNDg2XHQgICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ4N1x0ICAgICAgICB0cnkge1xuICAgNDg4XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbiAgIDQ4OVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICA0OTBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ5MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDQ5Mlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nIVwiKTtcbiAgIDQ5M1x0ICAgICAgICB9XG4gICA0OTRcdCAgICB9XG4gICA0OTVcdFxuICAgNDk2XHQgICAgQEZYTUxcbiAgIDQ5N1x0ICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ5OFx0ICAgICAgICB0cnkge1xuICAgNDk5XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqblxuICAgNTAwXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgNTAxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MDJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA1MDNcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puIVwiKTtcbiAgIDUwNFx0ICAgICAgICB9XG4gICA1MDVcdCAgICB9XG4gICA1MDZcdFxuICAgNTA3XHQgICAgQEZYTUxcbiAgIDUwOFx0ICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MDlcdCAgICAgICAgdHJ5IHtcbiAgIDUxMFx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbiAgIDUxMVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICA1MTJcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUxM1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDUxNFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgNTE1XHQgICAgICAgIH1cbiAgIDUxNlx0ICAgIH1cbiAgIDUxN1x0XG4gICA1MThcdCAgICBARlhNTFxuICAgNTE5XHQgICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjBcdCAgICAgICAgdHJ5IHtcbiAgIDUyMVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICA1MjJcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgIDUyM1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTI0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTI1XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgNTI2XHQgICAgICAgIH1cbiAgIDUyN1x0ICAgIH1cbiAgIDUyOFx0XG4gICA1MjlcdCAgICBARlhNTFxuICAgNTMwXHQgICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgNTMxXHQgICAgICAgIHRyeSB7XG4gICA1MzJcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuICAgNTMzXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgNTM0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MzVcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA1MzZcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICA1MzdcdCAgICAgICAgfVxuICAgNTM4XHQgICAgfVxuICAgNTM5XHRcbiAgIDU0MFx0ICAgIEBGWE1MXG4gICA1NDFcdCAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1NDJcdCAgICAgICAgdHJ5IHtcbiAgIDU0M1x0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodVxuICAgNTQ0XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VEb2FuaFRodV9ndWkuZnhtbFwiKTtcbiAgIDU0NVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTQ2XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTQ3XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1IVwiKTtcbiAgIDU0OFx0ICAgICAgICB9XG4gICA1NDlcdCAgICB9XG4gICA1NTBcdFxuICAgNTUxXHQgICAgQEZYTUxcbiAgIDU1Mlx0ICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNTUzXHQgICAgICAgIHRyeSB7XG4gICA1NTRcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgIDU1NVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgIDU1Nlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTU3XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTU4XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgIDU1OVx0ICAgICAgICB9XG4gICA1NjBcdCAgICB9XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxNjk2XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1bkV4NUNiZm5lWnBwM0hZOFlyOVQzIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IsSQw6J5IGzDoCBwaMawxqFuZyB0aOG7qWMgbG9hZEZYTUwgxJHGsOG7o2Mgc+G7rSBk4bulbmcgdHJvbmcgQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTdiMTE4YzktNzJmNC00ZjZiLWJhMjMtMjY1NzJiNTYwNWFjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRlBjWmkxakg0Z0txQmI0WEJNNEFNayIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCB0aGUgbG9hZEZYTUwgbWV0aG9kIGluIEJhbkhhbmdfY29udHJvbGxlci5qYXZhXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJIw6N5IHTDrG0gcGjGsMahbmcgdGjhu6ljIGxvYWRGWE1MOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YTpcbiAgMTY4MFx0ICAgICAgICAgICAgfSBlbHNlIHtcbiAgMTY4MVx0ICAgICAgICAgICAgICAgIC8vIFRp4buBbiB0aOG7q2Egw6JtIC0gbcOgdSDEkeG7j1xuICAxNjgyXHQgICAgICAgICAgICAgICAgbGJfdGllblRodWEuc2V0VGV4dCh0aWVuVGh1YUZvcm1hdHRlZCk7XG4gIDE2ODNcdCAgICAgICAgICAgICAgICBsYl90aWVuVGh1YS5zZXRTdHlsZShcIi1meC1mb250LXdlaWdodDogYm9sZDsgLWZ4LXRleHQtZmlsbDogI0ZGMDAwMDtcIik7XG4gIDE2ODRcdFxuICAxNjg1XHQgICAgICAgICAgICAgICAgLy8gTuG6v3UgdGnhu4FuIGtow6FjaCB0cuG6oyBraMO0bmcgxJHhu6csIGtow7RuZyBjaG8gcGjDqXAgdGhhbmggdG/DoW5cbiAgMTY4Nlx0ICAgICAgICAgICAgICAgIGJ0bl90aGFuaFRvYW4uc2V0RGlzYWJsZSh0cnVlKTtcbiAgMTY4N1x0ICAgICAgICAgICAgfVxuICAxNjg4XHQgICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBlKSB7XG4gIDE2ODlcdCAgICAgICAgICAgIC8vIFjhu60gbMO9IGzhu5dpIGNodXnhu4NuIMSR4buVaSBz4buRXG4gIDE2OTBcdCAgICAgICAgICAgIGxiX3RpZW5UaHVhLnNldFRleHQoXCIwIFZOxJBcIik7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxNjk2XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFVc3FTb0RMYlpVM3dvaHRlNmhVVzdhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkjDo3kgdMOsbSBwaMawxqFuZyB0aOG7qWMgbG9hZEZYTUw6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMDBkYTZlNmItOWFmOS00YTRmLTg4MTItODM2ODUzM2E2MGI3IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiRMaw4bubaSDEkcOieSBsw6AgdOG6pXQgY+G6oyBjw6FjIHBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIHThu6sgQmFuSGFuZ19jb250cm9sbGVyLmphdmEgxJHhu4MgYuG6oW4gY8OzIHRo4buDIGNvcHk6XG5cbmBgYGphdmFcbi8vIFBoxrDGoW5nIHRo4bupYyBsb2FkRlhNTCDEkeG7gyB04bqjaSBnaWFvIGRp4buHbiBt4bubaVxucHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgc3RhZ2Uuc2hvdygpO1xufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbkBGWE1MXG52b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcblxuICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuXG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bVxuICAgICAgICBzaG93U2VhcmNoSW50ZXJmYWNlKCk7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG5ARlhNTFxudm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG5ARlhNTFxudm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG5ARlhNTFxudm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfTmhhblZpZW5fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm4hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbkBGWE1MXG52b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuQEZYTUxcbnZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuQEZYTUxcbnZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodVxuQEZYTUxcbnZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHUhXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuQEZYTUxcbnZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5gYGBcbjwvamF2YT5cblxuQuG6oW4gY8OzIHRo4buDIHPhu60gZOG7pW5nIGPDoWMgcGjGsMahbmcgdGjhu6ljIG7DoHkgxJHhu4MgY2h14bqpbiBow7NhIHZp4buHYyDEkWnhu4F1IGjGsOG7m25nIGdp4buvYSBjw6FjIGdpYW8gZGnhu4duIHRyb25nIHRvw6BuIGLhu5kgZOG7sSDDoW4gY+G7p2EgbcOsbmguIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IkTGsOG7m2kgxJHDonkgbMOgIHThuqV0IGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyB04burIEJhbkhhbmdfY29udHJvbGxlci5qYXZhIMSR4buDIGLhuqFuIGPDsyB0aOG7gyBjb3B5OlxuXG5gYGBqYXZhXG4vLyBQaMawxqFuZyB0aOG7qWMgbG9hZEZYTUwgxJHhu4MgdOG6o2kgZ2lhbyBkaeG7h24gbeG7m2lcbnByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgIHN0YWdlLnNob3coKTtcbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG5ARlhNTFxudm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0cmEgY+G7qXVcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG5cbiAgICAgICAgLy8gTuG6v3Uga2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1LCBoaeG7g24gdGjhu4sgZ2lhbyBkaeG7h24gdMOsbSBraeG6v20gdHLDqm4gZ2lhbyBkaeG7h24gaGnhu4duIHThuqFpXG4gICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKHRpbUtpZW1TdWJWQm94KTtcblxuICAgICAgICAvLyBIaeG7g24gdGjhu4sgZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbiAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuQEZYTUxcbnZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZ1xuQEZYTUxcbnZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqblxuQEZYTUxcbnZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqblxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG5ARlhNTFxudm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbkBGWE1MXG52b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbSFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbkBGWE1MXG52b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbkBGWE1MXG52b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VEb2FuaFRodV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1IVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbkBGWE1MXG52b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgfVxufVxuYGBgXG48L2phdmE+XG5cbkLhuqFuIGPDsyB0aOG7gyBz4butIGThu6VuZyBjw6FjIHBoxrDGoW5nIHRo4bupYyBuw6B5IMSR4buDIGNodeG6qW4gaMOzYSB2aeG7h2MgxJFp4buBdSBoxrDhu5tuZyBnaeG7r2EgY8OhYyBnaWFvIGRp4buHbiB0cm9uZyB0b8OgbiBi4buZIGThu7Egw6FuIGPhu6dhIG3DrG5oLlxuIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbmltcG9ydCBpdWguZml0LkFwcDtcbmltcG9ydCBpdWguZml0LmRhb3MuQ2FMYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5DaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5Ib2FEb25fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5LaGFjaEhhbmdfZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5OaGFuVmllbl9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLlNhblBoYW1fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuKjtcbmltcG9ydCBpdWguZml0LmVudW1zLlBodW9uZ1RodWNUaGFuaFRvYW47XG5pbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5GYWRlVHJhbnNpdGlvbjtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkludGVycG9sYXRvcjtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLktleUZyYW1lO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uVGltZWxpbmU7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbmltcG9ydCBqYXZhZnguZXZlbnQuRXZlbnRIYW5kbGVyO1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLmNlbGwuUHJvcGVydHlWYWx1ZUZhY3Rvcnk7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlVmlldztcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuTW91c2VFdmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuS2V5RXZlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5BbmNob3JQYW5lO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuR3JpZFBhbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5QYW5lO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuVkJveDtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5pbXBvcnQgamF2YWZ4LnV0aWwuRHVyYXRpb247XG5cblxucHVibGljIGNsYXNzIEJhbkhhbmdfY29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggYmFuSGFuZ1N1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggYmFuSGFuZ1N1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgQnV0dG9uIGJ0bl90aGVtU1A7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfaG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfbmhhblZpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19zYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2hvYURvbjtcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFJhZGlvQnV0dG9uIHJiX2NodXllbktob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFJhZGlvQnV0dG9uIHJiX3RoZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUb2dnbGVHcm91cCBwaHVvbmdUaHVjVFQ7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGltS2llbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX25oYW5WaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3F1YW5MeTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfc2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1YlZCb3g7XG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90ZW5OVjtcbiAgICBARlhNTFxuICAgIHByaXZhdGUgQ29tYm9Cb3g8Pz4gY2Jfbmdhbkhhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgR3JpZFBhbmUgZ3JpZF9jaHV5ZW5LaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX3RoZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX3RpZW5NYXQ7XG5cbiAgICBNYXA8VkJveCxWQm94PiBtYXAgPSBuZXcgSGFzaE1hcDxWQm94LFZCb3g+KCk7XG5cbiAgICAvLyBEQU8gxJHhu4MgdHJ1eSB4deG6pXQgZOG7ryBsaeG7h3VcbiAgICBwcml2YXRlIFNhblBoYW1fZGFvIHNhblBoYW1EYW87XG4gICAgcHJpdmF0ZSBIb2FEb25fZGFvIGhvYURvbkRhbztcbiAgICBwcml2YXRlIEtoYWNoSGFuZ19kYW8ga2hhY2hIYW5nRGFvO1xuICAgIHByaXZhdGUgQ2hpVGlldEhvYURvbl9TYW5QaGFtX2RhbyBjaGlUaWV0SG9hRG9uRGFvO1xuICAgIHByaXZhdGUgQ2FMYW1fZGFvIGNhTGFtRGFvO1xuICAgIHByaXZhdGUgTmhhblZpZW5fZGFvIG5oYW5WaWVuRGFvO1xuXG4gICAgLy8gRGFuaCBzw6FjaCBjw6FjIHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZ1xuICAgIHByaXZhdGUgT2JzZXJ2YWJsZUxpc3Q8U2FuUGhhbT4gY2FydEl0ZW1zO1xuXG4gICAgLy8gU+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgICBwcml2YXRlIE1hcDxTdHJpbmcsIEludGVnZXI+IHByb2R1Y3RRdWFudGl0aWVzID0gbmV3IEhhc2hNYXA8PigpO1xuXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gY8OhYyBEQU9cbiAgICAgICAgc2FuUGhhbURhbyA9IG5ldyBTYW5QaGFtX2RhbygpO1xuICAgICAgICBob2FEb25EYW8gPSBuZXcgSG9hRG9uX2RhbygpO1xuICAgICAgICBraGFjaEhhbmdEYW8gPSBuZXcgS2hhY2hIYW5nX2RhbygpO1xuICAgICAgICBjaGlUaWV0SG9hRG9uRGFvID0gbmV3IENoaVRpZXRIb2FEb25fU2FuUGhhbV9kYW8oKTtcbiAgICAgICAgY2FMYW1EYW8gPSBuZXcgQ2FMYW1fZGFvKCk7XG4gICAgICAgIG5oYW5WaWVuRGFvID0gbmV3IE5oYW5WaWVuX2RhbygpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIG1lbnVcbiAgICAgICAgYWRkTWVudXNUb01hcCgpO1xuXG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBuZ8OgeSB2w6AgdGjhu51pIGdpYW4gaGnhu4duIHThuqFpXG4gICAgICAgIGRpc3BsYXlDdXJyZW50RGF0ZVRpbWUoKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gYuG6o25nIGdp4buPIGjDoG5nXG4gICAgICAgIGluaXRpYWxpemVUYWJsZSgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyB0aMO0bmcgdGluIGjDs2EgxJHGoW5cbiAgICAgICAgaW5pdGlhbGl6ZUludm9pY2VJbmZvKCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIHThu5VuZyB0aeG7gW5cbiAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gdGjDtG5nIHRpbiBuaMOibiB2acOqblxuICAgICAgICBpbml0aWFsaXplTmhhblZpZW4oKTtcbiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKEFwcC51c2VyKTtcblxuICAgICAgICAvLyBUaGnhur90IGzhuq1wIHPhu7Ega2nhu4duIGNobyBjw6FjIHRow6BuaCBwaOG6p24gdHJvbmcgUGFuZSB0aMO0bmcgdGluIMSRxqFuIGjDoG5nXG4gICAgICAgIHNldHVwSW52b2ljZUV2ZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBNZW51cyB0byBtYXBcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgICB9XG4uLi5cbiAgICBwcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgaWYoIWVudHJ5LmdldEtleSgpLmVxdWFscyhtZW51KSlcbiAgICAgICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIG1lbnUgYsOhbiBow6BuZ1xuICAgICAgICAgICAgaWYgKGJhbkhhbmdTdWJWQm94ICE9IG51bGwgJiYgYmFuSGFuZ1N1Yk1lbnVMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIGLDoW4gaMOgbmcgY2jDrW5oXG4gICAgICAgICAgICBzaG93TWFpblNhbGVzSW50ZXJmYWNlKCk7XG5cbiAgICAgICAgICAgIC8vIEzDoG0gbeG7m2kgZ2nhu48gaMOgbmdcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4oXCJM4buXaSB0cm9uZyBoYW5kbGVHaW9IYW5nQ2xpY2s6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRvb2xzU2xpZGVyKHF1YW5MeVN1YlZCb3gscXVhbkx5U3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKHF1YW5MeVN1YlZCb3gpO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBUcmFDdXVfZ3VpLmZ4bWxcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcblxuICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG5cbiAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiVHJhIGPhu6l1IHPhuqNuIHBo4bqpbVwiKTtcblxuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHN0YWdlXG4gICAgICAgICAgICBzdGFnZS5zaG93KCk7XG5cbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkNodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0cmEgY+G7qXUgdGjDoG5oIGPDtG5nXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuXG4gICAgICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgICAgICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG5cbiAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bVxuICAgICAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEBGWE1MXG4gICAgdm9pZCB0aGVtU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIC8vIEzhuqV5IG3DoyBz4bqjbiBwaOG6qW0gdsOgIHPhu5EgbMaw4bujbmcgdOG7qyBjw6FjIHRyxrDhu51uZyBuaOG6rXAgbGnhu4d1XG4gICAgICAgIFN0cmluZyBtYVNQID0gdHh0X25oYXBNYS5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBTdHJpbmcgc29MdW9uZ1N0ciA9IHR4dF9uaGFwU0wuZ2V0VGV4dCgpLnRyaW0oKTtcblxuICAgICAgICAvLyBLaeG7g20gdHJhIGThu68gbGnhu4d1IG5o4bqtcCB2w6BvXG4gICAgICAgIGlmIChtYVNQLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCBtw6Mgc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgICAgIHR4dF9uaGFwTWEucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29MdW9uZ1N0ci5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJUaMO0bmcgYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgc+G7kSBsxrDhu6NuZyFcIik7XG4gICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGludCBzb0x1b25nID0gSW50ZWdlci5wYXJzZUludChzb0x1b25nU3RyKTtcbiAgICAgICAgICAgIGlmIChzb0x1b25nIDw9IDApIHtcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJT4buRIGzGsOG7o25nIHBo4bqjaSBs4bubbiBoxqFuIDAhXCIpO1xuICAgICAgICAgICAgICAgIHR4dF9uaGFwU0wucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUw6xtIGtp4bq/bSBz4bqjbiBwaOG6qW0gdGhlbyBtw6MgdsOgIHRow6ptIHbDoG8gZ2nhu48gaMOgbmdcbiAgICAgICAgICAgIGFkZFByb2R1Y3RUb0NhcnQobWFTUCwgc29MdW9uZyk7XG5cbiAgICAgICAgICAgIC8vIFjDs2EgZOG7ryBsaeG7h3UgdHJvbmcgY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgICAgICAgICAgdHh0X25oYXBNYS5jbGVhcigpO1xuICAgICAgICAgICAgdHh0X25oYXBTTC5jbGVhcigpO1xuICAgICAgICAgICAgdHh0X25oYXBNYS5yZXF1ZXN0Rm9jdXMoKTtcblxuICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIlPhu5EgbMaw4bujbmcgcGjhuqNpIGzDoCBz4buRIG5ndXnDqm4hXCIpO1xuICAgICAgICAgICAgdHh0X25oYXBTTC5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0toYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmchXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VEb2FuaFRodV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICAgICAgICAgIC8vIEto4bufaSB04bqhbyBkYW5oIHPDoWNoIGdp4buPIGjDoG5nIHRy4buRbmdcbiAgICAgICAgICAgIGNhcnRJdGVtcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpO1xuICAgICAgICAgICAgaWYgKHRhYmxlVmlldyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGFibGVWaWV3LnNldEl0ZW1zKGNhcnRJdGVtcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBUaMOqbSBz4buxIGtp4buHbiBuaOG6pXAgxJHDunAgdsOgbyBi4bqjbmdcbiAgICAgICAgICAgICAgICB0YWJsZVZpZXcuc2V0T25Nb3VzZUNsaWNrZWQodGhpczo6aGFuZGxlU2VhcmNoUmVzdWx0RG91YmxlQ2xpY2spO1xuXG4gICAgICAgICAgICAgICAgLy8gVGjDqm0gY29udGV4dCBtZW51IGNobyBi4bqjbmdcbiAgICAgICAgICAgICAgICBzZXR1cFRhYmxlQ29udGV4dE1lbnUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiVGFibGVWaWV3IGlzIG51bGwuIENoZWNrIHlvdXIgRlhNTCBmaWxlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJFcnJvciBpbml0aWFsaXppbmcgdGFibGU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBLaOG7n2kgdOG6oW8gZOG7ryBsaeG7h3UgdMOsbSBraeG6v21cbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZVNlYXJjaERhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBU4bqhbyBkYW5oIHPDoWNoIHPhuqNuIHBo4bqpbSBjaG8gdMOsbSBraeG6v21cbiAgICAgICAgICAgIE9ic2VydmFibGVMaXN0PFNhblBoYW0+IHNlYXJjaFJlc3VsdHMgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoKTtcblxuICAgICAgICAgICAgLy8gTOG6pXkgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdOG7qyBkYXRhYmFzZVxuICAgICAgICAgICAgTGlzdDxTYW5QaGFtPiBhbGxQcm9kdWN0cyA9IHNhblBoYW1EYW8ucmVhZEFsbCgpO1xuICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5hZGRBbGwoYWxsUHJvZHVjdHMpO1xuXG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sga+G6v3QgcXXhuqMgdMOsbSBraeG6v20gdHJvbmcgYuG6o25nXG4gICAgICAgICAgICAvLyBT4butIGThu6VuZyBi4bqjbmcgaGnhu4duIHThuqFpIMSR4buDIGhp4buDbiB0aOG7iyBr4bq/dCBxdeG6oyB0w6xtIGtp4bq/bVxuICAgICAgICAgICAgdGFibGVWaWV3LnNldEl0ZW1zKHNlYXJjaFJlc3VsdHMpO1xuXG5cbiAgICAgICAgICAgIC8vIFRow6ptIHPhu7Ega2nhu4duIGNobyB0csaw4budbmcgdMOsbSBraeG6v21cbiAgICAgICAgICAgIHNldHVwU2VhcmNoRmllbGQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIGto4bufaSB04bqhbyBk4buvIGxp4buHdSB0w6xtIGtp4bq/bTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIC8qKlxuICAgICAqIEhp4buDbiB0aOG7iyB0aMO0bmcgYsOhb1xuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgRlhNTCBmaWxlXG4gICAgICovXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgdG9nZ2xlUGF5bWVudE1ldGhvZCgpIHtcbiAgICAgICAgLy8gU2hvdy9oaWRlIGFwcHJvcHJpYXRlIHBheW1lbnQgZmllbGRzIGJhc2VkIG9uIHNlbGVjdGlvblxuICAgICAgICBib29sZWFuIGlzQ2FzaFNlbGVjdGVkID0gcmJfdGllbk1hdC5pc1NlbGVjdGVkKCk7XG4gICAgICAgIGJvb2xlYW4gaXNUcmFuc2ZlclNlbGVjdGVkID0gcmJfY2h1eWVuS2hvYW4uaXNTZWxlY3RlZCgpO1xuICAgICAgICBib29sZWFuIGlzQ2FyZFNlbGVjdGVkID0gcmJfdGhlLmlzU2VsZWN0ZWQoKTtcblxuICAgICAgICBncmlkX3RpZW5NYXQuc2V0VmlzaWJsZShpc0Nhc2hTZWxlY3RlZCk7XG4gICAgICAgIGdyaWRfdGllbk1hdC5zZXRNYW5hZ2VkKGlzQ2FzaFNlbGVjdGVkKTtcblxuICAgICAgICBncmlkX2NodXllbktob2FuLnNldFZpc2libGUoaXNUcmFuc2ZlclNlbGVjdGVkKTtcbiAgICAgICAgZ3JpZF9jaHV5ZW5LaG9hbi5zZXRNYW5hZ2VkKGlzVHJhbnNmZXJTZWxlY3RlZCk7XG5cbiAgICAgICAgZ3JpZF90aGUuc2V0VmlzaWJsZShpc0NhcmRTZWxlY3RlZCk7XG4gICAgICAgIGdyaWRfdGhlLnNldE1hbmFnZWQoaXNDYXJkU2VsZWN0ZWQpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfS2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIG1vR2lhb0RpZW5UaW1LaWVtS0goTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dUtoYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdMOsbSBraeG6v20ga2jDoWNoIGjDoG5nIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9QaGlldU5oYXBfY29udHJvbGxlci5qYXZhXG4uLi5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRUYWJsZURhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBU4bqhbyBEQU8gb2JqZWN0XG4gICAgICAgICAgICBQaGlldU5oYXBIYW5nX2RhbyBwTmhhcERBTyA9IG5ldyBQaGlldU5oYXBIYW5nX2RhbygpO1xuXG4gICAgICAgICAgICAvLyBYw7NhIGThu68gbGnhu4d1IGPFqSB0cm9uZyB0YWJsZVxuICAgICAgICAgICAgdGFibGVfUE5oYXAuZ2V0SXRlbXMoKS5jbGVhcigpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9TYW5QaGFtX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHhvYU5WKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB4b2FUcmFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9Ib2FEb25fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUZQY1ppMWpINGdLcUJiNFhCTTRBTWsifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50IiwiZm9sZGVyUm9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiRMaw4bubaSDEkcOieSBsw6AgdOG6pXQgY+G6oyBjw6FjIHBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIHThu6sgQmFuSGFuZ19jb250cm9sbGVyLmphdmEgxJHhu4MgYuG6oW4gY8OzIHRo4buDIGNvcHk6XG5cbmBgYGphdmFcbi8vIFBoxrDGoW5nIHRo4bupYyBsb2FkRlhNTCDEkeG7gyB04bqjaSBnaWFvIGRp4buHbiBt4bubaVxucHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgc3RhZ2Uuc2hvdygpO1xufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbkBGWE1MXG52b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcblxuICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuXG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bVxuICAgICAgICBzaG93U2VhcmNoSW50ZXJmYWNlKCk7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG5ARlhNTFxudm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG5ARlhNTFxudm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG5ARlhNTFxudm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfTmhhblZpZW5fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm4hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbkBGWE1MXG52b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuQEZYTUxcbnZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuQEZYTUxcbnZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodVxuQEZYTUxcbnZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHUhXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuQEZYTUxcbnZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5gYGBcbjwvamF2YT5cblxuQuG6oW4gY8OzIHRo4buDIHPhu60gZOG7pW5nIGPDoWMgcGjGsMahbmcgdGjhu6ljIG7DoHkgxJHhu4MgY2h14bqpbiBow7NhIHZp4buHYyDEkWnhu4F1IGjGsOG7m25nIGdp4buvYSBjw6FjIGdpYW8gZGnhu4duIHRyb25nIHRvw6BuIGLhu5kgZOG7sSDDoW4gY+G7p2EgbcOsbmguXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJmNzU0MGIyMC00YjY5LTRlYWUtODE5Zi0xNmZhZmE0Y2Y4ZWYiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjhjMTRlNWMwLTk5YzktNGU1Yy04ZmU3LTk2ZGE2NzY4NTMxNyIsInJlcXVlc3RfbWVzc2FnZSI6Inbhu5tpIGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgxJHDs25nIG3hu58gbWVudSBu4buvYSDDoSIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ24bubaSBj4bqjIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRw7NuZyBt4bufIG1lbnUgbuG7r2Egw6EifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkTGsOG7m2kgxJHDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRw7NuZyBt4bufIG1lbnUgdOG7qyBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YSDEkeG7gyBi4bqhbiBjw7MgdGjhu4MgY29weTpcblxuYGBgamF2YVxuLy8gUGjGsMahbmcgdGjhu6ljIHRow6ptIG1lbnUgdsOgbyBtYXBcbnB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgYWRkTWVudXNUb01hcEltcGwoKTtcbn1cblxucHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LCB0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICovXG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW51IHNsaWRlciAtIGhp4buHdSDhu6luZyB0csaw4bujdCBtZW51XG4gKiBAcGFyYW0gbWVudVxuICogQHBhcmFtIHN1Yk1lbnVcbiAqL1xucHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICB0b29sc1NsaWRlckltcGwobWVudSwgc3ViTWVudSk7XG59XG5cbnByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgb3RoZXIgbWVudXMgLSDEkcOzbmcgY8OhYyBtZW51IGtow6FjXG4gKiBAcGFyYW0gbWVudVxuICovXG5wdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSkge1xuICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbi8vIEPDoWMgcGjGsMahbmcgdGjhu6ljIHjhu60gbMO9IHPhu7Ega2nhu4duIGNsaWNrIHbDoG8gbWVudVxuQEZYTUxcbnZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIGlmIChiYW5IYW5nU3ViVkJveCAhPSBudWxsICYmIGJhbkhhbmdTdWJNZW51TGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXMoYmFuSGFuZ1N1YlZCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIGLDoW4gaMOgbmcgY2jDrW5oXG4gICAgICAgIHNob3dNYWluU2FsZXNJbnRlcmZhY2UoKTtcblxuICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdHJhIGPhu6l1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuXG4gICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgICB9XG59XG5gYGBcbjwvamF2YT5cblxuxJDDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIGNow61uaCDEkeG7gyBxdeG6o24gbMO9IHZp4buHYyDEkcOzbmcgbeG7nyBtZW51IHRyb25nIOG7qW5nIGThu6VuZyBj4bunYSBi4bqhbi4gQuG6oW4gY+G6p24gxJHhuqNtIGLhuqNvIHLhurFuZyBjw6FjIGJp4bq/biBuaMawIGBiYW5IYW5nU3ViVkJveGAsIGBiYW5IYW5nU3ViTWVudUxpc3RgLCBgcXVhbkx5U3ViVkJveGAsIGBxdWFuTHlTdWJNZW51TGlzdGAsIHYudi4gxJHGsOG7o2Mga2hhaSBiw6FvIMSRw7puZyB0cm9uZyBjw6FjIGNvbnRyb2xsZXIga2jDoWMga2hpIGLhuqFuIHPhu60gZOG7pW5nIGPDoWMgcGjGsMahbmcgdGjhu6ljIG7DoHkuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IkTGsOG7m2kgxJHDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRw7NuZyBt4bufIG1lbnUgdOG7qyBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YSDEkeG7gyBi4bqhbiBjw7MgdGjhu4MgY29weTpcblxuYGBgamF2YVxuLy8gUGjGsMahbmcgdGjhu6ljIHRow6ptIG1lbnUgdsOgbyBtYXBcbnB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgYWRkTWVudXNUb01hcEltcGwoKTtcbn1cblxucHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LCB0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICovXG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW51IHNsaWRlciAtIGhp4buHdSDhu6luZyB0csaw4bujdCBtZW51XG4gKiBAcGFyYW0gbWVudVxuICogQHBhcmFtIHN1Yk1lbnVcbiAqL1xucHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICB0b29sc1NsaWRlckltcGwobWVudSwgc3ViTWVudSk7XG59XG5cbnByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgb3RoZXIgbWVudXMgLSDEkcOzbmcgY8OhYyBtZW51IGtow6FjXG4gKiBAcGFyYW0gbWVudVxuICovXG5wdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSkge1xuICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbi8vIEPDoWMgcGjGsMahbmcgdGjhu6ljIHjhu60gbMO9IHPhu7Ega2nhu4duIGNsaWNrIHbDoG8gbWVudVxuQEZYTUxcbnZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIGlmIChiYW5IYW5nU3ViVkJveCAhPSBudWxsICYmIGJhbkhhbmdTdWJNZW51TGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXMoYmFuSGFuZ1N1YlZCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIGLDoW4gaMOgbmcgY2jDrW5oXG4gICAgICAgIHNob3dNYWluU2FsZXNJbnRlcmZhY2UoKTtcblxuICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdHJhIGPhu6l1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuXG4gICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgICB9XG59XG5gYGBcbjwvamF2YT5cblxuxJDDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIGNow61uaCDEkeG7gyBxdeG6o24gbMO9IHZp4buHYyDEkcOzbmcgbeG7nyBtZW51IHRyb25nIOG7qW5nIGThu6VuZyBj4bunYSBi4bqhbi4gQuG6oW4gY+G6p24gxJHhuqNtIGLhuqNvIHLhurFuZyBjw6FjIGJp4bq/biBuaMawIGBiYW5IYW5nU3ViVkJveGAsIGBiYW5IYW5nU3ViTWVudUxpc3RgLCBgcXVhbkx5U3ViVkJveGAsIGBxdWFuTHlTdWJNZW51TGlzdGAsIHYudi4gxJHGsOG7o2Mga2hhaSBiw6FvIMSRw7puZyB0cm9uZyBjw6FjIGNvbnRyb2xsZXIga2jDoWMga2hpIGLhuqFuIHPhu60gZOG7pW5nIGPDoWMgcGjGsMahbmcgdGjhu6ljIG7DoHkuXG4ifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiduG7m2kgY+G6oyBjw6FjIHBoxrDGoW5nIHRo4bupYyDEkcOzbmcgbeG7nyBtZW51IG7hu69hIMOhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkTGsOG7m2kgxJHDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRw7NuZyBt4bufIG1lbnUgdOG7qyBCYW5IYW5nX2NvbnRyb2xsZXIuamF2YSDEkeG7gyBi4bqhbiBjw7MgdGjhu4MgY29weTpcblxuYGBgamF2YVxuLy8gUGjGsMahbmcgdGjhu6ljIHRow6ptIG1lbnUgdsOgbyBtYXBcbnB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgYWRkTWVudXNUb01hcEltcGwoKTtcbn1cblxucHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LCB0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICovXG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW51IHNsaWRlciAtIGhp4buHdSDhu6luZyB0csaw4bujdCBtZW51XG4gKiBAcGFyYW0gbWVudVxuICogQHBhcmFtIHN1Yk1lbnVcbiAqL1xucHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICB0b29sc1NsaWRlckltcGwobWVudSwgc3ViTWVudSk7XG59XG5cbnByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgb3RoZXIgbWVudXMgLSDEkcOzbmcgY8OhYyBtZW51IGtow6FjXG4gKiBAcGFyYW0gbWVudVxuICovXG5wdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSkge1xuICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbi8vIEPDoWMgcGjGsMahbmcgdGjhu6ljIHjhu60gbMO9IHPhu7Ega2nhu4duIGNsaWNrIHbDoG8gbWVudVxuQEZYTUxcbnZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIGlmIChiYW5IYW5nU3ViVkJveCAhPSBudWxsICYmIGJhbkhhbmdTdWJNZW51TGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXMoYmFuSGFuZ1N1YlZCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIGLDoW4gaMOgbmcgY2jDrW5oXG4gICAgICAgIHNob3dNYWluU2FsZXNJbnRlcmZhY2UoKTtcblxuICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdHJhIGPhu6l1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuXG4gICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgICB9XG59XG5gYGBcbjwvamF2YT5cblxuxJDDonkgbMOgIGPDoWMgcGjGsMahbmcgdGjhu6ljIGNow61uaCDEkeG7gyBxdeG6o24gbMO9IHZp4buHYyDEkcOzbmcgbeG7nyBtZW51IHRyb25nIOG7qW5nIGThu6VuZyBj4bunYSBi4bqhbi4gQuG6oW4gY+G6p24gxJHhuqNtIGLhuqNvIHLhurFuZyBjw6FjIGJp4bq/biBuaMawIGBiYW5IYW5nU3ViVkJveGAsIGBiYW5IYW5nU3ViTWVudUxpc3RgLCBgcXVhbkx5U3ViVkJveGAsIGBxdWFuTHlTdWJNZW51TGlzdGAsIHYudi4gxJHGsOG7o2Mga2hhaSBiw6FvIMSRw7puZyB0cm9uZyBjw6FjIGNvbnRyb2xsZXIga2jDoWMga2hpIGLhuqFuIHPhu60gZOG7pW5nIGPDoWMgcGjGsMahbmcgdGjhu6ljIG7DoHkuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI1M2MxN2QzNy1iZWJiLTRlZjctOTNhYS1kZTM4YjVlOTk1MzMiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVhNjE2NjE0LTRkYjgtNGFlNy1hZDFkLWRmZTM0MjUyZjQxOCIsInJlcXVlc3RfbWVzc2FnZSI6ImLhuqFuIGjDo3kgZ+G7mXAgMiB5w6p1IGPhuqd1IMSRw7MgdHLhuqMgduG7gSDEkeG7pyBuYXZpZ2F0b3IgdsOgIG1lbnUiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiYuG6oW4gaMOjeSBn4buZcCAyIHnDqnUgY+G6p3UgxJHDsyB0cuG6oyB24buBIMSR4bunIG5hdmlnYXRvciB2w6AgbWVudSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiRMaw4bubaSDEkcOieSBsw6AgdOG6pXQgY+G6oyBjw6FjIHBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIChuYXZpZ2F0aW9uKSB2w6AgxJHDs25nIG3hu58gbWVudSB04burIEJhbkhhbmdfY29udHJvbGxlci5qYXZhIMSR4buDIGLhuqFuIGPDsyB0aOG7gyBjb3B5IHbDoCBz4butIGThu6VuZyB0cm9uZyB0b8OgbiBi4buZIGThu7Egw6FuOlxuXG5gYGBqYXZhXG4vLyA9PT09PSBQSOG6pk4gMTogQ8OBQyBQSMavxqBORyBUSOG7qEMgUVXhuqJOIEzDnSBNRU5VID09PT09XG5cbi8vIEtoYWkgYsOhbyBNYXAgxJHhu4MgcXXhuqNuIGzDvSBtZW51XG5NYXA8VkJveCxWQm94PiBtYXAgPSBuZXcgSGFzaE1hcDxWQm94LFZCb3g+KCk7XG5cbi8vIFBoxrDGoW5nIHRo4bupYyB0aMOqbSBtZW51IHbDoG8gbWFwXG5wdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG59XG5cbnByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAqL1xuICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbi8qKlxuICogTWVudSBzbGlkZXIgLSBoaeG7h3Ug4bupbmcgdHLGsOG7o3QgbWVudVxuICogQHBhcmFtIG1lbnVcbiAqIEBwYXJhbSBzdWJNZW51XG4gKi9cbnB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSwgVkJveCBzdWJNZW51KSB7XG4gICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsIHN1Yk1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgdG9vbHNTbGlkZXJJbXBsKFZCb3ggbWVudSwgVkJveCBzdWJNZW51KSB7XG4gICAgaWYobWVudS5nZXRDaGlsZHJlbigpLmNvbnRhaW5zKHN1Yk1lbnUpKSB7XG4gICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLnJlbW92ZShzdWJNZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkuYWRkKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIG90aGVyIG1lbnVzIC0gxJHDs25nIGPDoWMgbWVudSBraMOhY1xuICogQHBhcmFtIG1lbnVcbiAqL1xucHVibGljIHZvaWQgcmVtb3ZlT3RoZXJNZW51cyhWQm94IG1lbnUpIHtcbiAgICByZW1vdmVPdGhlck1lbnVzSW1wbChtZW51KTtcbn1cblxucHJpdmF0ZSB2b2lkIHJlbW92ZU90aGVyTWVudXNJbXBsKFZCb3ggbWVudSkge1xuICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICBpZighZW50cnkuZ2V0S2V5KCkuZXF1YWxzKG1lbnUpKVxuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgfVxufVxuXG4vLyA9PT09PSBQSOG6pk4gMjogQ8OBQyBQSMavxqBORyBUSOG7qEMgWOG7rCBMw50gU+G7sCBLSeG7hk4gQ0xJQ0sgVsOATyBNRU5VID09PT09XG5cbkBGWE1MXG52b2lkIGhhbmRsZUdpb0hhbmdDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIG1lbnUgYsOhbiBow6BuZ1xuICAgICAgICBpZiAoYmFuSGFuZ1N1YlZCb3ggIT0gbnVsbCAmJiBiYW5IYW5nU3ViTWVudUxpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdG9vbHNTbGlkZXIoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIGNow61uaFxuICAgICAgICBzaG93TWFpblNhbGVzSW50ZXJmYWNlKCk7XG5cbiAgICAgICAgLy8gTMOgbSBt4bubaSBnaeG7jyBow6BuZ1xuICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIHRyb25nIGhhbmRsZUdpb0hhbmdDbGljazogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdG9vbHNTbGlkZXIodGhvbmdLZVN1YlZCb3gsIHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyh0aG9uZ0tlU3ViVkJveCk7XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcblxuICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuXG4gICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bVxuICAgICAgICBzaG93U2VhcmNoSW50ZXJmYWNlKCk7XG4gICAgfVxufVxuXG4vLyA9PT09PSBQSOG6pk4gMzogUEjGr8agTkcgVEjhu6hDIExPQURGWE1MIMSQ4buCIFThuqJJIEdJQU8gREnhu4ZOIE3hu5pJID09PT09XG5cbi8qKlxuICogTG9hZCBGWE1MIGZpbGVcbiAqL1xucHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgc3RhZ2Uuc2hvdygpO1xufVxuXG4vLyA9PT09PSBQSOG6pk4gNDogQ8OBQyBQSMavxqBORyBUSOG7qEMgxJBJ4buAVSBIxq/hu5pORyDEkOG6vk4gQ8OBQyBHSUFPIERJ4buGTiBLSMOBQyA9PT09PVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG5ARlhNTFxudm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG5ARlhNTFxudm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG5ARlhNTFxudm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfTmhhblZpZW5fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm4hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbkBGWE1MXG52b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuQEZYTUxcbnZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuQEZYTUxcbnZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodVxuQEZYTUxcbnZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHUhXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuQEZYTUxcbnZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5cbi8vIFBoxrDGoW5nIHRo4bupYyBoaeG7g24gdGjhu4sgdGjDtG5nIGLDoW9cbnByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbn1cbmBgYFxuPC9odG1sPiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiJExrDhu5tpIMSRw6J5IGzDoCB04bqldCBj4bqjIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgKG5hdmlnYXRpb24pIHbDoCDEkcOzbmcgbeG7nyBtZW51IHThu6sgQmFuSGFuZ19jb250cm9sbGVyLmphdmEgxJHhu4MgYuG6oW4gY8OzIHRo4buDIGNvcHkgdsOgIHPhu60gZOG7pW5nIHRyb25nIHRvw6BuIGLhu5kgZOG7sSDDoW46XG5cbmBgYGphdmFcbi8vID09PT09IFBI4bqmTiAxOiBDw4FDIFBIxq/GoE5HIFRI4buoQyBRVeG6ok4gTMOdIE1FTlUgPT09PT1cblxuLy8gS2hhaSBiw6FvIE1hcCDEkeG7gyBxdeG6o24gbMO9IG1lbnVcbk1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcblxuLy8gUGjGsMahbmcgdGjhu6ljIHRow6ptIG1lbnUgdsOgbyBtYXBcbnB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgYWRkTWVudXNUb01hcEltcGwoKTtcbn1cblxucHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LCB0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICovXG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW51IHNsaWRlciAtIGhp4buHdSDhu6luZyB0csaw4bujdCBtZW51XG4gKiBAcGFyYW0gbWVudVxuICogQHBhcmFtIHN1Yk1lbnVcbiAqL1xucHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICB0b29sc1NsaWRlckltcGwobWVudSwgc3ViTWVudSk7XG59XG5cbnByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgb3RoZXIgbWVudXMgLSDEkcOzbmcgY8OhYyBtZW51IGtow6FjXG4gKiBAcGFyYW0gbWVudVxuICovXG5wdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSkge1xuICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbi8vID09PT09IFBI4bqmTiAyOiBDw4FDIFBIxq/GoE5HIFRI4buoQyBY4busIEzDnSBT4buwIEtJ4buGTiBDTElDSyBWw4BPIE1FTlUgPT09PT1cblxuQEZYTUxcbnZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIGlmIChiYW5IYW5nU3ViVkJveCAhPSBudWxsICYmIGJhbkhhbmdTdWJNZW51TGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXMoYmFuSGFuZ1N1YlZCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIGLDoW4gaMOgbmcgY2jDrW5oXG4gICAgICAgIHNob3dNYWluU2FsZXNJbnRlcmZhY2UoKTtcblxuICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdHJhIGPhu6l1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuXG4gICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgICB9XG59XG5cbi8vID09PT09IFBI4bqmTiAzOiBQSMavxqBORyBUSOG7qEMgTE9BREZYTUwgxJDhu4IgVOG6okkgR0lBTyBESeG7hk4gTeG7mkkgPT09PT1cblxuLyoqXG4gKiBMb2FkIEZYTUwgZmlsZVxuICovXG5wcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICBzdGFnZS5zaG93KCk7XG59XG5cbi8vID09PT09IFBI4bqmTiA0OiBDw4FDIFBIxq/GoE5HIFRI4buoQyDEkEnhu4BVIEjGr+G7mk5HIMSQ4bq+TiBDw4FDIEdJQU8gREnhu4ZOIEtIw4FDID09PT09XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbkBGWE1MXG52b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahbiFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbkBGWE1MXG52b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZ1xuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0toYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmchXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbkBGWE1MXG52b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFxuQEZYTUxcbnZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG5ARlhNTFxudm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG5ARlhNTFxudm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG5ARlhNTFxudm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodSFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG5ARlhNTFxudm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIGhp4buDbiB0aOG7iyB0aMO0bmcgYsOhb1xucHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xufVxuYGBgXG48L2h0bWw+XG4ifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiYuG6oW4gaMOjeSBn4buZcCAyIHnDqnUgY+G6p3UgxJHDsyB0cuG6oyB24buBIMSR4bunIG5hdmlnYXRvciB2w6AgbWVudSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6IkM6L1VzZXJzL0hvYW5nIFNvbi9naXQvTFRQVEphdmFfR2lhVmFuVmFfSEsyLTIwMjQtMjAyNV9DbGllbnQiLCJmb2xkZXJSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJExrDhu5tpIMSRw6J5IGzDoCB04bqldCBj4bqjIGPDoWMgcGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgKG5hdmlnYXRpb24pIHbDoCDEkcOzbmcgbeG7nyBtZW51IHThu6sgQmFuSGFuZ19jb250cm9sbGVyLmphdmEgxJHhu4MgYuG6oW4gY8OzIHRo4buDIGNvcHkgdsOgIHPhu60gZOG7pW5nIHRyb25nIHRvw6BuIGLhu5kgZOG7sSDDoW46XG5cbmBgYGphdmFcbi8vID09PT09IFBI4bqmTiAxOiBDw4FDIFBIxq/GoE5HIFRI4buoQyBRVeG6ok4gTMOdIE1FTlUgPT09PT1cblxuLy8gS2hhaSBiw6FvIE1hcCDEkeG7gyBxdeG6o24gbMO9IG1lbnVcbk1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcblxuLy8gUGjGsMahbmcgdGjhu6ljIHRow6ptIG1lbnUgdsOgbyBtYXBcbnB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgYWRkTWVudXNUb01hcEltcGwoKTtcbn1cblxucHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LCB0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICovXG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW51IHNsaWRlciAtIGhp4buHdSDhu6luZyB0csaw4bujdCBtZW51XG4gKiBAcGFyYW0gbWVudVxuICogQHBhcmFtIHN1Yk1lbnVcbiAqL1xucHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICB0b29sc1NsaWRlckltcGwobWVudSwgc3ViTWVudSk7XG59XG5cbnByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgb3RoZXIgbWVudXMgLSDEkcOzbmcgY8OhYyBtZW51IGtow6FjXG4gKiBAcGFyYW0gbWVudVxuICovXG5wdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSkge1xuICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbi8vID09PT09IFBI4bqmTiAyOiBDw4FDIFBIxq/GoE5HIFRI4buoQyBY4busIEzDnSBT4buwIEtJ4buGTiBDTElDSyBWw4BPIE1FTlUgPT09PT1cblxuQEZYTUxcbnZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgIGlmIChiYW5IYW5nU3ViVkJveCAhPSBudWxsICYmIGJhbkhhbmdTdWJNZW51TGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXMoYmFuSGFuZ1N1YlZCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIGLDoW4gaMOgbmcgY2jDrW5oXG4gICAgICAgIHNob3dNYWluU2FsZXNJbnRlcmZhY2UoKTtcblxuICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdHJhIGPhu6l1XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXU6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuXG4gICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgICB9XG59XG5cbi8vID09PT09IFBI4bqmTiAzOiBQSMavxqBORyBUSOG7qEMgTE9BREZYTUwgxJDhu4IgVOG6okkgR0lBTyBESeG7hk4gTeG7mkkgPT09PT1cblxuLyoqXG4gKiBMb2FkIEZYTUwgZmlsZVxuICovXG5wcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICBzdGFnZS5zaG93KCk7XG59XG5cbi8vID09PT09IFBI4bqmTiA0OiBDw4FDIFBIxq/GoE5HIFRI4buoQyDEkEnhu4BVIEjGr+G7mk5HIMSQ4bq+TiBDw4FDIEdJQU8gREnhu4ZOIEtIw4FDID09PT09XG5cbi8vIFBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbkBGWE1MXG52b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahbiFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbkBGWE1MXG52b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZ1xuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0toYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmchXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbkBGWE1MXG52b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFxuQEZYTUxcbnZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG5ARlhNTFxudm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIMSRaeG7gXUgaMaw4bubbmcgxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG5ARlhNTFxudm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjblxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogZG9hbmggdGh1XG5ARlhNTFxudm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodSFcIik7XG4gICAgfVxufVxuXG4vLyBQaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG5ARlhNTFxudm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgIH1cbn1cblxuLy8gUGjGsMahbmcgdGjhu6ljIGhp4buDbiB0aOG7iyB0aMO0bmcgYsOhb1xucHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xufVxuYGBgXG48L2h0bWw+XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJhYjZlY2E0ZS1hYjg4LTQ2MzItODc1MS04Njc2OWM2MDA0MDciLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjllMzU3N2NhLTU3MWMtNDExMi1hMDA2LWQ5NDJlYzA0MzM1YiIsInJlcXVlc3RfbWVzc2FnZSI6ImLhu48gY29tbWVudCDEkWkiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiYuG7jyBjb21tZW50IMSRaSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiRMaw4bubaSDEkcOieSBsw6AgdOG6pXQgY+G6oyBjw6FjIHBoxrDGoW5nIHRo4bupYyDEkWnhu4F1IGjGsOG7m25nIHbDoCDEkcOzbmcgbeG7nyBtZW51IGtow7RuZyBjw7MgY29tbWVudDpcblxuYGBgamF2YVxuTWFwPFZCb3gsVkJveD4gbWFwID0gbmV3IEhhc2hNYXA8VkJveCxWQm94PigpO1xuXG5wdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG59XG5cbnByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbnB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSwgVkJveCBzdWJNZW51KSB7XG4gICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsIHN1Yk1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgdG9vbHNTbGlkZXJJbXBsKFZCb3ggbWVudSwgVkJveCBzdWJNZW51KSB7XG4gICAgaWYobWVudS5nZXRDaGlsZHJlbigpLmNvbnRhaW5zKHN1Yk1lbnUpKSB7XG4gICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLnJlbW92ZShzdWJNZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICBtZW51LmdldENoaWxkcmVuKCkuYWRkKHN1Yk1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICB9XG59XG5cbnB1YmxpYyB2b2lkIHJlbW92ZU90aGVyTWVudXMoVkJveCBtZW51KSB7XG4gICAgcmVtb3ZlT3RoZXJNZW51c0ltcGwobWVudSk7XG59XG5cbnByaXZhdGUgdm9pZCByZW1vdmVPdGhlck1lbnVzSW1wbChWQm94IG1lbnUpIHtcbiAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgaWYoIWVudHJ5LmdldEtleSgpLmVxdWFscyhtZW51KSlcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgIH1cbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoYmFuSGFuZ1N1YlZCb3ggIT0gbnVsbCAmJiBiYW5IYW5nU3ViTWVudUxpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdG9vbHNTbGlkZXIoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgICAgICAgfVxuICAgICAgICBzaG93TWFpblNhbGVzSW50ZXJmYWNlKCk7XG4gICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcihxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgICByZW1vdmVPdGhlck1lbnVzKHRob25nS2VTdWJWQm94KTtcbn1cblxuQEZYTUxcbnZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuICAgICAgICBzaG93U2VhcmNoSW50ZXJmYWNlKCk7XG4gICAgfVxufVxuXG5wcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICBzdGFnZS5zaG93KCk7XG59XG5cbkBGWE1MXG52b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgIH1cbn1cblxuQEZYTUxcbnZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9LaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nIVwiKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbSFcIik7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuIVwiKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodSFcIik7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICB9XG59XG5cbnByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbn1cbmBgYFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJi4buPIGNvbW1lbnQgxJFpIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiQzovVXNlcnMvSG9hbmcgU29uL2dpdC9MVFBUSmF2YV9HaWFWYW5WYV9ISzItMjAyNC0yMDI1X0NsaWVudCIsImZvbGRlclJvb3QiOiJDOi9Vc2Vycy9Ib2FuZyBTb24vZ2l0L0xUUFRKYXZhX0dpYVZhblZhX0hLMi0yMDI0LTIwMjVfQ2xpZW50In1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkTGsOG7m2kgxJHDonkgbMOgIHThuqV0IGPhuqMgY8OhYyBwaMawxqFuZyB0aOG7qWMgxJFp4buBdSBoxrDhu5tuZyB2w6AgxJHDs25nIG3hu58gbWVudSBraMO0bmcgY8OzIGNvbW1lbnQ6XG5cbmBgYGphdmFcbk1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcblxucHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xufVxuXG5wcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsIHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgfVxufVxuXG5wdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsIFZCb3ggc3ViTWVudSkge1xuICAgIHRvb2xzU2xpZGVySW1wbChtZW51LCBzdWJNZW51KTtcbn1cblxucHJpdmF0ZSB2b2lkIHRvb2xzU2xpZGVySW1wbChWQm94IG1lbnUsIFZCb3ggc3ViTWVudSkge1xuICAgIGlmKG1lbnUuZ2V0Q2hpbGRyZW4oKS5jb250YWlucyhzdWJNZW51KSkge1xuICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoc3ViTWVudSk7XG4gICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLmFkZChzdWJNZW51KTtcbiAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAgfVxufVxuXG5wdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSkge1xuICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xufVxuXG5wcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZUdpb0hhbmdDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGJhbkhhbmdTdWJWQm94ICE9IG51bGwgJiYgYmFuSGFuZ1N1Yk1lbnVMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRvb2xzU2xpZGVyKGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhiYW5IYW5nU3ViVkJveCk7XG4gICAgICAgIH1cbiAgICAgICAgc2hvd01haW5TYWxlc0ludGVyZmFjZSgpO1xuICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIHRyb25nIGhhbmRsZUdpb0hhbmdDbGljazogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdG9vbHNTbGlkZXIodGhvbmdLZVN1YlZCb3gsIHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAgcmVtb3ZlT3RoZXJNZW51cyh0aG9uZ0tlU3ViVkJveCk7XG59XG5cbkBGWE1MXG52b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzKHRpbUtpZW1TdWJWQm94KTtcbiAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xuICAgIH1cbn1cblxucHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgc3RhZ2Uuc2hvdygpO1xufVxuXG5ARlhNTFxudm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgICB9XG59XG5cbkBGWE1MXG52b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfTmhhblZpZW5fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm4hXCIpO1xuICAgIH1cbn1cblxuQEZYTUxcbnZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgIH1cbn1cblxuQEZYTUxcbnZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgIH1cbn1cblxuQEZYTUxcbnZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgfVxufVxuXG5ARlhNTFxudm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHUhXCIpO1xuICAgIH1cbn1cblxuQEZYTUxcbnZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgfVxufVxuXG5wcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG59XG5gYGBcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119XSwiZmVlZGJhY2tTdGF0ZXMiOnsidGVtcC1mZS1mOTY0NTYwZC02NTA0LTQ3MzQtOGE3YS1hYzA2MWFkMTRjZGIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTE0NjUxMTU3LTdiZjItNDM0Mi05YWQ4LTFmZTkxZWU2NTI4MSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNjhiZThlOTctNjY3Yy00OTBhLTk3MWYtODg1ZjJiYTQ3M2I1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1lNGQzMjYxNy04MDg0LTRjMjEtODMxYS1kY2VjZmJhY2I1OTMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTU5YTIzNjViLTRkYTctNDU3MS05OTEwLTFjYThhMjE0MGQ2MSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMTRjOTZiYjUtNzg5MS00MTU4LWIzNWEtYmZmYTM1Y2U5NzBmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02NmMzMTk1Ny02Y2U0LTRkYWUtYTE4My0wNTVhNjJiNmUzNTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTEzN2FiZWIyLTI3YWQtNGYxNC05NjIzLWQwZDJlNjNkN2I2MiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtODlhZmQxZDItMDQxMS00YmU1LTkwYzEtOTI0ZjExNjBkNzk2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wMDUwMTQwZS1hZTg1LTQ1ZWYtOTMwYy1kOWM0YTVmNzA1ODgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM4MWU2MTE5LWY5MTMtNGVkYi05YjUyLTE2NTgyYjhmNDYyOCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDAwNzU4MjItNGU5My00NTZlLTliOWQtZjg2MDVjZWM4NGQzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS01NjAxNmQ0NC04NWZkLTQ2MTYtYjc5NC1lMzA2NTZiNWZiZTYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWFhNmJmNGMyLTU0YTMtNGMyOS1hYTM3LTllNzM5ZTA2MzE0MSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMTUzOGM3N2YtNTgxOC00YWY0LWE5MGUtZjgwNGVmMzYwYzRjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zNWQyNmM5ZS0yM2JmLTQ5YzEtYmFlNC1mZmJiMjU2ZDI2MWMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTdlN2Y0NjZmLWM1ZTUtNDNhMC1iM2E2LWIzZDU3ODMyMzA5MyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNWJlMjIyMTUtOTZlYy00ZjAwLWI2NzctNDBmOTYzMThkOGJmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wNGVkMzk2My0wZDlhLTRmMTgtOGE3Yy1kNjU2Mjk2OTU1OGQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTI4ZTE1ZWQ1LTEyYTMtNDhhZS1iNDA2LTg1MDM2MjBmNmM3ZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjhiNjg0YWYtNGYwMS00OWIxLTgxYjktYjc4Yzg5MTA2NTJkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jMDFhODRjOS0xMjQ1LTQ5YjEtOGI0OC0yMzRkNjliZDRjYjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWU4M2FlZjk2LTZmMDItNDA4ZC1hYTM0LTBmYzA5NzdhYmM2ZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjg3YmQ3NTEtZmY4Yy00MzQzLWI2NTMtNWNkYTE1MmFkZjg1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iOGViOTg5YS0yZGIyLTRlNjgtOGFhZS1hYmMzMzY3MGVkNGYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWI1NWM4MDkwLWJmOGUtNDAyNC04MDM4LTg4NWViZDQxMDQ1OSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYzNhMjFiOTAtNTYwNi00ZGM5LTgxMWMtYmEwM2VhZmM1ZDI2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02MDZjZGU2Yi05ODk3LTQ0YzItODhhZS05NTFjNjMzYTlmM2MiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWYxZDc2YzIxLTY3YmQtNDlhZC1iOGJiLWY1ZTI1NjlmNTUxNiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmU4NTdjY2MtOGM4ZS00NjkzLWFiNmQtMjA0ZjRiN2QxMDcyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hZDA3OTk2Yi1kYzMyLTRmNzQtOWVmMi05YTc4ZDQ3YzUzNmUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyIxZjI3MWM5NC0zNzcyLTRiZmUtYmZjZC0xNzk0ZjgxYzdjZjc7dG9vbHVfdnJ0eF8wMTN0TDRLeGJGa2ozNnBub1dld0VNb2UiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfU2FuUGhhbV9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48PywgPz4gbGNfZ2lhTmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX25oYW5WaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3F1YW5MeTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfc2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFNhblBoYW0+IHRhYmxlX1NQO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1Yk1lbnVMaXN0O1xuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIG1vR2lhb0RpZW5UaW1LaWVtU1AoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1RhaUtvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0toYWNoSGFuZ19jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgbW9HaWFvRGllblRpbUtpZW1LSChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1S2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSBraMOhY2ggaMOgbmchXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9Ib2FEb25fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBo4bq/dSBuaOG6rXBcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9QaGlldU5oYXBfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X01hUGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfU29TUDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X1Rlbk5WO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfVGhhbmhUaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfVGhvaUdpYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB2Qm94O1xuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZUdpb0hhbmdDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhXG5wYWNrYWdlIGl1aC5maXQ7XG5cbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEubmV0LlVSTDtcbmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTtcbmltcG9ydCBqYXZhLnV0aWwuTGlzdDtcblxuaW1wb3J0IGl1aC5maXQuZGFvcy5Ib2FEb25fZGFvO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5TYW5QaGFtX2RhbztcbmltcG9ydCBpdWguZml0LmRhb3MuVGFpS2hvYW5fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuSG9hRG9uO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuU2FuUGhhbTtcbmltcG9ydCBpdWguZml0LmVudGl0aWVzLlRhaUtob2FuO1xuaW1wb3J0IGphdmFmeC5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbjtcbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uUGxhdGZvcm07XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZ2VvbWV0cnkuUmVjdGFuZ2xlMkQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnN0YWdlLk1vZGFsaXR5O1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TY3JlZW47XG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuaW1wb3J0IGpha2FydGEucGVyc2lzdGVuY2UuRW50aXR5TWFuYWdlckZhY3Rvcnk7XG5pbXBvcnQgamFrYXJ0YS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZTtcblxuLyoqXG4gKiBM4bubcCBjaMOtbmggY+G7p2Eg4bupbmcgZOG7pW5nXG4gKi9cbnB1YmxpYyBjbGFzcyBBcHAgZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG4vLyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCB3aWR0aE1vZGFsTG9naW4gPSA2MDA7XG4vLyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBoZWlnaHRNb2RhbExvZ2luID0gNDAwO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RhZ2Ugc3RhZ2U7XG4gICAgcHVibGljIHN0YXRpYyBTY2VuZSBwcmltYXJ5U2NlbmU7XG4gICAgcHVibGljIHN0YXRpYyBTdHJpbmcgdXNlcjtcbiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBtYTtcbiAgICBwdWJsaWMgc3RhdGljIFRhaUtob2FuIHRhaUtob2FuO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIG1hVHJhQ3V1O1xuXG4gICAgLy8gQmnhur9uIMSR4buDIHRoZW8gZMO1aSB0cuG6oW5nIHRow6FpIMSRxINuZyBuaOG6rXBcbiAgICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGxvZ2luU2NyZWVuT3BlbmVkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4gICAgICAgIFN5c3RlbS5zZXRQcm9wZXJ0eShcImphdmFmeC5wcmVsb2FkZXJcIiwgQXBwUHJlbG9hZGVyLmNsYXNzLmdldE5hbWUoKSk7XG4gICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICB9XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBL4bq/dCBu4buRaSDEkeG6v24gY8ahIHPhu58gZOG7ryBsaeG7h3VcbiAgICAgICAgICAgIEVudGl0eU1hbmFnZXJGYWN0b3J5IGVtZiA9IFBlcnNpc3RlbmNlLmNyZWF0ZUVudGl0eU1hbmFnZXJGYWN0b3J5KFwibWFyaWFkYlwiKTtcblxuICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSB2w6AgY+G6rXAgbmjhuq10IGThu68gbGnhu4d1IGtoaSBraOG7n2kgxJHhu5luZyDhu6luZyBk4bulbmdcbiAgICAgICAgICAgIGNoZWNrU2FuUGhhbSgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kga2hpIGto4bufaSB04bqhbyDhu6luZyBk4bulbmc6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcC5zdGFydCgpIGNhbGxlZFwiKTtcbiAgICAgICAgc3RhZ2UgPSBwcmltYXJ5U3RhZ2U7XG5cbiAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBz4buxIGtp4buHbiBraGkgxJHDs25nIGPhu61hIHPhu5UgY2jDrW5oXG4gICAgICAgIHN0YWdlLnNldE9uQ2xvc2VSZXF1ZXN0KGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcGxpY2F0aW9uIGlzIGNsb3NpbmdcIik7XG4gICAgICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2jhu4kgbeG7nyBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7Mgc3BsYXNoIHNjcmVlblxuICAgICAgICBpZiAoQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlID09IG51bGwpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk5vIHNwbGFzaCBzY3JlZW4gZGV0ZWN0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuIGRpcmVjdGx5XCIpO1xuLy8gICAgICAgICAgICBvcGVuTG9naW5HVUkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE3hu58gZ2lhbyBkaeG7h24gY2jDrW5oIGPhu6dhIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuTWFpbkdVSSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIHNjZW5lLmdldFN0eWxlc2hlZXRzKCkuYWRkKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IHNjZW5lIGZvciB0aGUgc3RhZ2VcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldE1heGltaXplZCh0cnVlKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIGxvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuLy8gICAgICAgICAgICBpZiAobG9naW5GeG1sVXJsID09IG51bGwpIHtcbi8vICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkxvZ2luX2d1aS5meG1sIG5vdCBmb3VuZCEgVHJ5aW5nIHRvIG9wZW4gQmFuSGFuZ19ndWkuZnhtbCBpbnN0ZWFkLlwiKTtcbi8vICAgICAgICAgICAgICAgIG9wZW5NYWluR1VJKCk7XG4vLyAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihsb2dpbkZ4bWxVcmwpO1xuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBmeG1sTG9hZGVyLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVOG6oW8gc2NlbmUgbeG7m2lcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0TWF4aW1pemVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyDEkOG6t3Qga8OtY2ggdGjGsOG7m2MgdsOgIHbhu4sgdHLDrSBj4bunYSBj4butYSBz4buVXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFgoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0V2lkdGgoKSAtIHJvb3QucHJlZldpZHRoKC0xKSkgLyAyKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFkoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0SGVpZ2h0KCkgLSByb290LnByZWZIZWlnaHQoLTEpKSAvIDIpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvTWFpbkFwcC5qYXZhXG5wYWNrYWdlIGl1aC5maXQ7XG5cbmltcG9ydCBqYXZhZnguYXBwbGljYXRpb24uQXBwbGljYXRpb247XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZ2VvbWV0cnkuUmVjdGFuZ2xlMkQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnN0YWdlLlNjcmVlbjtcbmltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG5cbi8qKlxuICogTOG7m3AgxJHhu4MgY2jhuqF5IOG7qW5nIGThu6VuZyB0cuG7sWMgdGnhur9wIHThu6sgbcOgbiBow6xuaCBiw6FuIGjDoG5nXG4gKi9cbnB1YmxpYyBjbGFzcyBNYWluQXBwIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgc3RhcnQoU3RhZ2UgcHJpbWFyeVN0YWdlKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk1haW5BcHA6IExvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiBiw6FuIGjDoG5nXG4gICAgICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGjDqm0gc3R5bGVzaGVldCBu4bq/dSBjw7NcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2NlbmUuZ2V0U3R5bGVzaGVldHMoKS5hZGQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIk1haW5BcHA6IENvdWxkIG5vdCBsb2FkIHN0eWxlc2hlZXQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUaGnhur90IGzhuq1wIHN0YWdlXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBrw61jaCB0aMaw4bubYyBzdGFnZSB0aGVvIG3DoG4gaMOsbmggY2jDrW5oXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRYKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0TWluWCgpKTtcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRZKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0TWluWSgpKTtcbiAgICAgICAgICAgIHByaW1hcnlTdGFnZS5zZXRXaWR0aChwcmltYXJ5U2NyZWVuQm91bmRzLmdldFdpZHRoKCkpO1xuICAgICAgICAgICAgcHJpbWFyeVN0YWdlLnNldEhlaWdodChwcmltYXJ5U2NyZWVuQm91bmRzLmdldEhlaWdodCgpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHN0YWdlXG4gICAgICAgICAgICBwcmltYXJ5U3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJNYWluQXBwOiBNYWluIHNjcmVlbiBvcGVuZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTWFpbkFwcDogRXJyb3IgbG9hZGluZyBCYW5IYW5nX2d1aS5meG1sOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4gICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICB9XG59XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0xvZ2luX2NvbnRyb2xsZXIuamF2YVxucGFja2FnZSBpdWguZml0LmNvbnRyb2xsZXI7XG5cbmltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuaW1wb3J0IGphdmEubmV0LlVSTDtcbmltcG9ydCBqYXZhLnV0aWwuUmVzb3VyY2VCdW5kbGU7XG5cbmltcG9ydCBpdWguZml0LkFwcDtcbmltcG9ydCBpdWguZml0LmRhb3MuVGFpS2hvYW5fZGFvO1xuaW1wb3J0IGl1aC5maXQuZW50aXRpZXMuVGFpS2hvYW47XG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydDtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydC5BbGVydFR5cGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkh5cGVybGluaztcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5QYXNzd29yZEZpZWxkO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLlRleHRGaWVsZDtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuS2V5Q29kZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuS2V5RXZlbnQ7XG5cbi8qKlxuICogQ29udHJvbGxlciBjaG8gbcOgbiBow6xuaCDEkcSDbmcgbmjhuq1wXG4gKi9cbnB1YmxpYyBjbGFzcyBMb2dpbl9jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dFVzZXJuYW1lO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhc3N3b3JkRmllbGQgdHh0UGFzc3dvcmQ7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgQnV0dG9uIGJ0bkxvZ2luO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEh5cGVybGluayBsaW5rRm9yZ290UGFzc3dvcmQ7XG5cbiAgICBwcml2YXRlIFRhaUtob2FuX2RhbyB0YWlLaG9hbkRhbztcblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICAgICAgLy8gS2jhu59pIHThuqFvIERBT1xuICAgICAgICB0YWlLaG9hbkRhbyA9IG5ldyBUYWlLaG9hbl9kYW8oKTtcblxuICAgICAgICAvLyBUaMOqbSBz4buxIGtp4buHbiBFbnRlciBjaG8gY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgICAgICB0eHRVc2VybmFtZS5zZXRPbktleVByZXNzZWQodGhpczo6aGFuZGxlRW50ZXJLZXkpO1xuICAgICAgICB0eHRQYXNzd29yZC5zZXRPbktleVByZXNzZWQodGhpczo6aGFuZGxlRW50ZXJLZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFjhu60gbMO9IHPhu7Ega2nhu4duIG5o4bqlbiBFbnRlclxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVFbnRlcktleShLZXlFdmVudCBldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZ2V0Q29kZSgpID09IEtleUNvZGUuRU5URVIpIHtcbiAgICAgICAgICAgIGxvZ2luKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBuaOG6pW4gbsO6dCDEkcSDbmcgbmjhuq1wXG4gICAgICovXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlTG9naW5CdXR0b25BY3Rpb24oQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgbG9naW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBxdcOqbiBt4bqtdCBraOG6qXVcbiAgICAgKi9cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCBoYW5kbGVGb3Jnb3RQYXNzd29yZEFjdGlvbihBY3Rpb25FdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLm9wZW5RdWVuTUsoKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdcOqbiBt4bqtdCBraOG6qXUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGjhu7FjIGhp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICovXG4gICAgcHJpdmF0ZSB2b2lkIGxvZ2luKCkge1xuICAgICAgICBTdHJpbmcgdXNlcm5hbWUgPSB0eHRVc2VybmFtZS5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSB0eHRQYXNzd29yZC5nZXRUZXh0KCkudHJpbSgpO1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgICAgIGlmICh1c2VybmFtZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgdMOqbiDEkcSDbmcgbmjhuq1wIVwiKTtcbiAgICAgICAgICAgIHR4dFVzZXJuYW1lLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhc3N3b3JkLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCBt4bqtdCBraOG6qXUhXCIpO1xuICAgICAgICAgICAgdHh0UGFzc3dvcmQucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBsb2dpblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgVGFpS2hvYW4gdGFpS2hvYW4gPSB0YWlLaG9hbkRhby5maW5kQnlVc2VybmFtZWFuZFBhc3N3b3JkKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gICAgICAgICAgICBpZiAodGFpS2hvYW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgbG9naW4gaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSB0YWlLaG9hbjtcbiAgICAgICAgICAgICAgICBBcHAudXNlciA9IHVzZXJuYW1lO1xuICAgICAgICAgICAgICAgIEFwcC5tYSA9IHRhaUtob2FuLmdldE1hVGFpS2hvYW4oKTtcbiAgICAgICAgICAgICAgICB0eHRVc2VybmFtZS5nZXRTY2VuZSgpLmdldFdpbmRvdygpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGUgbG9naW4gc2NyZWVuIGFuZCBvcGVuIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgICAgIEFwcC5vcGVuTWFpbkdVSSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpIMSRxINuZyBuaOG6rXBcIiwgXCJUw6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdSBraMO0bmcgxJHDum5nIVwiKTtcbiAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHR4dFBhc3N3b3JkLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIi4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjQyMGQ2NmM0LTg4NGQtNDc3Ni1hNGI5LTVjOTA5ZWUwNzkwZjt0b29sdV92cnR4XzAxR3Z1ZDlpWEM5ODFDc3ZlSkFVc29QciI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9TYW5QaGFtX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiUGhp4bq/dSBuaOG6rXBcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHhvYU5WKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB4b2FUcmFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9LaGFjaEhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9QaGlldU5oYXBfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXAhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9TYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBtb0dpYW9EaWVuVGltS2llbUtIKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVLaGFjaEhhbmdfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIGtow6FjaCBow6BuZyFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiS2jDoWNoIGjDoG5nXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfSG9hRG9uX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9QaGlldU5oYXBfY29udHJvbGxlci5qYXZhXG4uLi5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRUYWJsZURhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBU4bqhbyBEQU8gb2JqZWN0XG4gICAgICAgICAgICBQaGlldU5oYXBIYW5nX2RhbyBwTmhhcERBTyA9IG5ldyBQaGlldU5oYXBIYW5nX2RhbygpO1xuXG4gICAgICAgICAgICAvLyBYw7NhIGThu68gbGnhu4d1IGPFqSB0cm9uZyB0YWJsZVxuICAgICAgICAgICAgdGFibGVfUE5oYXAuZ2V0SXRlbXMoKS5jbGVhcigpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2JiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2JiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJT4bqjbiBwaOG6qW1cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjYmJfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmFcbnBhY2thZ2UgaXVoLmZpdC5jb250cm9sbGVyO1xuXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLm5ldC5VUkw7XG5pbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xuXG5pbXBvcnQgaXVoLmZpdC5BcHA7XG5pbXBvcnQgaXVoLmZpdC5kYW9zLlRhaUtob2FuX2RhbztcbmltcG9ydCBpdWguZml0LmVudGl0aWVzLlRhaUtob2FuO1xuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5IeXBlcmxpbms7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuUGFzc3dvcmRGaWVsZDtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0RmllbGQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0LktleUNvZGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0LktleUV2ZW50O1xuXG4vKipcbiAqIENvbnRyb2xsZXIgY2hvIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICovXG5wdWJsaWMgY2xhc3MgTG9naW5fY29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRVc2VybmFtZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYXNzd29yZEZpZWxkIHR4dFBhc3N3b3JkO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEJ1dHRvbiBidG5Mb2dpbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBIeXBlcmxpbmsgbGlua0ZvcmdvdFBhc3N3b3JkO1xuXG4gICAgcHJpdmF0ZSBUYWlLaG9hbl9kYW8gdGFpS2hvYW5EYW87XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIEto4bufaSB04bqhbyBEQU9cbiAgICAgICAgdGFpS2hvYW5EYW8gPSBuZXcgVGFpS2hvYW5fZGFvKCk7XG5cbiAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gRW50ZXIgY2hvIGPDoWMgdHLGsOG7nW5nIG5o4bqtcCBsaeG7h3VcbiAgICAgICAgdHh0VXNlcm5hbWUuc2V0T25LZXlQcmVzc2VkKHRoaXM6OmhhbmRsZUVudGVyS2V5KTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0T25LZXlQcmVzc2VkKHRoaXM6OmhhbmRsZUVudGVyS2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBuaOG6pW4gRW50ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRW50ZXJLZXkoS2V5RXZlbnQgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmdldENvZGUoKSA9PSBLZXlDb2RlLkVOVEVSKSB7XG4gICAgICAgICAgICBsb2dpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gbmjhuqVuIG7DunQgxJHEg25nIG5o4bqtcFxuICAgICAqL1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUxvZ2luQnV0dG9uQWN0aW9uKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGxvZ2luKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gcXXDqm4gbeG6rXQga2jhuql1XG4gICAgICovXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRm9yZ290UGFzc3dvcmRBY3Rpb24oQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5vcGVuUXVlbk1LKCk7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXDqm4gbeG6rXQga2jhuql1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRo4buxYyBoaeG7h24gxJHEg25nIG5o4bqtcFxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBsb2dpbigpIHtcbiAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlcm5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpLnRyaW0oKTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgICAgICBpZiAodXNlcm5hbWUuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIHTDqm4gxJHEg25nIG5o4bqtcCFcIik7XG4gICAgICAgICAgICB0eHRVc2VybmFtZS5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXNzd29yZC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgbeG6rXQga2jhuql1IVwiKTtcbiAgICAgICAgICAgIHR4dFBhc3N3b3JkLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgbG9naW5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFRhaUtob2FuIHRhaUtob2FuID0gdGFpS2hvYW5EYW8uZmluZEJ5VXNlcm5hbWVhbmRQYXNzd29yZCh1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgaWYgKHRhaUtob2FuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGxvZ2luIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gdGFpS2hvYW47XG4gICAgICAgICAgICAgICAgQXBwLnVzZXIgPSB1c2VybmFtZTtcbiAgICAgICAgICAgICAgICBBcHAubWEgPSB0YWlLaG9hbi5nZXRNYVRhaUtob2FuKCk7XG4gICAgICAgICAgICAgICAgdHh0VXNlcm5hbWUuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGxvZ2luIHNjcmVlbiBhbmQgb3BlbiB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgICAgICBBcHAub3Blbk1haW5HVUkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaSDEkcSDbmcgbmjhuq1wXCIsIFwiVMOqbiDEkcSDbmcgbmjhuq1wIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIMSRw7puZyFcIik7XG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiTOG7l2kga2hpIMSRxINuZyBuaOG6rXA6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIC8qKlxuICAgICAqIEhp4buDbiB0aOG7iyB0aMO0bmcgYsOhb1xuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgRlhNTCBmaWxlXG4gICAgICovXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRUYWJsZURhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBOaGFuVmllbl9kYW8gbmhhblZpZW5EYW8gPSBuZXcgTmhhblZpZW5fZGFvKCk7XG4gICAgICAgICAgICBMaXN0PE5oYW5WaWVuPiBkc252ID0gbmhhblZpZW5EYW8ucmVhZEFsbE5oYW5WaWVuKCk7XG4gICAgICAgICAgICBPYnNlcnZhYmxlTGlzdDxOaGFuVmllbj4gZGF0YSA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChkc252KTtcbiAgICAgICAgICAgIHRhYmxlTmhhblZpZW4uc2V0SXRlbXMoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyB04bqjaSBk4buvIGxp4buHdSBuaMOibiB2acOqblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cFRhYmxlQ2xpY2tFdmVudCgpIHtcbiAgICAgICAgdGFibGVOaGFuVmllbi5zZXRPbk1vdXNlQ2xpY2tlZChldmVudCAtPiB7XG4gICAgICAgICAgICBOaGFuVmllbiBzZWxlY3RlZE5oYW5WaWVuID0gdGFibGVOaGFuVmllbi5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkTmhhblZpZW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVscyhzZWxlY3RlZE5oYW5WaWVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJOaMOibiB2acOqblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICBTdHJpbmcgbWFOaGFuVmllbiA9IHR4dF9tYU5WLmdldFRleHQoKTtcbiAgICAgICAgQXBwLm1hVHJhQ3V1ID0gbWFOaGFuVmllbjtcbiAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSBuZXcgTmhhblZpZW5fZGFvKCkucmVhZE5oYW5WaWVuKG1hTmhhblZpZW4pO1xuICAgICAgICBsYl9tYU5WLnNldFRleHQobmhhblZpZW4uZ2V0TWFOVigpKTtcbiAgICAgICAgbGJfdGVuTlYuc2V0VGV4dChuaGFuVmllbi5nZXRUZW5OVigpKTtcbiAgICAgICAgbGJfY2NjZC5zZXRUZXh0KG5oYW5WaWVuLmdldENjY2QoKSk7XG4gICAgICAgIGxiX3NkdC5zZXRUZXh0KG5oYW5WaWVuLmdldFNkdCgpKTtcbiAgICAgICAgbGJfZW1haWwuc2V0VGV4dChuaGFuVmllbi5nZXRFbWFpbCgpKTtcbiAgICAgICAgbGJfZGlhQ2hpLnNldFRleHQobmhhblZpZW4uZ2V0RGlhQ2hpKCkpO1xuICAgICAgICBsYl9jaHVjVnUuc2V0VGV4dChuaGFuVmllbi5nZXRDaHVjVnUoKS50b1N0cmluZygpKTtcbiAgICAgICAgbGJfbmdheVNpbmguc2V0VGV4dChuaGFuVmllbi5nZXROZ2F5U2luaCgpLmZvcm1hdChkYXRlRm9ybWF0dGVyKSk7XG4gICAgICAgIGhpZ2hsaWdodE1hdGNoaW5nUm93KG1hTmhhblZpZW4pO1xuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlIb2FEb25fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5S2hhY2hIYW5nX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlOaGFuVmllbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNWFjMmMxMjEtZWJiNC00MjcxLTk2NjAtYzA3M2IyMTc2MDlmO3Rvb2x1X3ZydHhfMDFIRTFQR2VDeUh1bXZ2Qkc5VFhYRFhVIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hUE47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFBoaWV1TmhhcEhhbmc+IHRhYmxlUGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiUGhp4bq/dSBuaOG6rXBcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhXG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcC5zdGFydCgpIGNhbGxlZFwiKTtcbiAgICAgICAgc3RhZ2UgPSBwcmltYXJ5U3RhZ2U7XG5cbiAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBz4buxIGtp4buHbiBraGkgxJHDs25nIGPhu61hIHPhu5UgY2jDrW5oXG4gICAgICAgIHN0YWdlLnNldE9uQ2xvc2VSZXF1ZXN0KGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcGxpY2F0aW9uIGlzIGNsb3NpbmdcIik7XG4gICAgICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2jhu4kgbeG7nyBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7Mgc3BsYXNoIHNjcmVlblxuICAgICAgICBpZiAoQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlID09IG51bGwpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk5vIHNwbGFzaCBzY3JlZW4gZGV0ZWN0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuIGRpcmVjdGx5XCIpO1xuLy8gICAgICAgICAgICBvcGVuTG9naW5HVUkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE3hu58gZ2lhbyBkaeG7h24gY2jDrW5oIGPhu6dhIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuTWFpbkdVSSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIHNjZW5lLmdldFN0eWxlc2hlZXRzKCkuYWRkKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IHNjZW5lIGZvciB0aGUgc3RhZ2VcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldE1heGltaXplZCh0cnVlKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIGxvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuLy8gICAgICAgICAgICBpZiAobG9naW5GeG1sVXJsID09IG51bGwpIHtcbi8vICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkxvZ2luX2d1aS5meG1sIG5vdCBmb3VuZCEgVHJ5aW5nIHRvIG9wZW4gQmFuSGFuZ19ndWkuZnhtbCBpbnN0ZWFkLlwiKTtcbi8vICAgICAgICAgICAgICAgIG9wZW5NYWluR1VJKCk7XG4vLyAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihsb2dpbkZ4bWxVcmwpO1xuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBmeG1sTG9hZGVyLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVOG6oW8gc2NlbmUgbeG7m2lcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0TWF4aW1pemVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyDEkOG6t3Qga8OtY2ggdGjGsOG7m2MgdsOgIHbhu4sgdHLDrSBj4bunYSBj4butYSBz4buVXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFgoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0V2lkdGgoKSAtIHJvb3QucHJlZldpZHRoKC0xKSkgLyAyKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFkoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0SGVpZ2h0KCkgLSByb290LnByZWZIZWlnaHQoLTEpKSAvIDIpO1xuXG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgY+G7rWEgc+G7lVxuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKDEpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTG9naW4gR1VJIG9wZW5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRXJyb3Igb3BlbmluZyBMb2dpbl9ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBN4bufIGdpYW8gZGnhu4duIHF1w6puIG3huq10IGto4bqpdVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuUXVlbk1LKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgZnhtbExvYWRlciA9IG5ldyBGWE1MTG9hZGVyKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9meG1sL1F1ZW5NYXRLaGF1X2d1aS5meG1sXCIpKTtcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gZnhtbExvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290LCA2MDAsIDQwMCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIlF1w6puIG3huq10IGto4bqpdVwiKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoTnVsbFBvaW50ZXJFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIktow7RuZyB0w6xtIHRo4bqleSBmaWxlIFF1ZW5NYXRLaGF1X2d1aS5meG1sOiBcIiArIGV4LmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBUaGF5IMSR4buVaSByb290IGPhu6dhIHNjZW5lXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldFJvb3QoU3RyaW5nIGZ4bWwpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sICsgXCIuZnhtbFwiKSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvYWRpbmcgRlhNTDogXCIgKyBsb2FkZXIuZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBQYXJlbnQgbmV3Um9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBpZiAocHJpbWFyeVNjZW5lICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNjZW5lLnNldFJvb3QobmV3Um9vdCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShwcmltYXJ5U2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2l6ZVRvU2NlbmUoKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIktow7RuZyB0w6xtIHRo4bqleSBmaWxlOiBcIiArIGZ4bWwpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIEZYTUwgZmlsZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgUGFyZW50IGxvYWRGWE1MKFN0cmluZyBmeG1sKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihBcHAuY2xhc3MuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWwgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgcmV0dXJuIGZ4bWxMb2FkZXIubG9hZCgpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiS2jDoWNoIGjDoG5nXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiSG/DoSDEkcahblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNiYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNiYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiU+G6o24gcGjhuqltXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJOaMOibiB2acOqblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJUw6BpIGtob+G6o25cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvUUxfVGFpS29hbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHhvYU5WKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB4b2FUcmFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9Mb2dpbl9jb250cm9sbGVyLmphdmFcbnBhY2thZ2UgaXVoLmZpdC5jb250cm9sbGVyO1xuXG5pbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjtcbmltcG9ydCBqYXZhLm5ldC5VUkw7XG5pbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xuXG5pbXBvcnQgaXVoLmZpdC5BcHA7XG5pbXBvcnQgaXVoLmZpdC5kYW9zLlRhaUtob2FuX2RhbztcbmltcG9ydCBpdWguZml0LmVudGl0aWVzLlRhaUtob2FuO1xuaW1wb3J0IGphdmFmeC5ldmVudC5BY3Rpb25FdmVudDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MO1xuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvbjtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5IeXBlcmxpbms7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuUGFzc3dvcmRGaWVsZDtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5UZXh0RmllbGQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0LktleUNvZGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0LktleUV2ZW50O1xuXG4vKipcbiAqIENvbnRyb2xsZXIgY2hvIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICovXG5wdWJsaWMgY2xhc3MgTG9naW5fY29udHJvbGxlciBpbXBsZW1lbnRzIEluaXRpYWxpemFibGUge1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRVc2VybmFtZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYXNzd29yZEZpZWxkIHR4dFBhc3N3b3JkO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEJ1dHRvbiBidG5Mb2dpbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBIeXBlcmxpbmsgbGlua0ZvcmdvdFBhc3N3b3JkO1xuXG4gICAgcHJpdmF0ZSBUYWlLaG9hbl9kYW8gdGFpS2hvYW5EYW87XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIEto4bufaSB04bqhbyBEQU9cbiAgICAgICAgdGFpS2hvYW5EYW8gPSBuZXcgVGFpS2hvYW5fZGFvKCk7XG5cbiAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gRW50ZXIgY2hvIGPDoWMgdHLGsOG7nW5nIG5o4bqtcCBsaeG7h3VcbiAgICAgICAgdHh0VXNlcm5hbWUuc2V0T25LZXlQcmVzc2VkKHRoaXM6OmhhbmRsZUVudGVyS2V5KTtcbiAgICAgICAgdHh0UGFzc3dvcmQuc2V0T25LZXlQcmVzc2VkKHRoaXM6OmhhbmRsZUVudGVyS2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBuaOG6pW4gRW50ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRW50ZXJLZXkoS2V5RXZlbnQgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmdldENvZGUoKSA9PSBLZXlDb2RlLkVOVEVSKSB7XG4gICAgICAgICAgICBsb2dpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gbmjhuqVuIG7DunQgxJHEg25nIG5o4bqtcFxuICAgICAqL1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSB2b2lkIGhhbmRsZUxvZ2luQnV0dG9uQWN0aW9uKEFjdGlvbkV2ZW50IGV2ZW50KSB7XG4gICAgICAgIGxvZ2luKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOG7rSBsw70gc+G7sSBraeG7h24gcXXDqm4gbeG6rXQga2jhuql1XG4gICAgICovXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIHZvaWQgaGFuZGxlRm9yZ290UGFzc3dvcmRBY3Rpb24oQWN0aW9uRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5vcGVuUXVlbk1LKCk7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXDqm4gbeG6rXQga2jhuql1IVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRo4buxYyBoaeG7h24gxJHEg25nIG5o4bqtcFxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBsb2dpbigpIHtcbiAgICAgICAgU3RyaW5nIHVzZXJuYW1lID0gdHh0VXNlcm5hbWUuZ2V0VGV4dCgpLnRyaW0oKTtcbiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gdHh0UGFzc3dvcmQuZ2V0VGV4dCgpLnRyaW0oKTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgICAgICBpZiAodXNlcm5hbWUuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIHTDqm4gxJHEg25nIG5o4bqtcCFcIik7XG4gICAgICAgICAgICB0eHRVc2VybmFtZS5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXNzd29yZC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgbeG6rXQga2jhuql1IVwiKTtcbiAgICAgICAgICAgIHR4dFBhc3N3b3JkLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgbG9naW5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFRhaUtob2FuIHRhaUtob2FuID0gdGFpS2hvYW5EYW8uZmluZEJ5VXNlcm5hbWVhbmRQYXNzd29yZCh1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgICAgICAgICAgaWYgKHRhaUtob2FuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGxvZ2luIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gdGFpS2hvYW47XG4gICAgICAgICAgICAgICAgQXBwLnVzZXIgPSB1c2VybmFtZTtcbiAgICAgICAgICAgICAgICBBcHAubWEgPSB0YWlLaG9hbi5nZXRNYVRhaUtob2FuKCk7XG4gICAgICAgICAgICAgICAgdHh0VXNlcm5hbWUuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGxvZ2luIHNjcmVlbiBhbmQgb3BlbiB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgICAgICBBcHAub3Blbk1haW5HVUkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaSDEkcSDbmcgbmjhuq1wXCIsIFwiVMOqbiDEkcSDbmcgbmjhuq1wIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIMSRw7puZyFcIik7XG4gICAgICAgICAgICAgICAgdHh0UGFzc3dvcmQuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0eHRQYXNzd29yZC5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiTOG7l2kga2hpIMSRxINuZyBuaOG6rXA6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9TcGxhc2hDb250cm9sbGVyLmphdmFcbi4uLlxuXG4vKipcbiAqIENvbnRyb2xsZXIgY2hvIG3DoG4gaMOsbmggU3BsYXNoXG4gKi9cbnB1YmxpYyBjbGFzcyBTcGxhc2hDb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUHJvZ3Jlc3NCYXIgcHJvZ3Jlc3NCYXI7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJsU3RhdHVzO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxibFZlcnNpb247XG5cbiAgICBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgcGhpw6puIGLhuqNuXG4gICAgICAgIGxibFZlcnNpb24uc2V0VGV4dChcIlBoacOqbiBi4bqjbiAxLjAuMFwiKTtcblxuICAgICAgICAvLyBU4bqhbyBoaeG7h3Ug4bupbmcgbeG7nSBk4bqnbiBjaG8gbGFiZWxcbiAgICAgICAgRmFkZVRyYW5zaXRpb24gZmFkZVRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24uc2Vjb25kcygxKSwgbGJsU3RhdHVzKTtcbiAgICAgICAgZmFkZVRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDEuMCk7XG4gICAgICAgIGZhZGVUcmFuc2l0aW9uLnNldFRvVmFsdWUoMC4zKTtcbiAgICAgICAgZmFkZVRyYW5zaXRpb24uc2V0Q3ljbGVDb3VudChUaW1lbGluZS5JTkRFRklOSVRFKTtcbiAgICAgICAgZmFkZVRyYW5zaXRpb24uc2V0QXV0b1JldmVyc2UodHJ1ZSk7XG4gICAgICAgIGZhZGVUcmFuc2l0aW9uLnBsYXkoKTtcblxuICAgICAgICAvLyBLaOG7n2kgxJHhu5luZyBxdcOhIHRyw6xuaCB04bqjaSDhu6luZyBk4bulbmdcbiAgICAgICAgc3RhcnRMb2FkaW5nUHJvY2VzcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEto4bufaSDEkeG7mW5nIHF1w6EgdHLDrG5oIHThuqNpIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBzdGFydExvYWRpbmdQcm9jZXNzKCkge1xuICAgICAgICBUYXNrPFZvaWQ+IHRhc2sgPSBuZXcgVGFzazxWb2lkPigpIHtcbiAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgcHJvdGVjdGVkIFZvaWQgY2FsbCgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB0aeG6v24gdHLDrG5oXG4gICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMC4xLCAxLjApO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2UoXCLEkGFuZyBraOG7n2kgxJHhu5luZyDhu6luZyBk4bulbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDgwMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBLaeG7g20gdHJhIGvhur90IG7hu5FpIGPGoSBz4bufIGThu68gbGnhu4d1XG4gICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMC4zLCAxLjApO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2UoXCLEkGFuZyBr4bq/dCBu4buRaSBjxqEgc+G7nyBk4buvIGxp4buHdS4uLlwiKTtcbiAgICAgICAgICAgICAgICBUaHJlYWQuc2xlZXAoODAwKTtcblxuICAgICAgICAgICAgICAgIC8vIEtp4buDbSB0cmEgZOG7ryBsaeG7h3VcbiAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzcygwLjUsIDEuMCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWVzc2FnZShcIsSQYW5nIGtp4buDbSB0cmEgZOG7ryBsaeG7h3UuLi5cIik7XG4gICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDgwMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBU4bqjaSBk4buvIGxp4buHdVxuICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDAuNywgMS4wKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNZXNzYWdlKFwixJBhbmcgdOG6o2kgZOG7ryBsaeG7h3UuLi5cIik7XG4gICAgICAgICAgICAgICAgVGhyZWFkLnNsZWVwKDgwMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBIb8OgbiB04bqldFxuICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDEuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNZXNzYWdlKFwiSG/DoG4gdOG6pXQhXCIpO1xuICAgICAgICAgICAgICAgIFRocmVhZC5zbGVlcCg1MDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTGnDqm4ga+G6v3QgcHJvZ3Jlc3MgYmFyIHbhu5tpIHRhc2tcbiAgICAgICAgcHJvZ3Jlc3NCYXIucHJvZ3Jlc3NQcm9wZXJ0eSgpLmJpbmQodGFzay5wcm9ncmVzc1Byb3BlcnR5KCkpO1xuXG4gICAgICAgIC8vIExpw6puIGvhur90IGxhYmVsIHN0YXR1cyB24bubaSB0YXNrXG4gICAgICAgIHRhc2subWVzc2FnZVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAgICAgICAgICAgdXBkYXRlU3RhdHVzKG5ld1ZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2hpIHRhc2sgaG/DoG4gdGjDoG5oLCBt4bufIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAgICAgICB0YXNrLnNldE9uU3VjY2VlZGVkKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvYWRpbmcgdGFzayBjb21wbGV0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuXCIpO1xuXG4gICAgICAgICAgICAvLyBU4bqhbyBt4buZdCB0YXNrIHJpw6puZyDEkeG7gyBt4bufIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcCBzYXUga2hpIHNwbGFzaCBob8OgbiB04bqldFxuICAgICAgICAgICAgbmV3IFRocmVhZCgoKSAtPiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gxJDhu6NpIG3hu5l0IGNow7p0IHRyxrDhu5tjIGtoaSBt4bufIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAgICAgICAgICAgICAgICAgICBUaHJlYWQuc2xlZXAoMTAwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2h1eeG7g24gc2FuZyB0aHJlYWQgSmF2YUZYIMSR4buDIG3hu58gbcOgbiBow6xuaCDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtLnJ1bkxhdGVyKCgpIC0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gxJDDs25nIG3DoG4gaMOsbmggc3BsYXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl1aC5maXQuQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXVoLmZpdC5BcHBQcmVsb2FkZXIuc3BsYXNoU3RhZ2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiU3BsYXNoIHNjcmVlbiBjbG9zZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTeG7nyBtw6BuIGjDrG5oIMSRxINuZyBuaOG6rXBcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5vcGVuTG9naW5HVUkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJMb2dpbiBzY3JlZW4gb3BlbmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmMDI4NzE4NC03ZTU4LTQ4NjUtYTgzMy0yMWE1NzJkMjZlMjA7dG9vbHVfdnJ0eF8wMUEyQVlLeUpaZ0JuQUF1azUzRExTTXUiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1UGhpZXVOaGFwX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfbWFQTjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZVZpZXc8UGhpZXVOaGFwSGFuZz4gdGFibGVQaGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB2Qm94O1xuXG4gICAgTWFwPFZCb3gsVkJveD4gbWFwID0gbmV3IEhhc2hNYXA8VkJveCxWQm94PigpO1xuICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJQaGnhur91IG5o4bqtcFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9QaGlldU5oYXBfY29udHJvbGxlci5qYXZhXG5wYWNrYWdlIGl1aC5maXQuY29udHJvbGxlcjtcblxuaW1wb3J0IGl1aC5maXQuZGFvcy5QaGlldU5oYXBIYW5nX2RhbztcbmltcG9ydCBpdWguZml0LmVudGl0aWVzLlBoaWV1TmhhcEhhbmc7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLio7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5Qcm9wZXJ0eVZhbHVlRmFjdG9yeTtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5Nb3VzZUV2ZW50O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuUGFuZTtcbmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g7XG5pbXBvcnQgamF2YWZ4LnN0YWdlLlN0YWdlO1xuXG5pbXBvcnQgamF2YS5uZXQuVVJMO1xuaW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcblxuaW1wb3J0IHN0YXRpYyBpdWguZml0LkFwcC5sb2FkRlhNTDtcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfZ2lvSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfaG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9uaGFuVmllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfcGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3NhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RhaUtob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRhYmxlVmlldzxQaGlldU5oYXBIYW5nPiB0YWJsZV9QTmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRob25nS2VTdWJNZW51TGlzdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRob25nS2VTdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9NYU5WO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVLaGFjaEhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG4gICAgTWFwPFZCb3gsVkJveD4gbWFwID0gbmV3IEhhc2hNYXA8VkJveCxWQm94PigpO1xuICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVudSBzbGlkZXJcbiAgICAgKiBAcGFyYW0gbWVudVxuICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAgICovXG4gICAgcHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LFZCb3ggc3ViTWVudSl7XG4gICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LHN1Yk1lbnUpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1VGFpS2hvYW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfbWFUSztcbiAgICBcbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFRhaUtob2FuPiB0YWJsZVRhaUtob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdkJveDtcblxuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuaW1wb3J0IGl1aC5maXQuQXBwO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5DYUxhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLkNoaVRpZXRIb2FEb25fU2FuUGhhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLkhvYURvbl9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLktoYWNoSGFuZ19kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLk5oYW5WaWVuX2RhbztcbmltcG9ydCBpdWguZml0LmRhb3MuU2FuUGhhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy4qO1xuaW1wb3J0IGl1aC5maXQuZW51bXMuUGh1b25nVGh1Y1RoYW5oVG9hbjtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkZhZGVUcmFuc2l0aW9uO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uSW50ZXJwb2xhdG9yO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uS2V5RnJhbWU7XG5pbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5UaW1lbGluZTtcbmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuRlhDb2xsZWN0aW9ucztcbmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7XG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuaW1wb3J0IGphdmFmeC5ldmVudC5FdmVudEhhbmRsZXI7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBSYWRpb0J1dHRvbiByYl9jaHV5ZW5LaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBSYWRpb0J1dHRvbiByYl90aGU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVG9nZ2xlR3JvdXAgcGh1b25nVGh1Y1RUO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfZ2lvSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfaG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9uaGFuVmllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfcGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3NhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RhaUtob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJWQm94O1xuLi4uXG5cbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIERBT1xuICAgICAgICBzYW5QaGFtRGFvID0gbmV3IFNhblBoYW1fZGFvKCk7XG4gICAgICAgIGhvYURvbkRhbyA9IG5ldyBIb2FEb25fZGFvKCk7XG4gICAgICAgIGtoYWNoSGFuZ0RhbyA9IG5ldyBLaGFjaEhhbmdfZGFvKCk7XG4gICAgICAgIGNoaVRpZXRIb2FEb25EYW8gPSBuZXcgQ2hpVGlldEhvYURvbl9TYW5QaGFtX2RhbygpO1xuICAgICAgICBjYUxhbURhbyA9IG5ldyBDYUxhbV9kYW8oKTtcbiAgICAgICAgbmhhblZpZW5EYW8gPSBuZXcgTmhhblZpZW5fZGFvKCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIGPDoWMgbWVudVxuICAgICAgICBhZGRNZW51c1RvTWFwKCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIG5nw6B5IHbDoCB0aOG7nWkgZ2lhbiBoaeG7h24gdOG6oWlcbiAgICAgICAgZGlzcGxheUN1cnJlbnREYXRlVGltZSgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyBi4bqjbmcgZ2nhu48gaMOgbmdcbiAgICAgICAgaW5pdGlhbGl6ZVRhYmxlKCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIHRow7RuZyB0aW4gaMOzYSDEkcahblxuICAgICAgICBpbml0aWFsaXplSW52b2ljZUluZm8oKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gdOG7lW5nIHRp4buBblxuICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyB0aMO0bmcgdGluIG5ow6JuIHZpw6puXG4gICAgICAgIGluaXRpYWxpemVOaGFuVmllbigpO1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oQXBwLnVzZXIpO1xuXG4gICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24gY2hvIGPDoWMgdGjDoG5oIHBo4bqnbiB0cm9uZyBQYW5lIHRow7RuZyB0aW4gxJHGoW4gaMOgbmdcbiAgICAgICAgc2V0dXBJbnZvaWNlRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIE1lbnVzIHRvIG1hcFxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVudSBzbGlkZXJcbiAgICAgKiBAcGFyYW0gbWVudVxuICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAgICovXG4gICAgcHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LFZCb3ggc3ViTWVudSl7XG4gICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LHN1Yk1lbnUpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVGhvbmdLZVNhblBoYW1fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGxvY2F0aW9uLCBSZXNvdXJjZUJ1bmRsZSByZXNvdXJjZXMpIHtcbiAgICAgICAgYWRkTWVudXNUb01hcCgpO1xuICAgICAgICBzZXR1cENoYXJ0cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBNZW51cyB0byBtYXBcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCBhZGRNZW51c1RvTWFwKCkge1xuICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsIHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCwgVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZW51IHNsaWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSwgVkJveCBzdWJNZW51KSB7XG4gICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LCBzdWJNZW51KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1Rob25nS2VEb2FuaFRodV9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgICAgICBhZGRNZW51c1RvTWFwKCk7XG4gICAgICAgIHNldHVwQ2hhcnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIE1lbnVzIHRvIG1hcFxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCwgdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LCBWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVudVxuICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAgICovXG4gICAgcHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LCBWQm94IHN1Yk1lbnUpIHtcbiAgICAgICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsIHN1Yk1lbnUpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L0FwcC5qYXZhXG4uLi5cblxuLyoqXG4gKiBM4bubcCBjaMOtbmggY+G7p2Eg4bupbmcgZOG7pW5nXG4gKi9cbnB1YmxpYyBjbGFzcyBBcHAgZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XG4vLyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCB3aWR0aE1vZGFsTG9naW4gPSA2MDA7XG4vLyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBoZWlnaHRNb2RhbExvZ2luID0gNDAwO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RhZ2Ugc3RhZ2U7XG4gICAgcHVibGljIHN0YXRpYyBTY2VuZSBwcmltYXJ5U2NlbmU7XG4gICAgcHVibGljIHN0YXRpYyBTdHJpbmcgdXNlcjtcbiAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBtYTtcbiAgICBwdWJsaWMgc3RhdGljIFRhaUtob2FuIHRhaUtob2FuO1xuICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIG1hVHJhQ3V1O1xuXG4gICAgLy8gQmnhur9uIMSR4buDIHRoZW8gZMO1aSB0cuG6oW5nIHRow6FpIMSRxINuZyBuaOG6rXBcbiAgICBwcml2YXRlIHN0YXRpYyBib29sZWFuIGxvZ2luU2NyZWVuT3BlbmVkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4gICAgICAgIFN5c3RlbS5zZXRQcm9wZXJ0eShcImphdmFmeC5wcmVsb2FkZXJcIiwgQXBwUHJlbG9hZGVyLmNsYXNzLmdldE5hbWUoKSk7XG4gICAgICAgIGxhdW5jaChhcmdzKTtcbiAgICB9XG4uLi5cblxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIHN0YXJ0KFN0YWdlIHByaW1hcnlTdGFnZSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcC5zdGFydCgpIGNhbGxlZFwiKTtcbiAgICAgICAgc3RhZ2UgPSBwcmltYXJ5U3RhZ2U7XG5cbiAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBz4buxIGtp4buHbiBraGkgxJHDs25nIGPhu61hIHPhu5UgY2jDrW5oXG4gICAgICAgIHN0YWdlLnNldE9uQ2xvc2VSZXF1ZXN0KGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkFwcGxpY2F0aW9uIGlzIGNsb3NpbmdcIik7XG4gICAgICAgICAgICBQbGF0Zm9ybS5leGl0KCk7XG4gICAgICAgICAgICBTeXN0ZW0uZXhpdCgwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2jhu4kgbeG7nyBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wIG7hur91IGtow7RuZyBjw7Mgc3BsYXNoIHNjcmVlblxuICAgICAgICBpZiAoQXBwUHJlbG9hZGVyLnNwbGFzaFN0YWdlID09IG51bGwpIHtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIk5vIHNwbGFzaCBzY3JlZW4gZGV0ZWN0ZWQsIG9wZW5pbmcgbG9naW4gc2NyZWVuIGRpcmVjdGx5XCIpO1xuLy8gICAgICAgICAgICBvcGVuTG9naW5HVUkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE3hu58gZ2lhbyBkaeG7h24gY2jDrW5oIGPhu6dhIOG7qW5nIGThu6VuZ1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuTWFpbkdVSSgpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIHRoZSBtYWluIEdVSVxuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvQmFuSGFuZ19ndWkuZnhtbFwiKSk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgICAgIHNjZW5lLmdldFN0eWxlc2hlZXRzKCkuYWRkKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9zdHlsZXMvbWVudS5jc3NcIikudG9FeHRlcm5hbEZvcm0oKSk7XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IHNjZW5lIGZvciB0aGUgc3RhZ2VcbiAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgIHN0YWdlLnNldE1heGltaXplZCh0cnVlKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwiSOG7hyB0aOG7kW5nIHF14bqjbiBsw70gYsOhbiBow6BuZ1wiKTtcblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgbWFpbiBHVUlcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkVycm9yIGxvYWRpbmcgQmFuSGFuZ19ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuLy8gICAgICAgICAgICBpZiAobG9naW5GeG1sVXJsID09IG51bGwpIHtcbi8vICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkxvZ2luX2d1aS5meG1sIG5vdCBmb3VuZCEgVHJ5aW5nIHRvIG9wZW4gQmFuSGFuZ19ndWkuZnhtbCBpbnN0ZWFkLlwiKTtcbi8vICAgICAgICAgICAgICAgIG9wZW5NYWluR1VJKCk7XG4vLyAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCBnaWFvIGRp4buHbiDEkcSDbmcgbmjhuq1wXG4gICAgICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihsb2dpbkZ4bWxVcmwpO1xuICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBmeG1sTG9hZGVyLmxvYWQoKTtcblxuICAgICAgICAgICAgLy8gVOG6oW8gc2NlbmUgbeG7m2lcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0TWF4aW1pemVkKHRydWUpO1xuXG4gICAgICAgICAgICAvLyDEkOG6t3Qga8OtY2ggdGjGsOG7m2MgdsOgIHbhu4sgdHLDrSBj4bunYSBj4butYSBz4buVXG4gICAgICAgICAgICBSZWN0YW5nbGUyRCBwcmltYXJ5U2NyZWVuQm91bmRzID0gU2NyZWVuLmdldFByaW1hcnkoKS5nZXRWaXN1YWxCb3VuZHMoKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFgoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0V2lkdGgoKSAtIHJvb3QucHJlZldpZHRoKC0xKSkgLyAyKTtcbiAgICAgICAgICAgIHN0YWdlLnNldFkoKHByaW1hcnlTY3JlZW5Cb3VuZHMuZ2V0SGVpZ2h0KCkgLSByb290LnByZWZIZWlnaHQoLTEpKSAvIDIpO1xuXG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgY+G7rWEgc+G7lVxuICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKDEpO1xuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiTG9naW4gR1VJIG9wZW5lZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkge1xuICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiRXJyb3Igb3BlbmluZyBMb2dpbl9ndWkuZnhtbDogXCIgKyBleC5nZXRNZXNzYWdlKCkpO1xuICAgICAgICAgICAgZXgucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBN4bufIGdpYW8gZGnhu4duIHF1w6puIG3huq10IGto4bqpdVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBvcGVuUXVlbk1LKCkgdGhyb3dzIElPRXhjZXB0aW9uIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEZYTUxMb2FkZXIgZnhtbExvYWRlciA9IG5ldyBGWE1MTG9hZGVyKEFwcC5jbGFzcy5nZXRSZXNvdXJjZShcIi9meG1sL1F1ZW5NYXRLaGF1X2d1aS5meG1sXCIpKTtcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gZnhtbExvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290LCA2MDAsIDQwMCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIlF1w6puIG3huq10IGto4bqpdVwiKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoTnVsbFBvaW50ZXJFeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIktow7RuZyB0w6xtIHRo4bqleSBmaWxlIFF1ZW5NYXRLaGF1X2d1aS5meG1sOiBcIiArIGV4LmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBleC5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICAvKipcbiAgICAgKiBUaGF5IMSR4buVaSByb290IGPhu6dhIHNjZW5lXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyB2b2lkIHNldFJvb3QoU3RyaW5nIGZ4bWwpIHRocm93cyBJT0V4Y2VwdGlvbiB7XG4gICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoQXBwLmNsYXNzLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sICsgXCIuZnhtbFwiKSk7XG4gICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkxvYWRpbmcgRlhNTDogXCIgKyBsb2FkZXIuZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBQYXJlbnQgbmV3Um9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICAgICAgICAgICBpZiAocHJpbWFyeVNjZW5lICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNjZW5lLnNldFJvb3QobmV3Um9vdCk7XG4gICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShwcmltYXJ5U2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2l6ZVRvU2NlbmUoKTtcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZXgpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIktow7RuZyB0w6xtIHRo4bqleSBmaWxlOiBcIiArIGZ4bWwpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIEZYTUwgZmlsZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgUGFyZW50IGxvYWRGWE1MKFN0cmluZyBmeG1sKSB0aHJvd3MgSU9FeGNlcHRpb24ge1xuICAgICAgICBGWE1MTG9hZGVyIGZ4bWxMb2FkZXIgPSBuZXcgRlhNTExvYWRlcihBcHAuY2xhc3MuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWwgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgcmV0dXJuIGZ4bWxMb2FkZXIubG9hZCgpO1xuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dChxdWFuTHlTdWJWQm94LCBxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lbnUgc2xpZGVyXG4gICAgICogQHBhcmFtIG1lbnVcbiAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgICB9XG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJOaMOibiB2acOqblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbmltcG9ydCBpdWguZml0LkFwcDtcbmltcG9ydCBpdWguZml0LmRhb3MuU2FuUGhhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5TYW5QaGFtO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uRmFkZVRyYW5zaXRpb247XG5pbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5JbnRlcnBvbGF0b3I7XG5pbXBvcnQgamF2YWZ4LmJlYW5zLnByb3BlcnR5LlJlYWRPbmx5U3RyaW5nV3JhcHBlcjtcbmltcG9ydCBqYXZhZnguYmVhbnMucHJvcGVydHkuU2ltcGxlU3RyaW5nUHJvcGVydHk7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTExvYWRlcjtcbmltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5TY2VuZTtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuaW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLmNlbGwuUHJvcGVydHlWYWx1ZUZhY3Rvcnk7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmltYWdlLkltYWdlVmlldztcbmltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuTW91c2VFdmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5WQm94O1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbmltcG9ydCBqYXZhZngudXRpbC5EdXJhdGlvbjtcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjYmJfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlPhuqNuIHBo4bqpbVwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNiYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0toYWNoSGFuZ19jb250cm9sbGVyLmphdmFcbnBhY2thZ2UgaXVoLmZpdC5jb250cm9sbGVyO1xuXG5pbXBvcnQgaXVoLmZpdC5kYW9zLkhvYURvbl9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLktoYWNoSGFuZ19kYW87XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5Ib2FEb247XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5LaGFjaEhhbmc7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLkZYQ29sbGVjdGlvbnM7XG5pbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuaW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG5pbXBvcnQgai4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQ3YjhhYTYxLWU2N2MtNDQzNy05ZDNkLWQwOTAyOWQ1ZjJkODt0b29sdV92cnR4XzAxWFF1QUNwaGFvQ1NpckIyOWdDcmpVMyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOlxuICAgICAxXHRwYWNrYWdlIGl1aC5maXQuY29udHJvbGxlcjtcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCBqYXZhLm5ldC5VUkw7XG4gICAgIDRcdGltcG9ydCBqYXZhLnRleHQuRGVjaW1hbEZvcm1hdDtcbiAgICAgNVx0aW1wb3J0IGphdmEudGV4dC5OdW1iZXJGb3JtYXQ7XG4gICAgIDZcdGltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlO1xuICAgICA3XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsVGltZTtcbiAgICAgOFx0aW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7XG4gICAgIDlcdGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuICAgIDEwXHRpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7XG4gICAgMTFcdGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiAgICAxMlx0aW1wb3J0IGphdmEudXRpbC5Mb2NhbGU7XG4gICAgMTNcdGltcG9ydCBqYXZhLnV0aWwuTWFwO1xuICAgIDE0XHRpbXBvcnQgamF2YS51dGlsLlJlc291cmNlQnVuZGxlO1xuICAgIDE1XHRcbiAgICAxNlx0aW1wb3J0IGl1aC5maXQuQXBwO1xuICAgIDE3XHRpbXBvcnQgaXVoLmZpdC5kYW9zLkNhTGFtX2RhbztcbiAgICAxOFx0aW1wb3J0IGl1aC5maXQuZGFvcy5DaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvO1xuICAgIDE5XHRpbXBvcnQgaXVoLmZpdC5kYW9zLkhvYURvbl9kYW87XG4gICAgMjBcdGltcG9ydCBpdWguZml0LmRhb3MuS2hhY2hIYW5nX2RhbztcbiAgICAyMVx0aW1wb3J0IGl1aC5maXQuZGFvcy5OaGFuVmllbl9kYW87XG4gICAgMjJcdGltcG9ydCBpdWguZml0LmRhb3MuU2FuUGhhbV9kYW87XG4gICAgMjNcdGltcG9ydCBpdWguZml0LmVudGl0aWVzLio7XG4gICAgMjRcdGltcG9ydCBpdWguZml0LmVudW1zLlBodW9uZ1RodWNUaGFuaFRvYW47XG4gICAgMjVcdGltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkZhZGVUcmFuc2l0aW9uO1xuICAgIDI2XHRpbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5JbnRlcnBvbGF0b3I7XG4gICAgMjdcdGltcG9ydCBqYXZhZnguYW5pbWF0aW9uLktleUZyYW1lO1xuICAgIDI4XHRpbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5UaW1lbGluZTtcbiAgICAyOVx0aW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuICAgIDMwXHRpbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuICAgIDMxXHRpbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuICAgIDMyXHRpbXBvcnQgamF2YWZ4LmV2ZW50LkV2ZW50SGFuZGxlcjtcbiAgICAzM1x0aW1wb3J0IGphdmFmeC5meG1sLkZYTUw7XG4gICAgMzRcdGltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuICAgIDM1XHRpbXBvcnQgamF2YWZ4LmZ4bWwuSW5pdGlhbGl6YWJsZTtcbiAgICAzNlx0aW1wb3J0IGphdmFmeC5zY2VuZS5QYXJlbnQ7XG4gICAgMzdcdGltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG4gICAgMzhcdGltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC4qO1xuICAgIDM5XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuQWxlcnQuQWxlcnRUeXBlO1xuICAgIDQwXHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5Qcm9wZXJ0eVZhbHVlRmFjdG9yeTtcbiAgICA0MVx0aW1wb3J0IGphdmFmeC5zY2VuZS5pbWFnZS5JbWFnZVZpZXc7XG4gICAgNDJcdGltcG9ydCBqYXZhZnguc2NlbmUuaW5wdXQuTW91c2VFdmVudDtcbiAgICA0M1x0aW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5LZXlFdmVudDtcbiAgICA0NFx0aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuQW5jaG9yUGFuZTtcbiAgICA0NVx0aW1wb3J0IGphdmFmeC5zY2VuZS5sYXlvdXQuR3JpZFBhbmU7XG4gICAgNDZcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG4gICAgNDdcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g7XG4gICAgNDhcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgNDlcdGltcG9ydCBqYXZhZngudXRpbC5EdXJhdGlvbjtcbiAgICA1MFx0XG4gICAgNTFcdFxuICAgIDUyXHRwdWJsaWMgY2xhc3MgQmFuSGFuZ19jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG4gICAgNTNcdFxuICAgIDU0XHQgICAgQEZYTUxcbiAgICA1NVx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViTWVudUxpc3Q7XG4gICAgNTZcdFxuICAgIDU3XHQgICAgQEZYTUxcbiAgICA1OFx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViVkJveDtcbiAgICA1OVx0XG4gICAgNjBcdCAgICBARlhNTFxuICAgIDYxXHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX3RoZW1TUDtcbiAgICA2Mlx0XG4gICAgNjNcdCAgICBARlhNTFxuICAgIDY0XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX0hvYURvbjtcbiAgICA2NVx0XG4gICAgNjZcdCAgICBARlhNTFxuICAgIDY3XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2dpb0hhbmc7XG4gICAgNjhcdFxuICAgIDY5XHQgICAgQEZYTUxcbiAgICA3MFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19ob2FEb247XG4gICAgNzFcdFxuICAgIDcyXHQgICAgQEZYTUxcbiAgICA3M1x0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19uaGFuVmllbjtcbiAgICA3NFx0XG4gICAgNzVcdCAgICBARlhNTFxuICAgIDc2XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3BoaWV1TmhhcDtcbiAgICA3N1x0XG4gICAgNzhcdCAgICBARlhNTFxuICAgIDc5XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3F1YW5MeTtcbiAgICA4MFx0XG4gICAgODFcdCAgICBARlhNTFxuICAgIDgyXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3NhblBoYW07XG4gICAgODNcdFxuICAgIDg0XHQgICAgQEZYTUxcbiAgICA4NVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjtcbiAgICA4Nlx0XG4gICAgODdcdCAgICBARlhNTFxuICAgIDg4XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2U7XG4gICAgODlcdFxuICAgIDkwXHQgICAgQEZYTUxcbiAgICA5MVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlRG9hbmhUaHU7XG4gICAgOTJcdFxuICAgIDkzXHQgICAgQEZYTUxcbiAgICA5NFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlU2FuUGhhbTtcbiAgICA5NVx0XG4gICAgOTZcdCAgICBARlhNTFxuICAgIDk3XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RpbUtpZW07XG4gICAgOThcdFxuICAgIDk5XHQgICAgQEZYTUxcbiAgIDEwMFx0ICAgIHByaXZhdGUgTGFiZWwgbGJfSG9hRG9uO1xuICAgMTAxXHRcbiAgIDEwMlx0ICAgIEBGWE1MXG4gICAxMDNcdCAgICBwcml2YXRlIExhYmVsIGxiX2dpb0hhbmc7XG4gICAxMDRcdFxuICAgMTA1XHQgICAgQEZYTUxcbiAgIDEwNlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfaG9hRG9uO1xuICAgMTA3XHRcbiAgIDEwOFx0ICAgIEBGWE1MXG4gICAxMDlcdCAgICBwcml2YXRlIExhYmVsIGxiX25nYXlMYXA7XG4gICAxMTBcdFxuICAgMTExXHQgICAgQEZYTUxcbiAgIDExMlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfbmhhblZpZW47XG4gICAxMTNcdFxuICAgMTE0XHQgICAgQEZYTUxcbiAgIDExNVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfcGhpZXVOaGFwO1xuICAgMTE2XHRcbiAgIDExN1x0ICAgIEBGWE1MXG4gICAxMThcdCAgICBwcml2YXRlIExhYmVsIGxiX3F1YW5MeTtcbiAgIDExOVx0XG4gICAxMjBcdCAgICBARlhNTFxuICAgMTIxXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9zYW5QaGFtO1xuICAgMTIyXHRcbiAgIDEyM1x0ICAgIEBGWE1MXG4gICAxMjRcdCAgICBwcml2YXRlIExhYmVsIGxiX3RhaUtob2FuO1xuICAgMTI1XHRcbiAgIDEyNlx0ICAgIEBGWE1MXG4gICAxMjdcdCAgICBwcml2YXRlIExhYmVsIGxiX3Rob2lHaWFuO1xuICAgMTI4XHRcbiAgIDEyOVx0ICAgIEBGWE1MXG4gICAxMzBcdCAgICBwcml2YXRlIExhYmVsIGxiX3RvbmdUaWVuO1xuICAgMTMxXHRcbiAgIDEzMlx0ICAgIEBGWE1MXG4gICAxMzNcdCAgICBwcml2YXRlIExhYmVsIGxiX3RvbmdUaGFuaFRvYW47XG4gICAxMzRcdFxuICAgMTM1XHQgICAgQEZYTUxcbiAgIDEzNlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfZ2lhbUdpYTtcbiAgIDEzN1x0XG4gICAxMzhcdCAgICBARlhNTFxuICAgMTM5XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90b25nU29TUDtcbiAgIDE0MFx0XG4gICAxNDFcdCAgICBARlhNTFxuICAgMTQyXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90b25nU0w7XG4gICAxNDNcdFxuICAgMTQ0XHQgICAgQEZYTUxcbiAgIDE0NVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGFtVGluaDtcbiAgIDE0Nlx0XG4gICAxNDdcdCAgICBARlhNTFxuICAgMTQ4XHQgICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X3RpZW5LaGFjaFRyYTtcbiAgIDE0OVx0XG4gICAxNTBcdCAgICBARlhNTFxuICAgMTUxXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aWVuVGh1YTtcbiAgIDE1Mlx0XG4gICAxNTNcdCAgICBARlhNTFxuICAgMTU0XHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX3RoYW5oVG9hbjtcbiAgIDE1NVx0XG4gICAxNTZcdCAgICBARlhNTFxuICAgMTU3XHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX2FwRHVuZ01hO1xuICAgMTU4XHRcbiAgIDE1OVx0ICAgIEBGWE1MXG4gICAxNjBcdCAgICBwcml2YXRlIEJ1dHRvbiBidG5fZGFuZ1h1YXQ7XG4gICAxNjFcdFxuICAgMTYyXHQgICAgQEZYTUxcbiAgIDE2M1x0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9tYUdpYW1HaWE7XG4gICAxNjRcdFxuICAgMTY1XHQgICAgQEZYTUxcbiAgIDE2Nlx0ICAgIHByaXZhdGUgVGV4dEFyZWEgdGFfZ2hpQ2h1O1xuICAgMTY3XHRcbiAgIDE2OFx0ICAgIEBGWE1MXG4gICAxNjlcdCAgICBwcml2YXRlIFJhZGlvQnV0dG9uIHJiX3RpZW5NYXQ7XG4gICAxNzBcdFxuICAgMTcxXHQgICAgQEZYTUxcbiAgIDE3Mlx0ICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfY2h1eWVuS2hvYW47XG4gICAxNzNcdFxuICAgMTc0XHQgICAgQEZYTUxcbiAgIDE3NVx0ICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfdGhlO1xuICAgMTc2XHRcbiAgIDE3N1x0ICAgIEBGWE1MXG4gICAxNzhcdCAgICBwcml2YXRlIFRvZ2dsZUdyb3VwIHBodW9uZ1RodWNUVDtcbiAgIDE3OVx0XG4gICAxODBcdCAgICBARlhNTFxuICAgMTgxXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlO1xuICAgMTgyXHRcbiAgIDE4M1x0ICAgIEBGWE1MXG4gICAxODRcdCAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VEb2FuaFRodTtcbiAgIDE4NVx0XG4gICAxODZcdCAgICBARlhNTFxuICAgMTg3XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlU2FuUGhhbTtcbiAgIDE4OFx0XG4gICAxODlcdCAgICBARlhNTFxuICAgMTkwXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aW1LaWVtO1xuICAgMTkxXHRcbiAgIDE5Mlx0ICAgIEBGWE1MXG4gICAxOTNcdCAgICBwcml2YXRlIFBhbmUgcF9Ib2FEb247XG4gICAxOTRcdFxuICAgMTk1XHQgICAgQEZYTUxcbiAgIDE5Nlx0ICAgIHByaXZhdGUgUGFuZSBwX2dpb0hhbmc7XG4gICAxOTdcdFxuICAgMTk4XHQgICAgQEZYTUxcbiAgIDE5OVx0ICAgIHByaXZhdGUgUGFuZSBwX2hvYURvbjtcbiAgIDIwMFx0XG4gICAyMDFcdCAgICBARlhNTFxuICAgMjAyXHQgICAgcHJpdmF0ZSBQYW5lIHBfbmhhblZpZW47XG4gICAyMDNcdFxuICAgMjA0XHQgICAgQEZYTUxcbiAgIDIwNVx0ICAgIHByaXZhdGUgUGFuZSBwX3BoaWV1TmhhcDtcbiAgIDIwNlx0XG4gICAyMDdcdCAgICBARlhNTFxuICAgMjA4XHQgICAgcHJpdmF0ZSBQYW5lIHBfcXVhbkx5O1xuICAgMjA5XHRcbiAgIDIxMFx0ICAgIEBGWE1MXG4gICAyMTFcdCAgICBwcml2YXRlIFBhbmUgcF9zYW5QaGFtO1xuICAgMjEyXHRcbiAgIDIxM1x0ICAgIEBGWE1MXG4gICAyMTRcdCAgICBwcml2YXRlIFBhbmUgcF90YWlLaG9hbjtcbiAgIDIxNVx0XG4gICAyMTZcdCAgICBARlhNTFxuICAgMjE3XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZTtcbiAgIDIxOFx0XG4gICAyMTlcdCAgICBARlhNTFxuICAgMjIwXHQgICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZURvYW5oVGh1O1xuICAgMjIxXHRcbiAgIDIyMlx0ICAgIEBGWE1MXG4gICAyMjNcdCAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlU2FuUGhhbTtcbiAgIDIyNFx0XG4gICAyMjVcdCAgICBARlhNTFxuICAgMjI2XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGltS2llbTtcbiAgIDIyN1x0XG4gICAyMjhcdCAgICBARlhNTFxuICAgMjI5XHQgICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1Yk1lbnVMaXN0O1xuICAgMjMwXHRcbiAgIDIzMVx0ICAgIEBGWE1MXG4gICAyMzJcdCAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViVkJveDtcbiAgIDIzM1x0XG4gICAyMzRcdCAgICBARlhNTFxuICAgMjM1XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTYW5QaGFtLCBEb3VibGU+IHRjRG9uR2lhO1xuICAgMjM2XHRcbiAgIDIzN1x0ICAgIEBGWE1MXG4gICAyMzhcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIFN0cmluZz4gdGNNYVNQO1xuICAgMjM5XHRcbiAgIDI0MFx0ICAgIEBGWE1MXG4gICAyNDFcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIEludGVnZXI+IHRjU1RUO1xuICAgMjQyXHRcbiAgIDI0M1x0ICAgIEBGWE1MXG4gICAyNDRcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPFNhblBoYW0sIEludGVnZXI+IHRjU29MdW9uZztcbiAgIDI0NVx0XG4gICAyNDZcdCAgICBARlhNTFxuICAgMjQ3XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTYW5QaGFtLCBTdHJpbmc+IHRjVGVuU1A7XG4gICAyNDhcdFxuICAgMjQ5XHQgICAgQEZYTUxcbiAgIDI1MFx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48U2FuUGhhbSwgRG91YmxlPiB0Y1RoYW5oVGllbjtcbiAgIDI1MVx0XG4gICAyNTJcdCAgICBARlhNTFxuICAgMjUzXHQgICAgcHJpdmF0ZSBUYWJsZVZpZXc8U2FuUGhhbT4gdGFibGVWaWV3O1xuICAgMjU0XHRcbiAgIDI1NVx0ICAgIEBGWE1MXG4gICAyNTZcdCAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfdGltS2llbTtcbiAgIDI1N1x0XG4gICAyNThcdCAgICBARlhNTFxuICAgMjU5XHQgICAgcHJpdmF0ZSBWQm94IHRob25nS2VTdWJNZW51TGlzdDtcbiAgIDI2MFx0XG4gICAyNjFcdCAgICBARlhNTFxuICAgMjYyXHQgICAgcHJpdmF0ZSBWQm94IHRob25nS2VTdWJWQm94O1xuICAgMjYzXHRcbiAgIDI2NFx0ICAgIEBGWE1MXG4gICAyNjVcdCAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1Yk1lbnVMaXN0O1xuICAgMjY2XHRcbiAgIDI2N1x0ICAgIEBGWE1MXG4gICAyNjhcdCAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1YlZCb3g7XG4gICAyNjlcdFxuICAgMjcwXHQgICAgQEZYTUxcbiAgIDI3MVx0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9uaGFwTWE7XG4gICAyNzJcdFxuICAgMjczXHQgICAgQEZYTUxcbiAgIDI3NFx0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9uaGFwU0w7XG4gICAyNzVcdFxuICAgMjc2XHQgICAgQEZYTUxcbiAgIDI3N1x0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9zZHQ7XG4gICAyNzhcdFxuICAgMjc5XHQgICAgQEZYTUxcbiAgIDI4MFx0ICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF90ZW5LSDtcbiAgIDI4MVx0XG4gICAyODJcdCAgICBARlhNTFxuICAgMjgzXHQgICAgcHJpdmF0ZSBWQm94IHZCb3g7XG4gICAyODRcdFxuICAgMjg1XHQgICAgQEZYTUxcbiAgIDI4Nlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfY2h1Y1Z1O1xuICAgMjg3XHRcbiAgIDI4OFx0ICAgIEBGWE1MXG4gICAyODlcdCAgICBwcml2YXRlIExhYmVsIGxiX3Rlbk5WO1xuICAgMjkwXHQgICAgQEZYTUxcbiAgIDI5MVx0ICAgIHByaXZhdGUgQ29tYm9Cb3g8Pz4gY2Jfbmdhbkhhbmc7XG4gICAyOTJcdFxuICAgMjkzXHQgICAgQEZYTUxcbiAgIDI5NFx0ICAgIHByaXZhdGUgR3JpZFBhbmUgZ3JpZF9jaHV5ZW5LaG9hbjtcbiAgIDI5NVx0XG4gICAyOTZcdCAgICBARlhNTFxuICAgMjk3XHQgICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX3RoZTtcbiAgIDI5OFx0XG4gICAyOTlcdCAgICBARlhNTFxuICAgMzAwXHQgICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX3RpZW5NYXQ7XG4gICAzMDFcdFxuICAgMzAyXHQgICAgTWFwPFZCb3gsVkJveD4gbWFwID0gbmV3IEhhc2hNYXA8VkJveCxWQm94PigpO1xuICAgMzAzXHRcbiAgIDMwNFx0ICAgIC8vIERBTyDEkeG7gyB0cnV5IHh14bqldCBk4buvIGxp4buHdVxuICAgMzA1XHQgICAgcHJpdmF0ZSBTYW5QaGFtX2RhbyBzYW5QaGFtRGFvO1xuICAgMzA2XHQgICAgcHJpdmF0ZSBIb2FEb25fZGFvIGhvYURvbkRhbztcbiAgIDMwN1x0ICAgIHByaXZhdGUgS2hhY2hIYW5nX2RhbyBraGFjaEhhbmdEYW87XG4gICAzMDhcdCAgICBwcml2YXRlIENoaVRpZXRIb2FEb25fU2FuUGhhbV9kYW8gY2hpVGlldEhvYURvbkRhbztcbiAgIDMwOVx0ICAgIHByaXZhdGUgQ2FMYW1fZGFvIGNhTGFtRGFvO1xuICAgMzEwXHQgICAgcHJpdmF0ZSBOaGFuVmllbl9kYW8gbmhhblZpZW5EYW87XG4gICAzMTFcdFxuICAgMzEyXHQgICAgLy8gRGFuaCBzw6FjaCBjw6FjIHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZ1xuICAgMzEzXHQgICAgcHJpdmF0ZSBPYnNlcnZhYmxlTGlzdDxTYW5QaGFtPiBjYXJ0SXRlbXM7XG4gICAzMTRcdFxuICAgMzE1XHQgICAgLy8gU+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgIDMxNlx0ICAgIHByaXZhdGUgTWFwPFN0cmluZywgSW50ZWdlcj4gcHJvZHVjdFF1YW50aXRpZXMgPSBuZXcgSGFzaE1hcDw+KCk7XG4gICAzMTdcdFxuICAgMzE4XHQgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZShVUkwgbG9jYXRpb24sIFJlc291cmNlQnVuZGxlIHJlc291cmNlcykge1xuICAgMzE5XHQgICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIERBT1xuICAgMzIwXHQgICAgICAgIHNhblBoYW1EYW8gPSBuZXcgU2FuUGhhbV9kYW8oKTtcbiAgIDMyMVx0ICAgICAgICBob2FEb25EYW8gPSBuZXcgSG9hRG9uX2RhbygpO1xuICAgMzIyXHQgICAgICAgIGtoYWNoSGFuZ0RhbyA9IG5ldyBLaGFjaEhhbmdfZGFvKCk7XG4gICAzMjNcdCAgICAgICAgY2hpVGlldEhvYURvbkRhbyA9IG5ldyBDaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvKCk7XG4gICAzMjRcdCAgICAgICAgY2FMYW1EYW8gPSBuZXcgQ2FMYW1fZGFvKCk7XG4gICAzMjVcdCAgICAgICAgbmhhblZpZW5EYW8gPSBuZXcgTmhhblZpZW5fZGFvKCk7XG4gICAzMjZcdFxuICAgMzI3XHQgICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIG1lbnVcbiAgIDMyOFx0ICAgICAgICBhZGRNZW51c1RvTWFwKCk7XG4gICAzMjlcdFxuICAgMzMwXHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyBuZ8OgeSB2w6AgdGjhu51pIGdpYW4gaGnhu4duIHThuqFpXG4gICAzMzFcdCAgICAgICAgZGlzcGxheUN1cnJlbnREYXRlVGltZSgpO1xuICAgMzMyXHRcbiAgIDMzM1x0ICAgICAgICAvLyBLaOG7n2kgdOG6oW8gYuG6o25nIGdp4buPIGjDoG5nXG4gICAzMzRcdCAgICAgICAgaW5pdGlhbGl6ZVRhYmxlKCk7XG4gICAzMzVcdFxuICAgMzM2XHQgICAgICAgIC8vIEto4bufaSB04bqhbyB0aMO0bmcgdGluIGjDs2EgxJHGoW5cbiAgIDMzN1x0ICAgICAgICBpbml0aWFsaXplSW52b2ljZUluZm8oKTtcbiAgIDMzOFx0XG4gICAzMzlcdCAgICAgICAgLy8gS2jhu59pIHThuqFvIHThu5VuZyB0aeG7gW5cbiAgIDM0MFx0ICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAgMzQxXHRcbiAgIDM0Mlx0ICAgICAgICAvLyBLaOG7n2kgdOG6oW8gdGjDtG5nIHRpbiBuaMOibiB2acOqblxuICAgMzQzXHQgICAgICAgIGluaXRpYWxpemVOaGFuVmllbigpO1xuICAgMzQ0XHQgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihBcHAudXNlcik7XG4gICAzNDVcdFxuICAgMzQ2XHQgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24gY2hvIGPDoWMgdGjDoG5oIHBo4bqnbiB0cm9uZyBQYW5lIHRow7RuZyB0aW4gxJHGoW4gaMOgbmdcbiAgIDM0N1x0ICAgICAgICBzZXR1cEludm9pY2VFdmVudHMoKTtcbiAgIDM0OFx0ICAgIH1cbiAgIDM0OVx0XG4gICAzNTBcdCAgICAvKipcbiAgIDM1MVx0ICAgICAqIEFkZCBNZW51cyB0byBtYXBcbiAgIDM1Mlx0ICAgICAqL1xuICAgMzUzXHQgICAgcHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgIDM1NFx0ICAgICAgICBhZGRNZW51c1RvTWFwSW1wbCgpO1xuICAgMzU1XHQgICAgfVxuICAgMzU2XHRcbiAgIDM1N1x0ICAgIHByaXZhdGUgdm9pZCBhZGRNZW51c1RvTWFwSW1wbCgpIHtcbiAgIDM1OFx0ICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgMzU5XHQgICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgMzYwXHQgICAgICAgIG1hcC5wdXQodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAzNjFcdCAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgMzYyXHRcbiAgIDM2M1x0ICAgICAgICAvKipcbiAgIDM2NFx0ICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgIDM2NVx0ICAgICAgICAgKi9cbiAgIDM2Nlx0ICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgIDM2N1x0ICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAzNjhcdCAgICAgICAgfVxuICAgMzY5XHQgICAgfVxuICAgMzcwXHQgICAgLyoqXG4gICAzNzFcdCAgICAgKiBNZW51IHNsaWRlclxuICAgMzcyXHQgICAgICogQHBhcmFtIG1lbnVcbiAgIDM3M1x0ICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAzNzRcdCAgICAgKi9cbiAgIDM3NVx0ICAgIHB1YmxpYyB2b2lkIHRvb2xzU2xpZGVyKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpe1xuICAgMzc2XHQgICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LHN1Yk1lbnUpO1xuICAgMzc3XHQgICAgfVxuICAgMzc4XHRcbiAgIDM3OVx0ICAgIHByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LFZCb3ggc3ViTWVudSkge1xuICAgMzgwXHQgICAgICAgIGlmKG1lbnUuZ2V0Q2hpbGRyZW4oKS5jb250YWlucyhzdWJNZW51KSl7XG4gICAzODFcdCAgICAgICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgMzgyXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgMzgzXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAzODRcdCAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgIDM4NVx0ICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLnJlbW92ZShzdWJNZW51KTtcbiAgIDM4Nlx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAzODdcdCAgICAgICAgfWVsc2V7XG4gICAzODhcdCAgICAgICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgMzg5XHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgMzkwXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAzOTFcdCAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgIDM5Mlx0ICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLmFkZChzdWJNZW51KTtcbiAgIDM5M1x0ICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAzOTRcdCAgICAgICAgfVxuICAgMzk1XHQgICAgfVxuICAgMzk2XHQgICAgLyoqXG4gICAzOTdcdCAgICAgKiBSZW1vdmUgb3RoZXIgbWVudXNcbiAgIDM5OFx0ICAgICAqIEBwYXJhbSBtZW51XG4gICAzOTlcdCAgICAgKi9cbiAgIDQwMFx0ICAgIHB1YmxpYyB2b2lkIHJlbW92ZU90aGVyTWVudXMoVkJveCBtZW51KXtcbiAgIDQwMVx0ICAgICAgICByZW1vdmVPdGhlck1lbnVzSW1wbChtZW51KTtcbiAgIDQwMlx0ICAgIH1cbiAgIDQwM1x0ICAgIHByaXZhdGUgdm9pZCByZW1vdmVPdGhlck1lbnVzSW1wbChWQm94IG1lbnUpIHtcbiAgIDQwNFx0ICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgIDQwNVx0ICAgICAgICAgICAgaWYoIWVudHJ5LmdldEtleSgpLmVxdWFscyhtZW51KSlcbiAgIDQwNlx0ICAgICAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgNDA3XHQgICAgICAgIH1cbiAgIDQwOFx0ICAgIH1cbiAgIDQwOVx0XG4gICA0MTBcdCAgICBARlhNTFxuICAgNDExXHQgICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgNDEyXHQgICAgICAgIHRyeSB7XG4gICA0MTNcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBtZW51IGLDoW4gaMOgbmdcbiAgIDQxNFx0ICAgICAgICAgICAgaWYgKGJhbkhhbmdTdWJWQm94ICE9IG51bGwgJiYgYmFuSGFuZ1N1Yk1lbnVMaXN0ICE9IG51bGwpIHtcbiAgIDQxNVx0ICAgICAgICAgICAgICAgIHRvb2xzU2xpZGVyKGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgNDE2XHQgICAgICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhiYW5IYW5nU3ViVkJveCk7XG4gICA0MTdcdCAgICAgICAgICAgIH1cbiAgIDQxOFx0XG4gICA0MTlcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIGNow61uaFxuICAgNDIwXHQgICAgICAgICAgICBzaG93TWFpblNhbGVzSW50ZXJmYWNlKCk7XG4gICA0MjFcdFxuICAgNDIyXHQgICAgICAgICAgICAvLyBMw6BtIG3hu5tpIGdp4buPIGjDoG5nXG4gICA0MjNcdCAgICAgICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICA0MjRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQyNVx0ICAgICAgICAgICAgU3lzdGVtLmVyci5wcmludGxuKFwiTOG7l2kgdHJvbmcgaGFuZGxlR2lvSGFuZ0NsaWNrOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDQyNlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDQyN1x0ICAgICAgICB9XG4gICA0MjhcdCAgICB9XG4gICA0MjlcdFxuICAgNDMwXHQgICAgQEZYTUxcbiAgIDQzMVx0ICAgIHZvaWQgaGFuZGxlUXVhbkx5Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgNDMyXHQgICAgICAgIHRvb2xzU2xpZGVyKHF1YW5MeVN1YlZCb3gscXVhbkx5U3ViTWVudUxpc3QpO1xuICAgNDMzXHQgICAgICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG4gICA0MzRcdCAgICB9XG4gICA0MzVcdFxuICAgNDM2XHQgICAgQEZYTUxcbiAgIDQzN1x0ICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQzOFx0ICAgICAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgNDM5XHQgICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgNDQwXHQgICAgfVxuICAgNDQxXHRcbiAgIDQ0Mlx0ICAgIEBGWE1MXG4gICA0NDNcdCAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NDRcdCAgICAgICAgdHJ5IHtcbiAgIDQ0NVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIFRyYUN1dV9ndWkuZnhtbFxuICAgNDQ2XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIikpO1xuICAgNDQ3XHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICA0NDhcdCAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgNDQ5XHRcbiAgIDQ1MFx0ICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gICA0NTFcdCAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDQ1Mlx0XG4gICA0NTNcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgIDQ1NFx0ICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgNDU1XHQgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIlRyYSBj4bupdSBz4bqjbiBwaOG6qW1cIik7XG4gICA0NTZcdFxuICAgNDU3XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgIDQ1OFx0ICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDU5XHRcbiAgIDQ2MFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdSB0aMOgbmggY8O0bmdcIik7XG4gICA0NjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ2Mlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDQ2M1x0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICA0NjRcdFxuICAgNDY1XHQgICAgICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgIDQ2Nlx0ICAgICAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICA0NjdcdCAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuICAgNDY4XHRcbiAgIDQ2OVx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICA0NzBcdCAgICAgICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgIDQ3MVx0ICAgICAgICB9XG4gICA0NzJcdCAgICB9XG4gICA0NzNcdFxuICAgNDc0XHQgICAgQEZYTUxcbiAgIDQ3NVx0ICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NzZcdCAgICAgICAgdHJ5IHtcbiAgIDQ3N1x0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgNDc4XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgIDQ3OVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDgwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNDgxXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgIDQ4Mlx0ICAgICAgICB9XG4gICA0ODNcdCAgICB9XG4gICA0ODRcdFxuICAgNDg1XHQgICAgQEZYTUxcbiAgIDQ4Nlx0ICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0ODdcdCAgICAgICAgdHJ5IHtcbiAgIDQ4OFx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG4gICA0ODlcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgNDkwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0OTFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA0OTJcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICA0OTNcdCAgICAgICAgfVxuICAgNDk0XHQgICAgfVxuICAgNDk1XHRcbiAgIDQ5Nlx0ICAgIEBGWE1MXG4gICA0OTdcdCAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0OThcdCAgICAgICAgdHJ5IHtcbiAgIDQ5OVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbiAgIDUwMFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgIDUwMVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTAyXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTAzXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICA1MDRcdCAgICAgICAgfVxuICAgNTA1XHQgICAgfVxuICAgNTA2XHRcbiAgIDUwN1x0ICAgIEBGWE1MXG4gICA1MDhcdCAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgNTA5XHQgICAgICAgIHRyeSB7XG4gICA1MTBcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICA1MTFcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgNTEyXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MTNcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA1MTRcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgIDUxNVx0ICAgICAgICB9XG4gICA1MTZcdCAgICB9XG4gICA1MTdcdFxuICAgNTE4XHQgICAgQEZYTUxcbiAgIDUxOVx0ICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNTIwXHQgICAgICAgIHRyeSB7XG4gICA1MjFcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgNTIyXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1MjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUyNFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDUyNVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgIDUyNlx0ICAgICAgICB9XG4gICA1MjdcdCAgICB9XG4gICA1MjhcdFxuICAgNTI5XHQgICAgQEZYTUxcbiAgIDUzMFx0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUzMVx0ICAgICAgICB0cnkge1xuICAgNTMyXHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbiAgIDUzM1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgIDUzNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTM1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTM2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgNTM3XHQgICAgICAgIH1cbiAgIDUzOFx0ICAgIH1cbiAgIDUzOVx0XG4gICA1NDBcdCAgICBARlhNTFxuICAgNTQxXHQgICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgNTQyXHQgICAgICAgIHRyeSB7XG4gICA1NDNcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgIDU0NFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICA1NDVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU0Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDU0N1x0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodSFcIik7XG4gICA1NDhcdCAgICAgICAgfVxuICAgNTQ5XHQgICAgfVxuICAgNTUwXHRcbiAgIDU1MVx0ICAgIEBGWE1MXG4gICA1NTJcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU1M1x0ICAgICAgICB0cnkge1xuICAgNTU0XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICA1NTVcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1NTZcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU1N1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDU1OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICA1NTlcdCAgICAgICAgfVxuICAgNTYwXHQgICAgfVxuICAgNTYxXHRcbiAgIDU2Mlx0ICAgIEBGWE1MXG4gICA1NjNcdCAgICB2b2lkIHRoZW1TYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU2NFx0ICAgICAgICAvLyBM4bqleSBtw6Mgc+G6o24gcGjhuqltIHbDoCBz4buRIGzGsOG7o25nIHThu6sgY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgNTY1XHQgICAgICAgIFN0cmluZyBtYVNQID0gdHh0X25oYXBNYS5nZXRUZXh0KCkudHJpbSgpO1xuICAgNTY2XHQgICAgICAgIFN0cmluZyBzb0x1b25nU3RyID0gdHh0X25oYXBTTC5nZXRUZXh0KCkudHJpbSgpO1xuICAgNTY3XHRcbiAgIDU2OFx0ICAgICAgICAvLyBLaeG7g20gdHJhIGThu68gbGnhu4d1IG5o4bqtcCB2w6BvXG4gICA1NjlcdCAgICAgICAgaWYgKG1hU1AuaXNFbXB0eSgpKSB7XG4gICA1NzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJUaMO0bmcgYsOhb1wiLCBcIlZ1aSBsw7JuZyBuaOG6rXAgbcOjIHPhuqNuIHBo4bqpbSFcIik7XG4gICA1NzFcdCAgICAgICAgICAgIHR4dF9uaGFwTWEucmVxdWVzdEZvY3VzKCk7XG4gICA1NzJcdCAgICAgICAgICAgIHJldHVybjtcbiAgIDU3M1x0ICAgICAgICB9XG4gICA1NzRcdFxuICAgNTc1XHQgICAgICAgIGlmIChzb0x1b25nU3RyLmlzRW1wdHkoKSkge1xuICAgNTc2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIHPhu5EgbMaw4bujbmchXCIpO1xuICAgNTc3XHQgICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgNTc4XHQgICAgICAgICAgICByZXR1cm47XG4gICA1NzlcdCAgICAgICAgfVxuICAgNTgwXHRcbiAgIDU4MVx0ICAgICAgICB0cnkge1xuICAgNTgyXHQgICAgICAgICAgICBpbnQgc29MdW9uZyA9IEludGVnZXIucGFyc2VJbnQoc29MdW9uZ1N0cik7XG4gICA1ODNcdCAgICAgICAgICAgIGlmIChzb0x1b25nIDw9IDApIHtcbiAgIDU4NFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJUaMO0bmcgYsOhb1wiLCBcIlPhu5EgbMaw4bujbmcgcGjhuqNpIGzhu5tuIGjGoW4gMCFcIik7XG4gICA1ODVcdCAgICAgICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgNTg2XHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgNTg3XHQgICAgICAgICAgICB9XG4gICA1ODhcdFxuICAgNTg5XHQgICAgICAgICAgICAvLyBUw6xtIGtp4bq/bSBz4bqjbiBwaOG6qW0gdGhlbyBtw6MgdsOgIHRow6ptIHbDoG8gZ2nhu48gaMOgbmdcbiAgIDU5MFx0ICAgICAgICAgICAgYWRkUHJvZHVjdFRvQ2FydChtYVNQLCBzb0x1b25nKTtcbiAgIDU5MVx0XG4gICA1OTJcdCAgICAgICAgICAgIC8vIFjDs2EgZOG7ryBsaeG7h3UgdHJvbmcgY8OhYyB0csaw4budbmcgbmjhuq1wIGxp4buHdVxuICAgNTkzXHQgICAgICAgICAgICB0eHRfbmhhcE1hLmNsZWFyKCk7XG4gICA1OTRcdCAgICAgICAgICAgIHR4dF9uaGFwU0wuY2xlYXIoKTtcbiAgIDU5NVx0ICAgICAgICAgICAgdHh0X25oYXBNYS5yZXF1ZXN0Rm9jdXMoKTtcbiAgIDU5Nlx0XG4gICA1OTdcdCAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGUpIHtcbiAgIDU5OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIlPhu5EgbMaw4bujbmcgcGjhuqNpIGzDoCBz4buRIG5ndXnDqm4hXCIpO1xuICAgNTk5XHQgICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgNjAwXHQgICAgICAgIH1cbiAgIDYwMVx0ICAgIH1cbiAgIDYwMlx0XG4gICA2MDNcdCAgICAvKipcbiAgIDYwNFx0ICAgICAqIEhp4buDbiB0aOG7iyBuZ8OgeSB2w6AgdGjhu51pIGdpYW4gaGnhu4duIHThuqFpXG4gICA2MDVcdCAgICAgKi9cbiAgIDYwNlx0ICAgIHByaXZhdGUgdm9pZCBkaXNwbGF5Q3VycmVudERhdGVUaW1lKCkge1xuICAgNjA3XHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyBuZ8OgeSBoaeG7h24gdOG6oWlcbiAgIDYwOFx0ICAgICAgICBMb2NhbERhdGUgY3VycmVudERhdGUgPSBMb2NhbERhdGUubm93KCk7XG4gICA2MDlcdCAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZGF0ZUZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXlcIik7XG4gICA2MTBcdCAgICAgICAgbGJfbmdheUxhcC5zZXRUZXh0KGN1cnJlbnREYXRlLmZvcm1hdChkYXRlRm9ybWF0dGVyKSk7XG4gICA2MTFcdFxuICAgNjEyXHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyB2w6AgY+G6rXAgbmjhuq10IHRo4budaSBnaWFuIGhp4buHbiB04bqhaSBt4buXaSBnacOieVxuICAgNjEzXHQgICAgICAgIFRpbWVsaW5lIGNsb2NrID0gbmV3IFRpbWVsaW5lKG5ldyBLZXlGcmFtZShEdXJhdGlvbi5aRVJPLCBlIC0+IHtcbiAgIDYxNFx0ICAgICAgICAgICAgTG9jYWxUaW1lIGN1cnJlbnRUaW1lID0gTG9jYWxUaW1lLm5vdygpO1xuICAgNjE1XHQgICAgICAgICAgICBEYXRlVGltZUZvcm1hdHRlciB0aW1lRm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW06c3NcIik7XG4gICA2MTZcdCAgICAgICAgICAgIGxiX3Rob2lHaWFuLnNldFRleHQoY3VycmVudFRpbWUuZm9ybWF0KHRpbWVGb3JtYXR0ZXIpKTtcbiAgIDYxN1x0ICAgICAgICB9KSwgbmV3IEtleUZyYW1lKER1cmF0aW9uLnNlY29uZHMoMSkpKTtcbiAgIDYxOFx0XG4gICA2MTlcdCAgICAgICAgY2xvY2suc2V0Q3ljbGVDb3VudChUaW1lbGluZS5JTkRFRklOSVRFKTtcbiAgIDYyMFx0ICAgICAgICBjbG9jay5wbGF5KCk7XG4gICA2MjFcdCAgICB9XG4gICA2MjJcdFxuICAgNjIzXHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVOaGFuVmllbigpIHtcbiAgIDYyNFx0ICAgICAgICB0cnkge1xuICAgNjI1XHQgICAgICAgICAgICBUYWlLaG9hbiB0YWlLaG9hbiA9IEFwcC50YWlLaG9hbjtcbiAgIDYyNlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKHRhaUtob2FuKTtcbiAgIDYyN1x0ICAgICAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSB0YWlLaG9hbi5nZXROaGFuVmllbigpO1xuICAgNjI4XHQgICAgICAgICAgICBsYl90ZW5OVi5zZXRUZXh0KG5oYW5WaWVuLmdldFRlbk5WKCkpO1xuICAgNjI5XHQgICAgICAgICAgICBsYl9jaHVjVnUuc2V0VGV4dChuaGFuVmllbi5nZXRDaHVjVnUoKS50b1N0cmluZygpKTtcbiAgIDYzMFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNjMxXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNjMyXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIGzhuqV5IHRow7RuZyB0aW4gbmjDom4gdmnDqm46IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgNjMzXHQgICAgICAgIH1cbiAgIDYzNFx0ICAgIH1cbiAgIDYzNVx0XG4gICA2MzZcdCAgICAvKipcbiAgIDYzN1x0ICAgICAqIEto4bufaSB04bqhbyB0aMO0bmcgdGluIGjDs2EgxJHGoW5cbiAgIDYzOFx0ICAgICAqL1xuICAgNjM5XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVJbnZvaWNlSW5mbygpIHtcbiAgIDY0MFx0ICAgICAgICB0cnkge1xuICAgNjQxXHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbmfDoHkgbOG6rXAgaMOzYSDEkcahblxuICAgNjQyXHQgICAgICAgICAgICBpZiAobGJfbmdheUxhcCAhPSBudWxsKSB7XG4gICA2NDNcdCAgICAgICAgICAgICAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJkZC9NTS95eXl5XCIpO1xuICAgNjQ0XHQgICAgICAgICAgICAgICAgbGJfbmdheUxhcC5zZXRUZXh0KExvY2FsRGF0ZS5ub3coKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICA2NDVcdCAgICAgICAgICAgIH1cbiAgIDY0Nlx0XG4gICA2NDdcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgZ2nDoSB0cuG7iyBt4bq3YyDEkeG7i25oIGNobyBjw6FjIHRyxrDhu51uZ1xuICAgNjQ4XHQgICAgICAgICAgICBpZiAobGJfZ2lhbUdpYSAhPSBudWxsKSB7XG4gICA2NDlcdCAgICAgICAgICAgICAgICBsYl9naWFtR2lhLnNldFRleHQoXCIwIFZOxJBcIik7XG4gICA2NTBcdCAgICAgICAgICAgIH1cbiAgIDY1MVx0XG4gICA2NTJcdCAgICAgICAgICAgIGlmIChsYl90b25nVGhhbmhUb2FuICE9IG51bGwpIHtcbiAgIDY1M1x0ICAgICAgICAgICAgICAgIGxiX3RvbmdUaGFuaFRvYW4uc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgIDY1NFx0ICAgICAgICAgICAgfVxuICAgNjU1XHRcbiAgIDY1Nlx0ICAgICAgICAgICAgaWYgKGxiX3RvbmdTb1NQICE9IG51bGwpIHtcbiAgIDY1N1x0ICAgICAgICAgICAgICAgIGxiX3RvbmdTb1NQLnNldFRleHQoXCIwXCIpO1xuICAgNjU4XHQgICAgICAgICAgICB9XG4gICA2NTlcdFxuICAgNjYwXHQgICAgICAgICAgICBpZiAobGJfdG9uZ1NMICE9IG51bGwpIHtcbiAgIDY2MVx0ICAgICAgICAgICAgICAgIGxiX3RvbmdTTC5zZXRUZXh0KFwiMFwiKTtcbiAgIDY2Mlx0ICAgICAgICAgICAgfVxuICAgNjYzXHRcbiAgIDY2NFx0ICAgICAgICAgICAgaWYgKGxiX3RhbVRpbmggIT0gbnVsbCkge1xuICAgNjY1XHQgICAgICAgICAgICAgICAgbGJfdGFtVGluaC5zZXRUZXh0KFwiMCBWTsSQXCIpO1xuICAgNjY2XHQgICAgICAgICAgICB9XG4gICA2NjdcdFxuICAgNjY4XHQgICAgICAgICAgICBpZiAodHh0X21hR2lhbUdpYSAhPSBudWxsKSB7XG4gICA2NjlcdCAgICAgICAgICAgICAgICB0eHRfbWFHaWFtR2lhLnNldFRleHQoXCJcIik7XG4gICA2NzBcdCAgICAgICAgICAgIH1cbiAgIDY3MVx0XG4gICA2NzJcdCAgICAgICAgICAgIGlmICh0YV9naGlDaHUgIT0gbnVsbCkge1xuICAgNjczXHQgICAgICAgICAgICAgICAgdGFfZ2hpQ2h1LnNldFRleHQoXCJcIik7XG4gICA2NzRcdCAgICAgICAgICAgIH1cbiAgIDY3NVx0XG4gICA2NzZcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgcGjGsMahbmcgdGjhu6ljIHRoYW5oIHRvw6FuIG3hurdjIMSR4buLbmhcbiAgIDY3N1x0ICAgICAgICAgICAgaWYgKHJiX3RpZW5NYXQgIT0gbnVsbCkge1xuICAgNjc4XHQgICAgICAgICAgICAgICAgcmJfdGllbk1hdC5zZXRTZWxlY3RlZCh0cnVlKTtcbiAgIDY3OVx0ICAgICAgICAgICAgfVxuICAgNjgwXHRcbiAgIDY4MVx0ICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBnacOhIHRy4buLIG3hurdjIMSR4buLbmggY2hvIHRp4buBbiBraMOhY2ggdHLhuqMgdsOgIHRp4buBbiB0aOG7q2FcbiAgIDY4Mlx0ICAgICAgICAgICAgaWYgKHR4dF90aWVuS2hhY2hUcmEgIT0gbnVsbCkge1xuICAgNjgzXHQgICAgICAgICAgICAgICAgdHh0X3RpZW5LaGFjaFRyYS5zZXRUZXh0KFwiXCIpO1xuICAgNjg0XHQgICAgICAgICAgICB9XG4gICA2ODVcdFxuICAgNjg2XHQgICAgICAgICAgICBpZiAobGJfdGllblRodWEgIT0gbnVsbCkge1xuICAgNjg3XHQgICAgICAgICAgICAgICAgbGJfdGllblRodWEuc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgIDY4OFx0ICAgICAgICAgICAgICAgIGxiX3RpZW5UaHVhLnNldFN0eWxlKFwiLWZ4LWZvbnQtd2VpZ2h0OiBib2xkOyAtZngtdGV4dC1maWxsOiAjMDA5OTAwO1wiKTtcbiAgIDY4OVx0ICAgICAgICAgICAgfVxuICAgNjkwXHRcbiAgIDY5MVx0ICAgICAgICAgICAgLy8gTeG6t2MgxJHhu4tuaCwgbsO6dCB0aGFuaCB0b8OhbiBi4buLIHbDtCBoaeG7h3UgaMOzYSBjaG8gxJHhur9uIGtoaSBraMOhY2ggaMOgbmcgdHLhuqMgxJHhu6cgdGnhu4FuXG4gICA2OTJcdCAgICAgICAgICAgIGlmIChidG5fdGhhbmhUb2FuICE9IG51bGwpIHtcbiAgIDY5M1x0ICAgICAgICAgICAgICAgIGJ0bl90aGFuaFRvYW4uc2V0RGlzYWJsZSh0cnVlKTtcbiAgIDY5NFx0ICAgICAgICAgICAgfVxuICAgNjk1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA2OTZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA2OTdcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSBraOG7n2kgdOG6oW8gdGjDtG5nIHRpbiBow7NhIMSRxqFuOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDY5OFx0ICAgICAgICB9XG4gICA2OTlcdCAgICB9XG4gICA3MDBcdFxuICAgNzAxXHQgICAgLyoqXG4gICA3MDJcdCAgICAgKiBUaGnhur90IGzhuq1wIHPhu7Ega2nhu4duIGNobyBjw6FjIHRow6BuaCBwaOG6p24gdHJvbmcgUGFuZSB0aMO0bmcgdGluIMSRxqFuIGjDoG5nXG4gICA3MDNcdCAgICAgKi9cbiAgIDcwNFx0ICAgIHByaXZhdGUgdm9pZCBzZXR1cEludm9pY2VFdmVudHMoKSB7XG4gICA3MDVcdCAgICAgICAgdHJ5IHtcbiAgIDcwNlx0ICAgICAgICAgICAgLy8gU+G7sSBraeG7h24ga2hpIG5o4bqlbiBuw7p0IMOhcCBk4bulbmcgbcOjIGdp4bqjbSBnacOhXG4gICA3MDdcdCAgICAgICAgICAgIGlmIChidG5fYXBEdW5nTWEgIT0gbnVsbCkge1xuICAgNzA4XHQgICAgICAgICAgICAgICAgYnRuX2FwRHVuZ01hLnNldE9uQWN0aW9uKGV2ZW50IC0+IGFwRHVuZ01hR2lhbUdpYSgpKTtcbiAgIDcwOVx0ICAgICAgICAgICAgfVxuICAgNzEwXHRcbiAgIDcxMVx0ICAgICAgICAgICAgLy8gU+G7sSBraeG7h24ga2hpIHRoYXkgxJHhu5VpIHBoxrDGoW5nIHRo4bupYyB0aGFuaCB0b8OhblxuICAgNzEyXHQgICAgICAgICAgICBpZiAocGh1b25nVGh1Y1RUICE9IG51bGwpIHtcbiAgIDcxM1x0ICAgICAgICAgICAgICAgIHBodW9uZ1RodWNUVC5zZWxlY3RlZFRvZ2dsZVByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAgNzE0XHQgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRvdGFsQW1vdW50KCk7XG4gICA3MTVcdCAgICAgICAgICAgICAgICB9KTtcbiAgIDcxNlx0ICAgICAgICAgICAgfVxuICAgNzE3XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA3MThcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA3MTlcdCAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIGtoaSB0aGnhur90IGzhuq1wIHPhu7Ega2nhu4duIGNobyB0aMO0bmcgdGluIGjDs2EgxJHGoW46IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgNzIwXHQgICAgICAgIH1cbiAgIDcyMVx0ICAgIH1cbiAgIDcyMlx0XG4gICA3MjNcdCAgICAvKipcbiAgIDcyNFx0ICAgICAqIEto4bufaSB04bqhbyBi4bqjbmcgZ2nhu48gaMOgbmdcbiAgIDcyNVx0ICAgICAqL1xuICAgNzI2XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVUYWJsZSgpIHtcbiAgIDcyN1x0ICAgICAgICB0cnkge1xuICAgNzI4XHQgICAgICAgICAgICAvLyBLaOG7n2kgdOG6oW8gY8OhYyBj4buZdCBjaG8gYuG6o25nIGdp4buPIGjDoG5nXG4gICA3MjlcdCAgICAgICAgICAgIHRjU1RULnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4ge1xuICAgNzMwXHQgICAgICAgICAgICAgICAgaW50IGluZGV4ID0gY2FydEl0ZW1zLmluZGV4T2YoY2VsbERhdGEuZ2V0VmFsdWUoKSkgKyAxO1xuICAgNzMxXHQgICAgICAgICAgICAgICAgcmV0dXJuIGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzLmNyZWF0ZU9iamVjdEJpbmRpbmcoKCkgLT4gaW5kZXgpO1xuICAgNzMyXHQgICAgICAgICAgICB9KTtcbiAgIDczM1x0XG4gICA3MzRcdCAgICAgICAgICAgIHRjTWFTUC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwibWFTUFwiKSk7XG4gICA3MzVcdCAgICAgICAgICAgIHRjVGVuU1Auc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcInRlblNQXCIpKTtcbiAgIDczNlx0XG4gICA3MzdcdCAgICAgICAgICAgIC8vIFPhu5EgbMaw4bujbmcgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gICA3MzhcdCAgICAgICAgICAgIHRjU29MdW9uZy5zZXRDZWxsVmFsdWVGYWN0b3J5KGNlbGxEYXRhIC0+IHtcbiAgIDczOVx0ICAgICAgICAgICAgICAgIFNhblBoYW0gc3AgPSBjZWxsRGF0YS5nZXRWYWx1ZSgpO1xuICAgNzQwXHQgICAgICAgICAgICAgICAgSW50ZWdlciBxdWFudGl0eSA9IHByb2R1Y3RRdWFudGl0aWVzLmdldE9yRGVmYXVsdChzcC5nZXRNYVNQKCksIDApO1xuICAgNzQxXHQgICAgICAgICAgICAgICAgcmV0dXJuIGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzLmNyZWF0ZU9iamVjdEJpbmRpbmcoKCkgLT4gcXVhbnRpdHkpO1xuICAgNzQyXHQgICAgICAgICAgICB9KTtcbiAgIDc0M1x0XG4gICA3NDRcdCAgICAgICAgICAgIHRjRG9uR2lhLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJnaWFCYW5cIikpO1xuICAgNzQ1XHRcbiAgIDc0Nlx0ICAgICAgICAgICAgLy8gVGjDoG5oIHRp4buBbiA9IGdpw6EgYsOhbiAqIHPhu5EgbMaw4bujbmdcbiAgIDc0N1x0ICAgICAgICAgICAgdGNUaGFuaFRpZW4uc2V0Q2VsbFZhbHVlRmFjdG9yeShjZWxsRGF0YSAtPiB7XG4gICA3NDhcdCAgICAgICAgICAgICAgICBTYW5QaGFtIHNwID0gY2VsbERhdGEuZ2V0VmFsdWUoKTtcbiAgIDc0OVx0ICAgICAgICAgICAgICAgIEludGVnZXIgcXVhbnRpdHkgPSBwcm9kdWN0UXVhbnRpdGllcy5nZXRPckRlZmF1bHQoc3AuZ2V0TWFTUCgpLCAwKTtcbiAgIDc1MFx0ICAgICAgICAgICAgICAgIERvdWJsZSB0aGFuaFRpZW4gPSBzcC5nZXRHaWFCYW4oKSAqIHF1YW50aXR5O1xuICAgNzUxXHQgICAgICAgICAgICAgICAgcmV0dXJuIGphdmFmeC5iZWFucy5iaW5kaW5nLkJpbmRpbmdzLmNyZWF0ZU9iamVjdEJpbmRpbmcoKCkgLT4gdGhhbmhUaWVuKTtcbiAgIDc1Mlx0ICAgICAgICAgICAgfSk7XG4gICA3NTNcdFxuICAgNzU0XHQgICAgICAgICAgICAvLyDEkOG7i25oIGThuqFuZyBoaeG7g24gdGjhu4sgdGnhu4FuIHThu4cgY2hvIGPhu5l0IMSRxqFuIGdpw6EgdsOgIHRow6BuaCB0aeG7gW5cbiAgIDc1NVx0ICAgICAgICAgICAgTnVtYmVyRm9ybWF0IGN1cnJlbmN5Rm9ybWF0ID0gTnVtYmVyRm9ybWF0LmdldEN1cnJlbmN5SW5zdGFuY2UobmV3IExvY2FsZShcInZpXCIsIFwiVk5cIikpO1xuICAgNzU2XHRcbiAgIDc1N1x0ICAgICAgICAgICAgdGNEb25HaWEuc2V0Q2VsbEZhY3RvcnkoY29sdW1uIC0+IG5ldyBqYXZhZnguc2NlbmUuY29udHJvbC5UYWJsZUNlbGw8U2FuUGhhbSwgRG91YmxlPigpIHtcbiAgIDc1OFx0ICAgICAgICAgICAgICAgIEBPdmVycmlkZVxuICAgNzU5XHQgICAgICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShEb3VibGUgaXRlbSwgYm9vbGVhbiBlbXB0eSkge1xuICAgNzYwXHQgICAgICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpO1xuICAgNzYxXHQgICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eSB8fCBpdGVtID09IG51bGwpIHtcbiAgIDc2Mlx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTtcbiAgIDc2M1x0ICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgNzY0XHQgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGN1cnJlbmN5Rm9ybWF0LmZvcm1hdChpdGVtKSk7XG4gICA3NjVcdCAgICAgICAgICAgICAgICAgICAgfVxuICAgNzY2XHQgICAgICAgICAgICAgICAgfVxuICAgNzY3XHQgICAgICAgICAgICB9KTtcbiAgIDc2OFx0XG4gICA3NjlcdCAgICAgICAgICAgIHRjVGhhbmhUaWVuLnNldENlbGxGYWN0b3J5KGNvbHVtbiAtPiBuZXcgamF2YWZ4LnNjZW5lLmNvbnRyb2wuVGFibGVDZWxsPFNhblBoYW0sIERvdWJsZT4oKSB7XG4gICA3NzBcdCAgICAgICAgICAgICAgICBAT3ZlcnJpZGVcbiAgIDc3MVx0ICAgICAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oRG91YmxlIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHtcbiAgIDc3Mlx0ICAgICAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTtcbiAgIDc3M1x0ICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkgfHwgaXRlbSA9PSBudWxsKSB7XG4gICA3NzRcdCAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7XG4gICA3NzVcdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgIDc3Nlx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChjdXJyZW5jeUZvcm1hdC5mb3JtYXQoaXRlbSkpO1xuICAgNzc3XHQgICAgICAgICAgICAgICAgICAgIH1cbiAgIDc3OFx0ICAgICAgICAgICAgICAgIH1cbiAgIDc3OVx0ICAgICAgICAgICAgfSk7XG4gICA3ODBcdFxuICAgNzgxXHQgICAgICAgICAgICAvLyBLaOG7n2kgdOG6oW8gZGFuaCBzw6FjaCBnaeG7jyBow6BuZyB0cuG7kW5nXG4gICA3ODJcdCAgICAgICAgICAgIGNhcnRJdGVtcyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpO1xuICAgNzgzXHQgICAgICAgICAgICBpZiAodGFibGVWaWV3ICE9IG51bGwpIHtcbiAgIDc4NFx0ICAgICAgICAgICAgICAgIHRhYmxlVmlldy5zZXRJdGVtcyhjYXJ0SXRlbXMpO1xuICAgNzg1XHRcbiAgIDc4Nlx0ICAgICAgICAgICAgICAgIC8vIFRow6ptIHPhu7Ega2nhu4duIG5o4bqlcCDEkcO6cCB2w6BvIGLhuqNuZ1xuICAgNzg3XHQgICAgICAgICAgICAgICAgdGFibGVWaWV3LnNldE9uTW91c2VDbGlja2VkKHRoaXM6OmhhbmRsZVNlYXJjaFJlc3VsdERvdWJsZUNsaWNrKTtcbiAgIDc4OFx0XG4gICA3ODlcdCAgICAgICAgICAgICAgICAvLyBUaMOqbSBjb250ZXh0IG1lbnUgY2hvIGLhuqNuZ1xuICAgNzkwXHQgICAgICAgICAgICAgICAgc2V0dXBUYWJsZUNvbnRleHRNZW51KCk7XG4gICA3OTFcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICA3OTJcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJUYWJsZVZpZXcgaXMgbnVsbC4gQ2hlY2sgeW91ciBGWE1MIGZpbGUuXCIpO1xuICAgNzkzXHQgICAgICAgICAgICB9XG4gICA3OTRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDc5NVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDc5Nlx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHRhYmxlOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDc5N1x0ICAgICAgICB9XG4gICA3OThcdCAgICB9XG4gICA3OTlcdFxuICAgODAwXHQgICAgLyoqXG4gICA4MDFcdCAgICAgKiBUaMOqbSBz4bqjbiBwaOG6qW0gdsOgbyBnaeG7jyBow6BuZ1xuICAgODAyXHQgICAgICovXG4gICA4MDNcdCAgICBwcml2YXRlIHZvaWQgYWRkUHJvZHVjdFRvQ2FydChTdHJpbmcgbWFTUCwgaW50IHNvTHVvbmcpIHtcbiAgIDgwNFx0ICAgICAgICB0cnkge1xuICAgODA1XHQgICAgICAgICAgICAvLyBUw6xtIGtp4bq/bSBz4bqjbiBwaOG6qW0gdGhlbyBtw6NcbiAgIDgwNlx0ICAgICAgICAgICAgU2FuUGhhbSBzYW5QaGFtID0gc2FuUGhhbURhby5yZWFkKG1hU1ApO1xuICAgODA3XHRcbiAgIDgwOFx0ICAgICAgICAgICAgaWYgKHNhblBoYW0gPT0gbnVsbCkge1xuICAgODA5XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0w6xtIHRo4bqleSBz4bqjbiBwaOG6qW0gY8OzIG3DoyBcIiArIG1hU1ApO1xuICAgODEwXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgODExXHQgICAgICAgICAgICB9XG4gICA4MTJcdFxuICAgODEzXHQgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHPhu5EgbMaw4bujbmcgdOG7k24ga2hvXG4gICA4MTRcdCAgICAgICAgICAgIGlmIChzYW5QaGFtLmdldFNvTHVvbmdUb24oKSA8IHNvTHVvbmcpIHtcbiAgIDgxNVx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJD4bqjbmggYsOhb1wiLCBcIlPhu5EgbMaw4bujbmcgc+G6o24gcGjhuqltIHRyb25nIGtobyBraMO0bmcgxJHhu6cgKGPDsm4gXCIgKyBzYW5QaGFtLmdldFNvTHVvbmdUb24oKSArIFwiKVwiKTtcbiAgIDgxNlx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDgxN1x0ICAgICAgICAgICAgfVxuICAgODE4XHRcbiAgIDgxOVx0ICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSB4ZW0gc+G6o24gcGjhuqltIMSRw6MgY8OzIHRyb25nIGdp4buPIGjDoG5nIGNoxrBhXG4gICA4MjBcdCAgICAgICAgICAgIGJvb2xlYW4gcHJvZHVjdEV4aXN0cyA9IGZhbHNlO1xuICAgODIxXHRcbiAgIDgyMlx0ICAgICAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogY2FydEl0ZW1zKSB7XG4gICA4MjNcdCAgICAgICAgICAgICAgICBpZiAoc3AuZ2V0TWFTUCgpLmVxdWFscyhtYVNQKSkge1xuICAgODI0XHQgICAgICAgICAgICAgICAgICAgIC8vIE7hur91IHPhuqNuIHBo4bqpbSDEkcOjIHThu5NuIHThuqFpLCB0xINuZyBz4buRIGzGsOG7o25nXG4gICA4MjVcdCAgICAgICAgICAgICAgICAgICAgaW50IGN1cnJlbnRRdWFudGl0eSA9IHByb2R1Y3RRdWFudGl0aWVzLmdldE9yRGVmYXVsdChtYVNQLCAwKTtcbiAgIDgyNlx0ICAgICAgICAgICAgICAgICAgICBwcm9kdWN0UXVhbnRpdGllcy5wdXQobWFTUCwgY3VycmVudFF1YW50aXR5ICsgc29MdW9uZyk7XG4gICA4MjdcdCAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEV4aXN0cyA9IHRydWU7XG4gICA4MjhcdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICA4MjlcdCAgICAgICAgICAgICAgICB9XG4gICA4MzBcdCAgICAgICAgICAgIH1cbiAgIDgzMVx0XG4gICA4MzJcdCAgICAgICAgICAgIC8vIE7hur91IHPhuqNuIHBo4bqpbSBjaMawYSBjw7MgdHJvbmcgZ2nhu48gaMOgbmcsIHRow6ptIG3hu5tpXG4gICA4MzNcdCAgICAgICAgICAgIGlmICghcHJvZHVjdEV4aXN0cykge1xuICAgODM0XHQgICAgICAgICAgICAgICAgY2FydEl0ZW1zLmFkZChzYW5QaGFtKTtcbiAgIDgzNVx0ICAgICAgICAgICAgICAgIHByb2R1Y3RRdWFudGl0aWVzLnB1dChtYVNQLCBzb0x1b25nKTtcbiAgIDgzNlx0ICAgICAgICAgICAgfVxuICAgODM3XHRcbiAgIDgzOFx0ICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IGzhuqFpIGLhuqNuZ1xuICAgODM5XHQgICAgICAgICAgICB0YWJsZVZpZXcucmVmcmVzaCgpO1xuICAgODQwXHRcbiAgIDg0MVx0ICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHThu5VuZyB0aeG7gW5cbiAgIDg0Mlx0ICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgIDg0M1x0XG4gICA4NDRcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyB0aMO0bmcgYsOhbyB0aMOgbmggY8O0bmdcbiAgIDg0NVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJUaMO0bmcgYsOhb1wiLCBcIsSQw6MgdGjDqm0gc+G6o24gcGjhuqltIHbDoG8gZ2nhu48gaMOgbmchXCIpO1xuICAgODQ2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA4NDdcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA4NDhcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdGjDqm0gc+G6o24gcGjhuqltIHbDoG8gZ2nhu48gaMOgbmc6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAgODQ5XHQgICAgICAgIH1cbiAgIDg1MFx0ICAgIH1cbiAgIDg1MVx0XG4gICA4NTJcdCAgICAvKipcbiAgIDg1M1x0ICAgICAqIEhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIGNow61uaFxuICAgODU0XHQgICAgICovXG4gICA4NTVcdCAgICBwcml2YXRlIHZvaWQgc2hvd01haW5TYWxlc0ludGVyZmFjZSgpIHtcbiAgIDg1Nlx0ICAgICAgICAvLyBMw6BtIG3hu5tpIGZvcm0gbmjhuq1wIGxp4buHdVxuICAgODU3XHQgICAgICAgIHR4dF9uaGFwTWEuY2xlYXIoKTtcbiAgIDg1OFx0ICAgICAgICB0eHRfbmhhcFNMLmNsZWFyKCk7XG4gICA4NTlcdCAgICAgICAgdHh0X3RlbktILmNsZWFyKCk7XG4gICA4NjBcdCAgICAgICAgdHh0X3NkdC5jbGVhcigpO1xuICAgODYxXHRcbiAgIDg2Mlx0ICAgICAgICAvLyBGb2N1cyB2w6BvIHRyxrDhu51uZyBuaOG6rXAgbcOjIHPhuqNuIHBo4bqpbVxuICAgODYzXHQgICAgICAgIHR4dF9uaGFwTWEucmVxdWVzdEZvY3VzKCk7XG4gICA4NjRcdCAgICB9XG4gICA4NjVcdFxuICAgODY2XHQgICAgLyoqXG4gICA4NjdcdCAgICAgKiBYw7NhIHPhuqNuIHBo4bqpbSBraOG7j2kgZ2nhu48gaMOgbmdcbiAgIDg2OFx0ICAgICAqL1xuICAgODY5XHQgICAgcHJpdmF0ZSB2b2lkIHJlbW92ZVByb2R1Y3RGcm9tQ2FydChTdHJpbmcgbWFTUCkge1xuICAgODcwXHQgICAgICAgIHRyeSB7XG4gICA4NzFcdCAgICAgICAgICAgIC8vIFTDrG0gc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gICA4NzJcdCAgICAgICAgICAgIFNhblBoYW0gcHJvZHVjdFRvUmVtb3ZlID0gbnVsbDtcbiAgIDg3M1x0ICAgICAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogY2FydEl0ZW1zKSB7XG4gICA4NzRcdCAgICAgICAgICAgICAgICBpZiAoc3AuZ2V0TWFTUCgpLmVxdWFscyhtYVNQKSkge1xuICAgODc1XHQgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUb1JlbW92ZSA9IHNwO1xuICAgODc2XHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgODc3XHQgICAgICAgICAgICAgICAgfVxuICAgODc4XHQgICAgICAgICAgICB9XG4gICA4NzlcdFxuICAgODgwXHQgICAgICAgICAgICAvLyBO4bq/dSB0w6xtIHRo4bqleSBz4bqjbiBwaOG6qW0sIHjDs2Ega2jhu49pIGdp4buPIGjDoG5nXG4gICA4ODFcdCAgICAgICAgICAgIGlmIChwcm9kdWN0VG9SZW1vdmUgIT0gbnVsbCkge1xuICAgODgyXHQgICAgICAgICAgICAgICAgY2FydEl0ZW1zLnJlbW92ZShwcm9kdWN0VG9SZW1vdmUpO1xuICAgODgzXHQgICAgICAgICAgICAgICAgcHJvZHVjdFF1YW50aXRpZXMucmVtb3ZlKG1hU1ApO1xuICAgODg0XHQgICAgICAgICAgICAgICAgdGFibGVWaWV3LnJlZnJlc2goKTtcbiAgIDg4NVx0XG4gICA4ODZcdCAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdOG7lW5nIHRp4buBblxuICAgODg3XHQgICAgICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgIDg4OFx0XG4gICA4ODlcdCAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlRow7RuZyBiw6FvXCIsIFwixJDDoyB4w7NhIHPhuqNuIHBo4bqpbSBraOG7j2kgZ2nhu48gaMOgbmchXCIpO1xuICAgODkwXHQgICAgICAgICAgICB9IGVsc2Uge1xuICAgODkxXHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiS2jDtG5nIHTDrG0gdGjhuqV5IHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZyFcIik7XG4gICA4OTJcdCAgICAgICAgICAgIH1cbiAgIDg5M1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgODk0XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgODk1XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIHjDs2Egc+G6o24gcGjhuqltIGto4buPaSBnaeG7jyBow6BuZzogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICA4OTZcdCAgICAgICAgfVxuICAgODk3XHQgICAgfVxuICAgODk4XHRcbiAgIDg5OVx0ICAgIC8qKlxuICAgOTAwXHQgICAgICogVMOtbmggdOG7lW5nIHRp4buBbiBow6BuZyAoY2jGsGEgYmFvIGfhu5NtIHRodeG6vyB2w6AgZ2nhuqNtIGdpw6EpXG4gICA5MDFcdCAgICAgKi9cbiAgIDkwMlx0ICAgIHByaXZhdGUgZG91YmxlIGNhbGN1bGF0ZVN1YnRvdGFsKCkge1xuICAgOTAzXHQgICAgICAgIGRvdWJsZSBzdWJ0b3RhbCA9IDA7XG4gICA5MDRcdCAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogY2FydEl0ZW1zKSB7XG4gICA5MDVcdCAgICAgICAgICAgIGludCBxdWFudGl0eSA9IHByb2R1Y3RRdWFudGl0aWVzLmdldE9yRGVmYXVsdChzcC5nZXRNYVNQKCksIDApO1xuICAgOTA2XHQgICAgICAgICAgICBzdWJ0b3RhbCArPSBzcC5nZXRHaWFCYW4oKSAqIHF1YW50aXR5O1xuICAgOTA3XHQgICAgICAgIH1cbiAgIDkwOFx0ICAgICAgICByZXR1cm4gc3VidG90YWw7XG4gICA5MDlcdCAgICB9XG4gICA5MTBcdFxuICAgOTExXHQgICAgLyoqXG4gICA5MTJcdCAgICAgKiBUw61uaCB0aHXhur8gVkFUICg4JSB04buVbmcgdGnhu4FuIGjDoG5nKVxuICAgOTEzXHQgICAgICovXG4gICA5MTRcdCAgICBwcml2YXRlIGRvdWJsZSBjYWxjdWxhdGVWQVQoZG91YmxlIHN1YnRvdGFsKSB7XG4gICA5MTVcdCAgICAgICAgcmV0dXJuIHN1YnRvdGFsICogMC4wODsgLy8gOCUgVkFUXG4gICA5MTZcdCAgICB9XG4gICA5MTdcdFxuICAgOTE4XHQgICAgLyoqXG4gICA5MTlcdCAgICAgKiBUw61uaCBnaeG6o20gZ2nDoVxuICAgOTIwXHQgICAgICovXG4gICA5MjFcdCAgICBwcml2YXRlIGRvdWJsZSBjYWxjdWxhdGVEaXNjb3VudChkb3VibGUgc3VidG90YWwpIHtcbiAgIDkyMlx0ICAgICAgICB0cnkge1xuICAgOTIzXHQgICAgICAgICAgICBpZiAobGJfZ2lhbUdpYSAhPSBudWxsICYmICFsYl9naWFtR2lhLmdldFRleHQoKS5lcXVhbHMoXCIwIFZOxJBcIikpIHtcbiAgIDkyNFx0ICAgICAgICAgICAgICAgIHRyeSB7XG4gICA5MjVcdCAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGdpYW1HaWFTdHIgPSBsYl9naWFtR2lhLmdldFRleHQoKS5yZXBsYWNlQWxsKFwiW15cXFxcZF1cIiwgXCJcIik7XG4gICA5MjZcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERvdWJsZS5wYXJzZURvdWJsZShnaWFtR2lhU3RyKTtcbiAgIDkyN1x0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA5MjhcdCAgICAgICAgICAgICAgICAgICAgLy8gS2jDtG5nIGzDoG0gZ8OsIG7hur91IGtow7RuZyB0aOG7gyBjaHV54buDbiDEkeG7lWlcbiAgIDkyOVx0ICAgICAgICAgICAgICAgIH1cbiAgIDkzMFx0ICAgICAgICAgICAgfVxuICAgOTMxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA5MzJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA5MzNcdCAgICAgICAgfVxuICAgOTM0XHQgICAgICAgIHJldHVybiAwO1xuICAgOTM1XHQgICAgfVxuICAgOTM2XHRcbiAgIDkzN1x0ICAgIC8qKlxuICAgOTM4XHQgICAgICogVMOtbmggdOG7lW5nIHRp4buBbiBj4bunYSBnaeG7jyBow6BuZyAoYmFvIGfhu5NtIHRodeG6vyB2w6AgZ2nhuqNtIGdpw6EpXG4gICA5MzlcdCAgICAgKi9cbiAgIDk0MFx0ICAgIHByaXZhdGUgZG91YmxlIGNhbGN1bGF0ZVRvdGFsKCkge1xuICAgOTQxXHQgICAgICAgIGRvdWJsZSBzdWJ0b3RhbCA9IGNhbGN1bGF0ZVN1YnRvdGFsKCk7XG4gICA5NDJcdCAgICAgICAgZG91YmxlIHZhdCA9IGNhbGN1bGF0ZVZBVChzdWJ0b3RhbCk7XG4gICA5NDNcdCAgICAgICAgZG91YmxlIGRpc2NvdW50ID0gY2FsY3VsYXRlRGlzY291bnQoc3VidG90YWwpO1xuICAgOTQ0XHRcbiAgIDk0NVx0ICAgICAgICByZXR1cm4gc3VidG90YWwgKyB2YXQgLSBkaXNjb3VudDtcbiAgIDk0Nlx0ICAgIH1cbiAgIDk0N1x0XG4gICA5NDhcdCAgICAvKipcbiAgIDk0OVx0ICAgICAqIFThuqFvIGjDs2EgxJHGoW4gdOG7qyBnaeG7jyBow6BuZ1xuICAgOTUwXHQgICAgICovXG4gICA5NTFcdCAgICBwcml2YXRlIHZvaWQgY3JlYXRlSW52b2ljZSgpIHtcbiAgIDk1Mlx0ICAgICAgICB0cnkge1xuICAgOTUzXHQgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FydCBpcyBlbXB0eVxuICAgOTU0XHQgICAgICAgICAgICBpZiAoY2FydEl0ZW1zLmlzRW1wdHkoKSkge1xuICAgOTU1XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiR2nhu48gaMOgbmcgdHLhu5FuZyFcIik7XG4gICA5NTZcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICA5NTdcdCAgICAgICAgICAgIH1cbiAgIDk1OFx0XG4gICA5NTlcdCAgICAgICAgICAgIC8vIFZhbGlkYXRlIGN1c3RvbWVyIGluZm9ybWF0aW9uXG4gICA5NjBcdCAgICAgICAgICAgIFN0cmluZyB0ZW5LSCA9IHR4dF90ZW5LSC5nZXRUZXh0KCkudHJpbSgpO1xuICAgOTYxXHQgICAgICAgICAgICBTdHJpbmcgc2R0ID0gdHh0X3NkdC5nZXRUZXh0KCkudHJpbSgpO1xuICAgOTYyXHRcbiAgIDk2M1x0ICAgICAgICAgICAgLy8gR2VuZXJhdGUgaW52b2ljZSBJRFxuICAgOTY0XHQgICAgICAgICAgICBTdHJpbmcgbWFIRCA9IFwiSERcIiArIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpO1xuICAgOTY1XHRcbiAgIDk2Nlx0ICAgICAgICAgICAgLy8gSGFuZGxlIHNoaWZ0IChDYUxhbSlcbiAgIDk2N1x0ICAgICAgICAgICAgU3RyaW5nIG1hQ2EgPSBcIkNBXCIgKyBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAgIDk2OFx0ICAgICAgICAgICAgQ2FMYW0gY2FMYW0gPSBjYUxhbURhby5yZWFkKFwiQ0EwMDFcIik7XG4gICA5NjlcdCAgICAgICAgICAgIGlmIChjYUxhbSA9PSBudWxsKSB7XG4gICA5NzBcdCAgICAgICAgICAgICAgICBjYUxhbSA9IG5ldyBDYUxhbSgpO1xuICAgOTcxXHQgICAgICAgICAgICAgICAgY2FMYW0uc2V0TWFDYShtYUNhKTtcbiAgIDk3Mlx0ICAgICAgICAgICAgICAgIGNhTGFtLnNldEdpb0JhdERhdShqYXZhLnRpbWUuTG9jYWxEYXRlVGltZS5ub3coKSk7XG4gICA5NzNcdCAgICAgICAgICAgICAgICBjYUxhbS5zZXRHaW9LZXRUaHVjKGphdmEudGltZS5Mb2NhbERhdGVUaW1lLm5vdygpLnBsdXNIb3Vycyg4KSk7XG4gICA5NzRcdCAgICAgICAgICAgICAgICBjYUxhbS5zZXRUcmFuZ1RoYWkodHJ1ZSk7XG4gICA5NzVcdFxuICAgOTc2XHQgICAgICAgICAgICAgICAgaWYgKEFwcC50YWlLaG9hbiAhPSBudWxsKSB7XG4gICA5NzdcdCAgICAgICAgICAgICAgICAgICAgY2FMYW0uc2V0VGFpS2hvYW4oQXBwLnRhaUtob2FuKTtcbiAgIDk3OFx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICA5NzlcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiS2jDtG5nIGPDsyB0w6BpIGtob+G6o24gxJHEg25nIG5o4bqtcCwgc+G7rSBk4bulbmcgdMOgaSBraG/huqNuIG3hurdjIMSR4buLbmhcIik7XG4gICA5ODBcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgOTgxXHQgICAgICAgICAgICAgICAgfVxuICAgOTgyXHRcbiAgIDk4M1x0ICAgICAgICAgICAgICAgIGNhTGFtRGFvLmNyZWF0ZShjYUxhbSk7XG4gICA5ODRcdCAgICAgICAgICAgIH1cbiAgIDk4NVx0XG4gICA5ODZcdCAgICAgICAgICAgIC8vIEhhbmRsZSBjdXN0b21lciAoS2hhY2hIYW5nKVxuICAgOTg3XHQgICAgICAgICAgICBLaGFjaEhhbmcga2hhY2hIYW5nID0gbnVsbDtcbiAgIDk4OFx0ICAgICAgICAgICAgaWYgKCF0ZW5LSC5pc0VtcHR5KCkgJiYgIXNkdC5pc0VtcHR5KCkpIHtcbiAgIDk4OVx0ICAgICAgICAgICAgICAgIGtoYWNoSGFuZyA9IGtoYWNoSGFuZ0Rhby5maW5kQnlQaG9uZShzZHQpO1xuICAgOTkwXHQgICAgICAgICAgICAgICAgaWYgKGtoYWNoSGFuZyA9PSBudWxsKSB7XG4gICA5OTFcdCAgICAgICAgICAgICAgICAgICAga2hhY2hIYW5nID0gbmV3IEtoYWNoSGFuZygpO1xuICAgOTkyXHQgICAgICAgICAgICAgICAgICAgIGtoYWNoSGFuZy5zZXRNYUtIKFwiS0hcIiArIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKTtcbiAgIDk5M1x0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmcuc2V0VGVuS0godGVuS0gpO1xuICAgOTk0XHQgICAgICAgICAgICAgICAgICAgIGtoYWNoSGFuZy5zZXRTZHQoc2R0KTtcbiAgIDk5NVx0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmdEYW8uY3JlYXRlKGtoYWNoSGFuZyk7XG4gICA5OTZcdCAgICAgICAgICAgICAgICB9XG4gICA5OTdcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gICA5OThcdCAgICAgICAgICAgICAgICBraGFjaEhhbmcgPSBraGFjaEhhbmdEYW8ucmVhZChcIktIMDAxXCIpO1xuICAgOTk5XHQgICAgICAgICAgICAgICAgaWYgKGtoYWNoSGFuZyA9PSBudWxsKSB7XG4gIDEwMDBcdCAgICAgICAgICAgICAgICAgICAga2hhY2hIYW5nID0gbmV3IEtoYWNoSGFuZygpO1xuICAxMDAxXHQgICAgICAgICAgICAgICAgICAgIGtoYWNoSGFuZy5zZXRNYUtIKFwiS0gwMDFcIik7XG4gIDEwMDJcdCAgICAgICAgICAgICAgICAgICAga2hhY2hIYW5nLnNldFRlbktIKFwiS2jDoWNoIGjDoG5nIHbDo25nIGxhaVwiKTtcbiAgMTAwM1x0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmcuc2V0U2R0KFwiMDAwMDAwMDAwMFwiKTtcbiAgMTAwNFx0ICAgICAgICAgICAgICAgICAgICBraGFjaEhhbmdEYW8uY3JlYXRlKGtoYWNoSGFuZyk7XG4gIDEwMDVcdCAgICAgICAgICAgICAgICB9XG4gIDEwMDZcdCAgICAgICAgICAgIH1cbiAgMTAwN1x0XG4gIDEwMDhcdCAgICAgICAgICAgIC8vIENyZWF0ZSBpbnZvaWNlIChIb2FEb24pXG4gIDEwMDlcdCAgICAgICAgICAgIEhvYURvbiBob2FEb24gPSBuZXcgSG9hRG9uKCk7XG4gIDEwMTBcdCAgICAgICAgICAgIGhvYURvbi5zZXRNYUhEKG1hSEQpO1xuICAxMDExXHQgICAgICAgICAgICBob2FEb24uc2V0VGhvaUdpYW4oamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUubm93KCkpO1xuICAxMDEyXHQgICAgICAgICAgICBob2FEb24uc2V0VG9uZ1NvTHVvbmdTUChwcm9kdWN0UXVhbnRpdGllcy52YWx1ZXMoKS5zdHJlYW0oKS5tYXBUb0ludChJbnRlZ2VyOjppbnRWYWx1ZSkuc3VtKCkpO1xuICAxMDEzXHQgICAgICAgICAgICAvLyBUw61uaCB04buVbmcgdGnhu4FuIHRoYW5oIHRvw6FuXG4gIDEwMTRcdCAgICAgICAgICAgIGRvdWJsZSB0b25nVGllbiA9IGNhbGN1bGF0ZVRvdGFsKCk7XG4gIDEwMTVcdCAgICAgICAgICAgIGhvYURvbi5zZXRUaGFuaFRpZW4odG9uZ1RpZW4pO1xuICAxMDE2XHRcbiAgMTAxN1x0ICAgICAgICAgICAgLy8gTOG6pXkgdGjDtG5nIHRpbiB0aeG7gW4ga2jDoWNoIHRy4bqjIHbDoCB0aeG7gW4gdGjhu6thXG4gIDEwMThcdCAgICAgICAgICAgIGRvdWJsZSB0aWVuS2hhY2hUcmEgPSAwO1xuICAxMDE5XHQgICAgICAgICAgICBkb3VibGUgdGllblRodWEgPSAwO1xuICAxMDIwXHQgICAgICAgICAgICB0cnkge1xuICAxMDIxXHQgICAgICAgICAgICAgICAgdGllbktoYWNoVHJhID0gRG91YmxlLnBhcnNlRG91YmxlKHR4dF90aWVuS2hhY2hUcmEuZ2V0VGV4dCgpLnRyaW0oKSk7XG4gIDEwMjJcdCAgICAgICAgICAgICAgICAvLyBUw61uaCB0aeG7gW4gdGjhu6thXG4gIDEwMjNcdCAgICAgICAgICAgICAgICB0aWVuVGh1YSA9IHRpZW5LaGFjaFRyYSAtIHRvbmdUaWVuO1xuICAxMDI0XHQgICAgICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkge1xuICAxMDI1XHQgICAgICAgICAgICAgICAgLy8gTuG6v3Uga2jDtG5nIHRo4buDIGNodXnhu4NuIMSR4buVaSwgc+G7rSBk4bulbmcgZ2nDoSB0cuG7iyBt4bq3YyDEkeG7i25oXG4gIDEwMjZcdCAgICAgICAgICAgICAgICB0aWVuS2hhY2hUcmEgPSB0b25nVGllbjtcbiAgMTAyN1x0ICAgICAgICAgICAgICAgIHRpZW5UaHVhID0gMDtcbiAgMTAyOFx0ICAgICAgICAgICAgfVxuICAxMDI5XHRcbiAgMTAzMFx0ICAgICAgICAgICAgLy8gTMawdSB0aMO0bmcgdGluIHRp4buBbiBraMOhY2ggdHLhuqMgdsOgIHRp4buBbiB0aOG7q2EgdsOgbyBow7NhIMSRxqFuXG4gIDEwMzFcdCAgICAgICAgICAgIC8vIE7hur91IGPDsyB0csaw4budbmcgdMawxqFuZyDhu6luZyB0cm9uZyBlbnRpdHkgSG9hRG9uXG4gIDEwMzJcdCAgICAgICAgICAgIC8vIGhvYURvbi5zZXRUaWVuS2hhY2hUcmEodGllbktoYWNoVHJhKTtcbiAgMTAzM1x0ICAgICAgICAgICAgLy8gaG9hRG9uLnNldFRpZW5UaHVhKHRpZW5UaHVhKTtcbiAgMTAzNFx0XG4gIDEwMzVcdCAgICAgICAgICAgIC8vIFjDoWMgxJHhu4tuaCBwaMawxqFuZyB0aOG7qWMgdGhhbmggdG/DoW4gZOG7sWEgdHLDqm4gbOG7sWEgY2jhu41uXG4gIDEwMzZcdCAgICAgICAgICAgIFBodW9uZ1RodWNUaGFuaFRvYW4gcGh1b25nVGh1YyA9IFBodW9uZ1RodWNUaGFuaFRvYW4uVGllbl9NYXQ7XG4gIDEwMzdcdCAgICAgICAgICAgIGlmIChyYl9jaHV5ZW5LaG9hbiAhPSBudWxsICYmIHJiX2NodXllbktob2FuLmlzU2VsZWN0ZWQoKSkge1xuICAxMDM4XHQgICAgICAgICAgICAgICAgcGh1b25nVGh1YyA9IFBodW9uZ1RodWNUaGFuaFRvYW4uQ2h1eWVuX0tob2FuO1xuICAxMDM5XHQgICAgICAgICAgICB9IGVsc2UgaWYgKHJiX3RoZSAhPSBudWxsICYmIHJiX3RoZS5pc1NlbGVjdGVkKCkpIHtcbiAgMTA0MFx0ICAgICAgICAgICAgICAgIHBodW9uZ1RodWMgPSBQaHVvbmdUaHVjVGhhbmhUb2FuLlRoZV9OZ2FuX0hhbmc7XG4gIDEwNDFcdCAgICAgICAgICAgIH1cbiAgMTA0Mlx0ICAgICAgICAgICAgaG9hRG9uLnNldFBodW9uZ1RodWNUVChwaHVvbmdUaHVjKTtcbiAgMTA0M1x0ICAgICAgICAgICAgaG9hRG9uLnNldENhTGFtKGNhTGFtKTtcbiAgMTA0NFx0ICAgICAgICAgICAgaG9hRG9uLnNldEtoYWNoSGFuZyhraGFjaEhhbmcpO1xuICAxMDQ1XHQgICAgICAgICAgICBob2FEb25EYW8uY3JlYXRlKGhvYURvbik7XG4gIDEwNDZcdFxuICAxMDQ3XHQgICAgICAgICAgICAvLyBDcmVhdGUgaW52b2ljZSBkZXRhaWxzIChDaGlUaWV0SG9hRG9uX1NhblBoYW0pXG4gIDEwNDhcdCAgICAgICAgICAgIGZvciAoU2FuUGhhbSBzcCA6IGNhcnRJdGVtcykge1xuICAxMDQ5XHQgICAgICAgICAgICAgICAgaW50IHNvTHVvbmcgPSBwcm9kdWN0UXVhbnRpdGllcy5nZXRPckRlZmF1bHQoc3AuZ2V0TWFTUCgpLCAwKTtcbiAgMTA1MFx0XG4gIDEwNTFcdCAgICAgICAgICAgICAgICAvLyBDaGVjayBzdG9jayBhdmFpbGFiaWxpdHlcbiAgMTA1Mlx0ICAgICAgICAgICAgICAgIGlmIChzcC5nZXRTb0x1b25nVG9uKCkgPCBzb0x1b25nKSB7XG4gIDEwNTNcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiU+G6o24gcGjhuqltIFwiICsgc3AuZ2V0VGVuU1AoKSArIFwiIGtow7RuZyDEkeG7pyBz4buRIGzGsOG7o25nIHRyb25nIGtobyFcIik7XG4gIDEwNTRcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAxMDU1XHQgICAgICAgICAgICAgICAgfVxuICAxMDU2XHRcbiAgMTA1N1x0ICAgICAgICAgICAgICAgIENoaVRpZXRIb2FEb25fU2FuUGhhbUlkIGNoaVRpZXRJZCA9IG5ldyBDaGlUaWV0SG9hRG9uX1NhblBoYW1JZChtYUhELCBzcC5nZXRNYVNQKCkpO1xuICAxMDU4XHQgICAgICAgICAgICAgICAgQ2hpVGlldEhvYURvbl9TYW5QaGFtIGNoaVRpZXQgPSBuZXcgQ2hpVGlldEhvYURvbl9TYW5QaGFtKCk7XG4gIDEwNTlcdCAgICAgICAgICAgICAgICBjaGlUaWV0LnNldElkKGNoaVRpZXRJZCk7XG4gIDEwNjBcdCAgICAgICAgICAgICAgICBjaGlUaWV0LnNldFNvTHVvbmdTUChzb0x1b25nKTtcbiAgMTA2MVx0ICAgICAgICAgICAgICAgIGNoaVRpZXQuc2V0RG9uR2lhKHNwLmdldEdpYUJhbigpKTtcbiAgMTA2Mlx0ICAgICAgICAgICAgICAgIGNoaVRpZXQuc2V0SG9hRG9uKGhvYURvbik7XG4gIDEwNjNcdCAgICAgICAgICAgICAgICBjaGlUaWV0LnNldFNhblBoYW0oc3ApO1xuICAxMDY0XHQgICAgICAgICAgICAgICAgY2hpVGlldEhvYURvbkRhby5jcmVhdGUoY2hpVGlldCk7XG4gIDEwNjVcdFxuICAxMDY2XHQgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHN0b2NrXG4gIDEwNjdcdCAgICAgICAgICAgICAgICBzcC5zZXRTb0x1b25nVG9uKHNwLmdldFNvTHVvbmdUb24oKSAtIHNvTHVvbmcpO1xuICAxMDY4XHQgICAgICAgICAgICAgICAgc2FuUGhhbURhby51cGRhdGUoc3ApO1xuICAxMDY5XHQgICAgICAgICAgICB9XG4gIDEwNzBcdFxuICAxMDcxXHQgICAgICAgICAgICAvLyBDbGVhciBjYXJ0IGFuZCByZWZyZXNoIFVJXG4gIDEwNzJcdCAgICAgICAgICAgIGNhcnRJdGVtcy5jbGVhcigpO1xuICAxMDczXHQgICAgICAgICAgICBwcm9kdWN0UXVhbnRpdGllcy5jbGVhcigpO1xuICAxMDc0XHQgICAgICAgICAgICB0YWJsZVZpZXcucmVmcmVzaCgpO1xuICAxMDc1XHQgICAgICAgICAgICB0eHRfdGVuS0guY2xlYXIoKTtcbiAgMTA3Nlx0ICAgICAgICAgICAgdHh0X3NkdC5jbGVhcigpO1xuICAxMDc3XHQgICAgICAgICAgICB0eHRfbmhhcE1hLmNsZWFyKCk7XG4gIDEwNzhcdCAgICAgICAgICAgIHR4dF9uaGFwU0wuY2xlYXIoKTtcbiAgMTA3OVx0XG4gIDEwODBcdCAgICAgICAgICAgIC8vIFjDs2EgdGjDtG5nIHRpbiBow7NhIMSRxqFuXG4gIDEwODFcdCAgICAgICAgICAgIGlmICh0eHRfbWFHaWFtR2lhICE9IG51bGwpIHtcbiAgMTA4Mlx0ICAgICAgICAgICAgICAgIHR4dF9tYUdpYW1HaWEuY2xlYXIoKTtcbiAgMTA4M1x0ICAgICAgICAgICAgfVxuICAxMDg0XHQgICAgICAgICAgICBpZiAodGFfZ2hpQ2h1ICE9IG51bGwpIHtcbiAgMTA4NVx0ICAgICAgICAgICAgICAgIHRhX2doaUNodS5jbGVhcigpO1xuICAxMDg2XHQgICAgICAgICAgICB9XG4gIDEwODdcdCAgICAgICAgICAgIGlmIChsYl9naWFtR2lhICE9IG51bGwpIHtcbiAgMTA4OFx0ICAgICAgICAgICAgICAgIGxiX2dpYW1HaWEuc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgMTA4OVx0ICAgICAgICAgICAgfVxuICAxMDkwXHRcbiAgMTA5MVx0ICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIHRp4buBbiBraMOhY2ggdHLhuqMgdsOgIHRp4buBbiB0aOG7q2FcbiAgMTA5Mlx0ICAgICAgICAgICAgaWYgKHR4dF90aWVuS2hhY2hUcmEgIT0gbnVsbCkge1xuICAxMDkzXHQgICAgICAgICAgICAgICAgdHh0X3RpZW5LaGFjaFRyYS5jbGVhcigpO1xuICAxMDk0XHQgICAgICAgICAgICB9XG4gIDEwOTVcdCAgICAgICAgICAgIGlmIChsYl90aWVuVGh1YSAhPSBudWxsKSB7XG4gIDEwOTZcdCAgICAgICAgICAgICAgICBsYl90aWVuVGh1YS5zZXRUZXh0KFwiMCBWTsSQXCIpO1xuICAxMDk3XHQgICAgICAgICAgICAgICAgbGJfdGllblRodWEuc2V0U3R5bGUoXCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC10ZXh0LWZpbGw6ICMwMDk5MDA7XCIpO1xuICAxMDk4XHQgICAgICAgICAgICB9XG4gIDEwOTlcdFxuICAxMTAwXHQgICAgICAgICAgICAvLyBWw7QgaGnhu4d1IGjDs2EgbsO6dCB0aGFuaCB0b8OhbiBjaG8gxJHhur9uIGtoaSBraMOhY2ggaMOgbmcgdHLhuqMgxJHhu6cgdGnhu4FuXG4gIDExMDFcdCAgICAgICAgICAgIGlmIChidG5fdGhhbmhUb2FuICE9IG51bGwpIHtcbiAgMTEwMlx0ICAgICAgICAgICAgICAgIGJ0bl90aGFuaFRvYW4uc2V0RGlzYWJsZSh0cnVlKTtcbiAgMTEwM1x0ICAgICAgICAgICAgfVxuICAxMTA0XHRcbiAgMTEwNVx0ICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHThu5VuZyB0aeG7gW5cbiAgMTEwNlx0ICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgMTEwN1x0XG4gIDExMDhcdCAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlXG4gIDExMDlcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiVGjDoG5oIGPDtG5nXCIsIFwixJDDoyB04bqhbyBow7NhIMSRxqFuIHRow6BuaCBjw7RuZyFcIik7XG4gIDExMTBcdFxuICAxMTExXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDExMTJcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDExMTNcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdOG6oW8gaMOzYSDEkcahbjogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDExMTRcdCAgICAgICAgfVxuICAxMTE1XHQgICAgfVxuICAxMTE2XHRcbiAgMTExN1x0ICAgIC8qKlxuICAxMTE4XHQgICAgICogSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gIDExMTlcdCAgICAgKi9cbiAgMTEyMFx0ICAgIHByaXZhdGUgdm9pZCBzaG93U2VhcmNoSW50ZXJmYWNlKCkge1xuICAxMTIxXHQgICAgICAgIHRyeSB7XG4gIDExMjJcdCAgICAgICAgICAgIC8vIEzDoG0gbeG7m2kgZm9ybSB0w6xtIGtp4bq/bVxuICAxMTIzXHQgICAgICAgICAgICB0eHRfdGltS2llbS5jbGVhcigpO1xuICAxMTI0XHQgICAgICAgICAgICB0eHRfdGltS2llbS5yZXF1ZXN0Rm9jdXMoKTtcbiAgMTEyNVx0XG4gIDExMjZcdCAgICAgICAgICAgIC8vIEto4bufaSB04bqhbyBk4buvIGxp4buHdSB0w6xtIGtp4bq/bSBu4bq/dSBj4bqnblxuICAxMTI3XHQgICAgICAgICAgICBpbml0aWFsaXplU2VhcmNoRGF0YSgpO1xuICAxMTI4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDExMjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDExMzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTEzMVx0ICAgICAgICB9XG4gIDExMzJcdCAgICB9XG4gIDExMzNcdFxuICAxMTM0XHQgICAgLyoqXG4gIDExMzVcdCAgICAgKiBLaOG7n2kgdOG6oW8gZOG7ryBsaeG7h3UgdMOsbSBraeG6v21cbiAgMTEzNlx0ICAgICAqL1xuICAxMTM3XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVTZWFyY2hEYXRhKCkge1xuICAxMTM4XHQgICAgICAgIHRyeSB7XG4gIDExMzlcdCAgICAgICAgICAgIC8vIFThuqFvIGRhbmggc8OhY2ggc+G6o24gcGjhuqltIGNobyB0w6xtIGtp4bq/bVxuICAxMTQwXHQgICAgICAgICAgICBPYnNlcnZhYmxlTGlzdDxTYW5QaGFtPiBzZWFyY2hSZXN1bHRzID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7XG4gIDExNDFcdFxuICAxMTQyXHQgICAgICAgICAgICAvLyBM4bqleSB04bqldCBj4bqjIHPhuqNuIHBo4bqpbSB04burIGRhdGFiYXNlXG4gIDExNDNcdCAgICAgICAgICAgIExpc3Q8U2FuUGhhbT4gYWxsUHJvZHVjdHMgPSBzYW5QaGFtRGFvLnJlYWRBbGwoKTtcbiAgMTE0NFx0ICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5hZGRBbGwoYWxsUHJvZHVjdHMpO1xuICAxMTQ1XHRcbiAgMTE0Nlx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGvhur90IHF14bqjIHTDrG0ga2nhur9tIHRyb25nIGLhuqNuZ1xuICAxMTQ3XHQgICAgICAgICAgICAvLyBT4butIGThu6VuZyBi4bqjbmcgaGnhu4duIHThuqFpIMSR4buDIGhp4buDbiB0aOG7iyBr4bq/dCBxdeG6oyB0w6xtIGtp4bq/bVxuICAxMTQ4XHQgICAgICAgICAgICB0YWJsZVZpZXcuc2V0SXRlbXMoc2VhcmNoUmVzdWx0cyk7XG4gIDExNDlcdFxuICAxMTUwXHRcbiAgMTE1MVx0ICAgICAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gY2hvIHRyxrDhu51uZyB0w6xtIGtp4bq/bVxuICAxMTUyXHQgICAgICAgICAgICBzZXR1cFNlYXJjaEZpZWxkKCk7XG4gIDExNTNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTE1NFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTE1NVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBraOG7n2kgdOG6oW8gZOG7ryBsaeG7h3UgdMOsbSBraeG6v206IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMTU2XHQgICAgICAgIH1cbiAgMTE1N1x0ICAgIH1cbiAgMTE1OFx0XG4gIDExNTlcdCAgICAvKipcbiAgMTE2MFx0ICAgICAqIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24gY2hvIHRyxrDhu51uZyB0w6xtIGtp4bq/bVxuICAxMTYxXHQgICAgICovXG4gIDExNjJcdCAgICBwcml2YXRlIHZvaWQgc2V0dXBTZWFyY2hGaWVsZCgpIHtcbiAgMTE2M1x0ICAgICAgICAvLyBUaMOqbSBz4buxIGtp4buHbiBraGkgbmjhuq1wIHbDoG8gdHLGsOG7nW5nIHTDrG0ga2nhur9tXG4gIDExNjRcdCAgICAgICAgdHh0X3RpbUtpZW0udGV4dFByb3BlcnR5KCkuYWRkTGlzdGVuZXIoKG9ic2VydmFibGUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkgLT4ge1xuICAxMTY1XHQgICAgICAgICAgICBwZXJmb3JtU2VhcmNoKG5ld1ZhbHVlKTtcbiAgMTE2Nlx0ICAgICAgICB9KTtcbiAgMTE2N1x0ICAgIH1cbiAgMTE2OFx0XG4gIDExNjlcdCAgICAvKipcbiAgMTE3MFx0ICAgICAqIFRo4buxYyBoaeG7h24gdMOsbSBraeG6v20gc+G6o24gcGjhuqltXG4gIDExNzFcdCAgICAgKi9cbiAgMTE3Mlx0ICAgIHByaXZhdGUgdm9pZCBwZXJmb3JtU2VhcmNoKFN0cmluZyBrZXl3b3JkKSB7XG4gIDExNzNcdCAgICAgICAgdHJ5IHtcbiAgMTE3NFx0ICAgICAgICAgICAgaWYgKGtleXdvcmQgPT0gbnVsbCB8fCBrZXl3b3JkLnRyaW0oKS5pc0VtcHR5KCkpIHtcbiAgMTE3NVx0ICAgICAgICAgICAgICAgIC8vIE7hur91IHThu6sga2jDs2EgdHLhu5FuZywgaGnhu4NuIHRo4buLIHThuqV0IGPhuqMgc+G6o24gcGjhuqltXG4gIDExNzZcdCAgICAgICAgICAgICAgICBMaXN0PFNhblBoYW0+IGFsbFByb2R1Y3RzID0gc2FuUGhhbURhby5yZWFkQWxsKCk7XG4gIDExNzdcdCAgICAgICAgICAgICAgICB0YWJsZVZpZXcuc2V0SXRlbXMoRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KGFsbFByb2R1Y3RzKSk7XG4gIDExNzhcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gIDExNzlcdCAgICAgICAgICAgIH1cbiAgMTE4MFx0XG4gIDExODFcdCAgICAgICAgICAgIC8vIFTDrG0ga2nhur9tIHPhuqNuIHBo4bqpbSB0aGVvIHThu6sga2jDs2FcbiAgMTE4Mlx0ICAgICAgICAgICAgTGlzdDxTYW5QaGFtPiBzZWFyY2hSZXN1bHRzID0gbmV3IEFycmF5TGlzdDw+KCk7XG4gIDExODNcdCAgICAgICAgICAgIExpc3Q8U2FuUGhhbT4gYWxsUHJvZHVjdHMgPSBzYW5QaGFtRGFvLnJlYWRBbGwoKTtcbiAgMTE4NFx0XG4gIDExODVcdCAgICAgICAgICAgIC8vIEzhu41jIHPhuqNuIHBo4bqpbSB0aGVvIHThu6sga2jDs2EgKG3DoyBob+G6t2MgdMOqbilcbiAgMTE4Nlx0ICAgICAgICAgICAgU3RyaW5nIGtleXdvcmRMb3dlciA9IGtleXdvcmQudG9Mb3dlckNhc2UoKTtcbiAgMTE4N1x0ICAgICAgICAgICAgZm9yIChTYW5QaGFtIHNwIDogYWxsUHJvZHVjdHMpIHtcbiAgMTE4OFx0ICAgICAgICAgICAgICAgIGlmIChzcC5nZXRNYVNQKCkudG9Mb3dlckNhc2UoKS5jb250YWlucyhrZXl3b3JkTG93ZXIpIHx8XG4gIDExODlcdCAgICAgICAgICAgICAgICAgICAgICAgIHNwLmdldFRlblNQKCkudG9Mb3dlckNhc2UoKS5jb250YWlucyhrZXl3b3JkTG93ZXIpKSB7XG4gIDExOTBcdCAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0cy5hZGQoc3ApO1xuICAxMTkxXHQgICAgICAgICAgICAgICAgfVxuICAxMTkyXHQgICAgICAgICAgICB9XG4gIDExOTNcdFxuICAxMTk0XHQgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgYuG6o25nIHbDoCB0cuG6oW5nIHRow6FpXG4gIDExOTVcdCAgICAgICAgICAgIHRhYmxlVmlldy5zZXRJdGVtcyhGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3Qoc2VhcmNoUmVzdWx0cykpO1xuICAxMTk2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDExOTdcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDExOThcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgdGjhu7FjIGhp4buHbiB0w6xtIGtp4bq/bTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDExOTlcdCAgICAgICAgfVxuICAxMjAwXHQgICAgfVxuICAxMjAxXHRcbiAgMTIwMlx0ICAgIC8qKlxuICAxMjAzXHQgICAgICogWOG7rSBsw70gc+G7sSBraeG7h24ga2hpIG5o4bqlcCDEkcO6cCB2w6BvIHPhuqNuIHBo4bqpbSB0cm9uZyBr4bq/dCBxdeG6oyB0w6xtIGtp4bq/bVxuICAxMjA0XHQgICAgICovXG4gIDEyMDVcdCAgICBARlhNTFxuICAxMjA2XHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZVNlYXJjaFJlc3VsdERvdWJsZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTIwN1x0ICAgICAgICBpZiAoZXZlbnQuZ2V0Q2xpY2tDb3VudCgpID09IDIpIHsgLy8gTmjhuqVwIMSRw7pwXG4gIDEyMDhcdCAgICAgICAgICAgIFNhblBoYW0gc2VsZWN0ZWRQcm9kdWN0ID0gdGFibGVWaWV3LmdldFNlbGVjdGlvbk1vZGVsKCkuZ2V0U2VsZWN0ZWRJdGVtKCk7XG4gIDEyMDlcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFByb2R1Y3QgIT0gbnVsbCkge1xuICAxMjEwXHQgICAgICAgICAgICAgICAgLy8gQ2h1eeG7g24gc2FuZyBnaWFvIGRp4buHbiBiw6FuIGjDoG5nIHbDoCB0aMOqbSBz4bqjbiBwaOG6qW0gdsOgbyBnaeG7jyBow6BuZ1xuICAxMjExXHQgICAgICAgICAgICAgICAgaGFuZGxlR2lvSGFuZ0NsaWNrKG51bGwpO1xuICAxMjEyXHRcbiAgMTIxM1x0ICAgICAgICAgICAgICAgIC8vIMSQaeG7gW4gdGjDtG5nIHRpbiBz4bqjbiBwaOG6qW0gdsOgbyBmb3JtXG4gIDEyMTRcdCAgICAgICAgICAgICAgICB0eHRfbmhhcE1hLnNldFRleHQoc2VsZWN0ZWRQcm9kdWN0LmdldE1hU1AoKSk7XG4gIDEyMTVcdCAgICAgICAgICAgICAgICB0eHRfbmhhcFNMLnNldFRleHQoXCIxXCIpOyAvLyBN4bq3YyDEkeG7i25oIHPhu5EgbMaw4bujbmcgbMOgIDFcbiAgMTIxNlx0ICAgICAgICAgICAgICAgIHR4dF9uaGFwU0wucmVxdWVzdEZvY3VzKCk7XG4gIDEyMTdcdCAgICAgICAgICAgIH1cbiAgMTIxOFx0ICAgICAgICB9XG4gIDEyMTlcdCAgICB9XG4gIDEyMjBcdFxuICAxMjIxXHQgICAgLyoqXG4gIDEyMjJcdCAgICAgKiBUaGnhur90IGzhuq1wIGNvbnRleHQgbWVudSBjaG8gYuG6o25nIGdp4buPIGjDoG5nXG4gIDEyMjNcdCAgICAgKi9cbiAgMTIyNFx0ICAgIHByaXZhdGUgdm9pZCBzZXR1cFRhYmxlQ29udGV4dE1lbnUoKSB7XG4gIDEyMjVcdCAgICAgICAgLy8gVOG6oW8gY29udGV4dCBtZW51XG4gIDEyMjZcdCAgICAgICAgQ29udGV4dE1lbnUgY29udGV4dE1lbnUgPSBuZXcgQ29udGV4dE1lbnUoKTtcbiAgMTIyN1x0XG4gIDEyMjhcdCAgICAgICAgLy8gVOG6oW8gbWVudSBpdGVtIFjDs2FcbiAgMTIyOVx0ICAgICAgICBNZW51SXRlbSBkZWxldGVJdGVtID0gbmV3IE1lbnVJdGVtKFwiWMOzYSBz4bqjbiBwaOG6qW1cIik7XG4gIDEyMzBcdCAgICAgICAgZGVsZXRlSXRlbS5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gIDEyMzFcdCAgICAgICAgICAgIC8vIEzhuqV5IHPhuqNuIHBo4bqpbSDEkcaw4bujYyBjaOG7jW5cbiAgMTIzMlx0ICAgICAgICAgICAgU2FuUGhhbSBzZWxlY3RlZFByb2R1Y3QgPSB0YWJsZVZpZXcuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgMTIzM1x0ICAgICAgICAgICAgaWYgKHNlbGVjdGVkUHJvZHVjdCAhPSBudWxsKSB7XG4gIDEyMzRcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHPhuqNuIHBo4bqpbSBraOG7j2kgZ2nhu48gaMOgbmdcbiAgMTIzNVx0ICAgICAgICAgICAgICAgIHJlbW92ZVByb2R1Y3RGcm9tQ2FydChzZWxlY3RlZFByb2R1Y3QuZ2V0TWFTUCgpKTtcbiAgMTIzNlx0ICAgICAgICAgICAgfVxuICAxMjM3XHQgICAgICAgIH0pO1xuICAxMjM4XHRcbiAgMTIzOVx0ICAgICAgICAvLyBU4bqhbyBtZW51IGl0ZW0gWMOzYSB04bqldCBj4bqjXG4gIDEyNDBcdCAgICAgICAgTWVudUl0ZW0gY2xlYXJBbGxJdGVtID0gbmV3IE1lbnVJdGVtKFwiWMOzYSB04bqldCBj4bqjXCIpO1xuICAxMjQxXHQgICAgICAgIGNsZWFyQWxsSXRlbS5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gIDEyNDJcdCAgICAgICAgICAgIC8vIFjDs2EgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgMTI0M1x0ICAgICAgICAgICAgY2xlYXJDYXJ0KCk7XG4gIDEyNDRcdCAgICAgICAgfSk7XG4gIDEyNDVcdFxuICAxMjQ2XHQgICAgICAgIC8vIFThuqFvIG1lbnUgaXRlbSBT4butYSBz4buRIGzGsOG7o25nXG4gIDEyNDdcdCAgICAgICAgTWVudUl0ZW0gZWRpdEl0ZW0gPSBuZXcgTWVudUl0ZW0oXCJT4butYSBz4buRIGzGsOG7o25nXCIpO1xuICAxMjQ4XHQgICAgICAgIGVkaXRJdGVtLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgMTI0OVx0ICAgICAgICAgICAgLy8gTOG6pXkgc+G6o24gcGjhuqltIMSRxrDhu6NjIGNo4buNblxuICAxMjUwXHQgICAgICAgICAgICBTYW5QaGFtIHNlbGVjdGVkUHJvZHVjdCA9IHRhYmxlVmlldy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAxMjUxXHQgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0ICE9IG51bGwpIHtcbiAgMTI1Mlx0ICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBo4buZcCB0aG/huqFpIG5o4bqtcCBz4buRIGzGsOG7o25nIG3hu5tpXG4gIDEyNTNcdCAgICAgICAgICAgICAgICBlZGl0UHJvZHVjdFF1YW50aXR5KHNlbGVjdGVkUHJvZHVjdCk7XG4gIDEyNTRcdCAgICAgICAgICAgIH1cbiAgMTI1NVx0ICAgICAgICB9KTtcbiAgMTI1Nlx0XG4gIDEyNTdcdCAgICAgICAgLy8gVGjDqm0gY8OhYyBtZW51IGl0ZW0gdsOgbyBjb250ZXh0IG1lbnVcbiAgMTI1OFx0ICAgICAgICBjb250ZXh0TWVudS5nZXRJdGVtcygpLmFkZEFsbChkZWxldGVJdGVtLCBlZGl0SXRlbSwgY2xlYXJBbGxJdGVtKTtcbiAgMTI1OVx0XG4gIDEyNjBcdCAgICAgICAgLy8gR8OhbiBjb250ZXh0IG1lbnUgY2hvIGLhuqNuZ1xuICAxMjYxXHQgICAgICAgIHRhYmxlVmlldy5zZXRDb250ZXh0TWVudShjb250ZXh0TWVudSk7XG4gIDEyNjJcdCAgICB9XG4gIDEyNjNcdFxuICAxMjY0XHQgICAgLyoqXG4gIDEyNjVcdCAgICAgKiBT4butYSBz4buRIGzGsOG7o25nIHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZ1xuICAxMjY2XHQgICAgICovXG4gIDEyNjdcdCAgICBwcml2YXRlIHZvaWQgZWRpdFByb2R1Y3RRdWFudGl0eShTYW5QaGFtIHByb2R1Y3QpIHtcbiAgMTI2OFx0ICAgICAgICB0cnkge1xuICAxMjY5XHQgICAgICAgICAgICAvLyBU4bqhbyBkaWFsb2cgxJHhu4Mgbmjhuq1wIHPhu5EgbMaw4bujbmcgbeG7m2lcbiAgMTI3MFx0ICAgICAgICAgICAgVGV4dElucHV0RGlhbG9nIGRpYWxvZyA9IG5ldyBUZXh0SW5wdXREaWFsb2cocHJvZHVjdFF1YW50aXRpZXMuZ2V0T3JEZWZhdWx0KHByb2R1Y3QuZ2V0TWFTUCgpLCAxKS50b1N0cmluZygpKTtcbiAgMTI3MVx0ICAgICAgICAgICAgZGlhbG9nLnNldFRpdGxlKFwiU+G7rWEgc+G7kSBsxrDhu6NuZ1wiKTtcbiAgMTI3Mlx0ICAgICAgICAgICAgZGlhbG9nLnNldEhlYWRlclRleHQoXCJT4bqjbiBwaOG6qW06IFwiICsgcHJvZHVjdC5nZXRUZW5TUCgpKTtcbiAgMTI3M1x0ICAgICAgICAgICAgZGlhbG9nLnNldENvbnRlbnRUZXh0KFwiTmjhuq1wIHPhu5EgbMaw4bujbmcgbeG7m2k6XCIpO1xuICAxMjc0XHRcbiAgMTI3NVx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGRpYWxvZyB2w6AgxJHhu6NpIGvhur90IHF14bqjXG4gIDEyNzZcdCAgICAgICAgICAgIGRpYWxvZy5zaG93QW5kV2FpdCgpLmlmUHJlc2VudChyZXN1bHQgLT4ge1xuICAxMjc3XHQgICAgICAgICAgICAgICAgdHJ5IHtcbiAgMTI3OFx0ICAgICAgICAgICAgICAgICAgICAvLyBDaHV54buDbiBr4bq/dCBxdeG6oyB0aMOgbmggc+G7kVxuICAxMjc5XHQgICAgICAgICAgICAgICAgICAgIGludCBuZXdRdWFudGl0eSA9IEludGVnZXIucGFyc2VJbnQocmVzdWx0KTtcbiAgMTI4MFx0XG4gIDEyODFcdCAgICAgICAgICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSBz4buRIGzGsOG7o25nIGjhu6NwIGzhu4dcbiAgMTI4Mlx0ICAgICAgICAgICAgICAgICAgICBpZiAobmV3UXVhbnRpdHkgPD0gMCkge1xuICAxMjgzXHQgICAgICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJT4buRIGzGsOG7o25nIHBo4bqjaSBs4bubbiBoxqFuIDAhXCIpO1xuICAxMjg0XHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gIDEyODVcdCAgICAgICAgICAgICAgICAgICAgfVxuICAxMjg2XHRcbiAgMTI4N1x0ICAgICAgICAgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHPhu5EgbMaw4bujbmcgdOG7k24ga2hvXG4gIDEyODhcdCAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1F1YW50aXR5ID4gcHJvZHVjdC5nZXRTb0x1b25nVG9uKCkpIHtcbiAgMTI4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIkPhuqNuaCBiw6FvXCIsIFwiU+G7kSBsxrDhu6NuZyB2xrDhu6N0IHF1w6Egc+G7kSBsxrDhu6NuZyB04buTbiBraG8gKFwiICsgcHJvZHVjdC5nZXRTb0x1b25nVG9uKCkgKyBcIikhXCIpO1xuICAxMjkwXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gIDEyOTFcdCAgICAgICAgICAgICAgICAgICAgfVxuICAxMjkyXHRcbiAgMTI5M1x0ICAgICAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgc+G7kSBsxrDhu6NuZ1xuICAxMjk0XHQgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RRdWFudGl0aWVzLnB1dChwcm9kdWN0LmdldE1hU1AoKSwgbmV3UXVhbnRpdHkpO1xuICAxMjk1XHRcbiAgMTI5Nlx0ICAgICAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgYuG6o25nIHbDoCB04buVbmcgdGnhu4FuXG4gIDEyOTdcdCAgICAgICAgICAgICAgICAgICAgdGFibGVWaWV3LnJlZnJlc2goKTtcbiAgMTI5OFx0ICAgICAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAxMjk5XHRcbiAgMTMwMFx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLklORk9STUFUSU9OLCBcIlRow7RuZyBiw6FvXCIsIFwixJDDoyBj4bqtcCBuaOG6rXQgc+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW0hXCIpO1xuICAxMzAxXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoTnVtYmVyRm9ybWF0RXhjZXB0aW9uIGUpIHtcbiAgMTMwMlx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiU+G7kSBsxrDhu6NuZyBwaOG6o2kgbMOgIHPhu5Egbmd1ecOqbiFcIik7XG4gIDEzMDNcdCAgICAgICAgICAgICAgICB9XG4gIDEzMDRcdCAgICAgICAgICAgIH0pO1xuICAxMzA1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDEzMDZcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzMDdcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4Mgc+G7rWEgc+G7kSBsxrDhu6NuZyBz4bqjbiBwaOG6qW06IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzA4XHQgICAgICAgIH1cbiAgMTMwOVx0ICAgIH1cbiAgMTMxMFx0XG4gIDEzMTFcdCAgICAvKipcbiAgMTMxMlx0ICAgICAqIFjDs2EgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmdcbiAgMTMxM1x0ICAgICAqL1xuICAxMzE0XHQgICAgcHJpdmF0ZSB2b2lkIGNsZWFyQ2FydCgpIHtcbiAgMTMxNVx0ICAgICAgICB0cnkge1xuICAxMzE2XHQgICAgICAgICAgICAvLyBLaeG7g20gdHJhIHhlbSBnaeG7jyBow6BuZyBjw7MgdHLhu5FuZyBraMO0bmdcbiAgMTMxN1x0ICAgICAgICAgICAgaWYgKGNhcnRJdGVtcy5pc0VtcHR5KCkpIHtcbiAgMTMxOFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiVGjDtG5nIGLDoW9cIiwgXCJHaeG7jyBow6BuZyDEkcOjIHRy4buRbmchXCIpO1xuICAxMzE5XHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAxMzIwXHQgICAgICAgICAgICB9XG4gIDEzMjFcdFxuICAxMzIyXHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgaOG7mXAgdGhv4bqhaSB4w6FjIG5o4bqtblxuICAxMzIzXHQgICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydFR5cGUuQ09ORklSTUFUSU9OKTtcbiAgMTMyNFx0ICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXCJYw6FjIG5o4bqtbiB4w7NhXCIpO1xuICAxMzI1XHQgICAgICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAxMzI2XHQgICAgICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIHThuqV0IGPhuqMgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nP1wiKTtcbiAgMTMyN1x0XG4gIDEzMjhcdCAgICAgICAgICAgIC8vIE7hur91IG5nxrDhu51pIGTDuW5nIG5o4bqlbiBPS1xuICAxMzI5XHQgICAgICAgICAgICBpZiAoYWxlcnQuc2hvd0FuZFdhaXQoKS5nZXQoKSA9PSBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b25UeXBlLk9LKSB7XG4gIDEzMzBcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHThuqV0IGPhuqMgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gIDEzMzFcdCAgICAgICAgICAgICAgICBjYXJ0SXRlbXMuY2xlYXIoKTtcbiAgMTMzMlx0ICAgICAgICAgICAgICAgIHByb2R1Y3RRdWFudGl0aWVzLmNsZWFyKCk7XG4gIDEzMzNcdCAgICAgICAgICAgICAgICB0YWJsZVZpZXcucmVmcmVzaCgpO1xuICAxMzM0XHRcbiAgMTMzNVx0ICAgICAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcgdGnhu4FuXG4gIDEzMzZcdCAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuICAxMzM3XHRcbiAgMTMzOFx0ICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuSU5GT1JNQVRJT04sIFwiVGjDtG5nIGLDoW9cIiwgXCLEkMOjIHjDs2EgdOG6pXQgY+G6oyBz4bqjbiBwaOG6qW0gdHJvbmcgZ2nhu48gaMOgbmchXCIpO1xuICAxMzM5XHQgICAgICAgICAgICB9XG4gIDEzNDBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM0MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM0Mlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyB4w7NhIGdp4buPIGjDoG5nOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM0M1x0ICAgICAgICB9XG4gIDEzNDRcdCAgICB9XG4gIDEzNDVcdFxuICAxMzQ2XHQgICAgLyoqXG4gIDEzNDdcdCAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBraGkgbmjhuqVuIG7DunQgxJHEg25nIHh14bqldFxuICAxMzQ4XHQgICAgICovXG4gIDEzNDlcdCAgICBARlhNTFxuICAxMzUwXHQgICAgcHJpdmF0ZSB2b2lkIGhhbmRsZURhbmdYdWF0Q2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAxMzUxXHQgICAgICAgIHRyeSB7XG4gIDEzNTJcdCAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBo4buZcCB0aG/huqFpIHjDoWMgbmjhuq1uXG4gIDEzNTNcdCAgICAgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0VHlwZS5DT05GSVJNQVRJT04pO1xuICAxMzU0XHQgICAgICAgICAgICBhbGVydC5zZXRUaXRsZShcIljDoWMgbmjhuq1uIMSRxINuZyB4deG6pXRcIik7XG4gIDEzNTVcdCAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gIDEzNTZcdCAgICAgICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIMSRxINuZyB4deG6pXQ/XCIpO1xuICAxMzU3XHRcbiAgMTM1OFx0ICAgICAgICAgICAgLy8gTuG6v3UgbmfGsOG7nWkgZMO5bmcgbmjhuqVuIE9LXG4gIDEzNTlcdCAgICAgICAgICAgIGlmIChhbGVydC5zaG93QW5kV2FpdCgpLmdldCgpID09IGphdmFmeC5zY2VuZS5jb250cm9sLkJ1dHRvblR5cGUuT0spIHtcbiAgMTM2MFx0ICAgICAgICAgICAgICAgIC8vIENodXnhu4NuIHbhu4EgbcOgbiBow6xuaCDEkcSDbmcgbmjhuq1wXG4gIDEzNjFcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9Mb2dpbl9ndWkuZnhtbFwiKSk7XG4gIDEzNjJcdCAgICAgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gIDEzNjNcdCAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgMTM2NFx0XG4gIDEzNjVcdCAgICAgICAgICAgICAgICAvLyBM4bqleSBzdGFnZSBoaeG7h24gdOG6oWlcbiAgMTM2Nlx0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBidG5fZGFuZ1h1YXQuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgMTM2N1x0XG4gIDEzNjhcdCAgICAgICAgICAgICAgICAvLyBUaGnhur90IGzhuq1wIHNjZW5lIG3hu5tpXG4gIDEzNjlcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gIDEzNzBcdCAgICAgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIsSQxINuZyBuaOG6rXBcIik7XG4gIDEzNzFcdFxuICAxMzcyXHQgICAgICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAgaGnhu4duIHThuqFpXG4gIDEzNzNcdCAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSBudWxsO1xuICAxMzc0XHQgICAgICAgICAgICAgICAgQXBwLnVzZXIgPSBudWxsO1xuICAxMzc1XHQgICAgICAgICAgICAgICAgQXBwLm1hID0gbnVsbDtcbiAgMTM3Nlx0XG4gIDEzNzdcdCAgICAgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgMTM3OFx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgMTM3OVx0XG4gIDEzODBcdCAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCLEkMOjIMSRxINuZyB4deG6pXQgdGjDoG5oIGPDtG5nXCIpO1xuICAxMzgxXHQgICAgICAgICAgICB9XG4gIDEzODJcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM4M1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM4NFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDEkcSDbmcgeHXhuqV0OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM4NVx0ICAgICAgICB9XG4gIDEzODZcdCAgICB9XG4gIDEzODdcdFxuICAxMzg4XHQgICAgLyoqXG4gIDEzODlcdCAgICAgKiDDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoSAoZ+G7jWkgdOG7qyBGWE1MKVxuICAxMzkwXHQgICAgICovXG4gIDEzOTFcdCAgICBARlhNTFxuICAxMzkyXHQgICAgcHJpdmF0ZSB2b2lkIGFwRHVuZ01hR2lhbUdpYShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gIDEzOTNcdCAgICAgICAgYXBEdW5nTWFHaWFtR2lhKCk7XG4gIDEzOTRcdCAgICB9XG4gIDEzOTVcdFxuICAxMzk2XHQgICAgLyoqXG4gIDEzOTdcdCAgICAgKiDDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoVxuICAxMzk4XHQgICAgICovXG4gIDEzOTlcdCAgICBwcml2YXRlIHZvaWQgYXBEdW5nTWFHaWFtR2lhKCkge1xuICAxNDAwXHQgICAgICAgIHRyeSB7XG4gIDE0MDFcdCAgICAgICAgICAgIGlmICh0eHRfbWFHaWFtR2lhICE9IG51bGwpIHtcbiAgMTQwMlx0ICAgICAgICAgICAgICAgIFN0cmluZyBtYUdpYW1HaWEgPSB0eHRfbWFHaWFtR2lhLmdldFRleHQoKS50cmltKCk7XG4gIDE0MDNcdFxuICAxNDA0XHQgICAgICAgICAgICAgICAgaWYgKG1hR2lhbUdpYS5pc0VtcHR5KCkpIHtcbiAgMTQwNVx0ICAgICAgICAgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiQ+G6o25oIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIG3DoyBnaeG6o20gZ2nDoSFcIik7XG4gIDE0MDZcdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAxNDA3XHQgICAgICAgICAgICAgICAgfVxuICAxNDA4XHRcbiAgMTQwOVx0ICAgICAgICAgICAgICAgIC8vIFRPRE86IEtp4buDbSB0cmEgbcOjIGdp4bqjbSBnacOhIHRyb25nIGPGoSBz4bufIGThu68gbGnhu4d1XG4gIDE0MTBcdCAgICAgICAgICAgICAgICAvLyDEkMOieSBsw6AgbeG7mXQgdsOtIGThu6UgxJHGoW4gZ2nhuqNuXG4gIDE0MTFcdCAgICAgICAgICAgICAgICBkb3VibGUgZ2lhbUdpYSA9IDA7XG4gIDE0MTJcdFxuICAxNDEzXHQgICAgICAgICAgICAgICAgaWYgKG1hR2lhbUdpYS5lcXVhbHMoXCJTQUxFMTBcIikpIHtcbiAgMTQxNFx0ICAgICAgICAgICAgICAgICAgICBnaWFtR2lhID0gY2FsY3VsYXRlU3VidG90YWwoKSAqIDAuMTsgLy8gR2nhuqNtIDEwJVxuICAxNDE1XHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYUdpYW1HaWEuZXF1YWxzKFwiU0FMRTIwXCIpKSB7XG4gIDE0MTZcdCAgICAgICAgICAgICAgICAgICAgZ2lhbUdpYSA9IGNhbGN1bGF0ZVN1YnRvdGFsKCkgKiAwLjI7IC8vIEdp4bqjbSAyMCVcbiAgMTQxN1x0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFHaWFtR2lhLmVxdWFscyhcIlNBTEU1MFwiKSkge1xuICAxNDE4XHQgICAgICAgICAgICAgICAgICAgIGdpYW1HaWEgPSBjYWxjdWxhdGVTdWJ0b3RhbCgpICogMC41OyAvLyBHaeG6o20gNTAlXG4gIDE0MTlcdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAxNDIwXHQgICAgICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJNw6MgZ2nhuqNtIGdpw6Ega2jDtG5nIGjhu6NwIGzhu4chXCIpO1xuICAxNDIxXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgMTQyMlx0ICAgICAgICAgICAgICAgIH1cbiAgMTQyM1x0XG4gIDE0MjRcdCAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgZ2nhuqNtIGdpw6FcbiAgMTQyNVx0ICAgICAgICAgICAgICAgIE51bWJlckZvcm1hdCBjdXJyZW5jeUZvcm1hdCA9IE51bWJlckZvcm1hdC5nZXRDdXJyZW5jeUluc3RhbmNlKG5ldyBMb2NhbGUoXCJ2aVwiLCBcIlZOXCIpKTtcbiAgMTQyNlx0ICAgICAgICAgICAgICAgIGlmIChsYl9naWFtR2lhICE9IG51bGwpIHtcbiAgMTQyN1x0ICAgICAgICAgICAgICAgICAgICBsYl9naWFtR2lhLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KGdpYW1HaWEpKTtcbiAgMTQyOFx0ICAgICAgICAgICAgICAgIH1cbiAgMTQyOVx0XG4gIDE0MzBcdCAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdOG7lW5nIHRoYW5oIHRvw6FuXG4gIDE0MzFcdCAgICAgICAgICAgICAgICBkb3VibGUgdG9uZ1RpZW4gPSBjYWxjdWxhdGVTdWJ0b3RhbCgpICsgY2FsY3VsYXRlVkFUKGNhbGN1bGF0ZVN1YnRvdGFsKCkpIC0gZ2lhbUdpYTtcbiAgMTQzMlx0ICAgICAgICAgICAgICAgIGlmIChsYl90b25nVGhhbmhUb2FuICE9IG51bGwpIHtcbiAgMTQzM1x0ICAgICAgICAgICAgICAgICAgICBsYl90b25nVGhhbmhUb2FuLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KHRvbmdUaWVuKSk7XG4gIDE0MzRcdCAgICAgICAgICAgICAgICB9XG4gIDE0MzVcdFxuICAxNDM2XHQgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5JTkZPUk1BVElPTiwgXCJUaMOgbmggY8O0bmdcIiwgXCLDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoSB0aMOgbmggY8O0bmchXCIpO1xuICAxNDM3XHQgICAgICAgICAgICB9XG4gIDE0MzhcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTQzOVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTQ0MFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDDoXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDE0NDFcdCAgICAgICAgfVxuICAxNDQyXHQgICAgfVxuICAxNDQzXHRcbiAgMTQ0NFx0ICAgIC8qKlxuICAxNDQ1XHQgICAgICogQ+G6rXAgbmjhuq10IHThu5VuZyB0aeG7gW4gdHJvbmcgZ2nhu48gaMOgbmdcbiAgMTQ0Nlx0ICAgICAqL1xuICAxNDQ3XHQgICAgcHJpdmF0ZSB2b2lkIHVwZGF0ZVRvdGFsQW1vdW50KCkge1xuICAxNDQ4XHQgICAgICAgIHRyeSB7XG4gIDE0NDlcdCAgICAgICAgICAgIC8vIFTDrW5oIHThu5VuZyBz4buRIHPhuqNuIHBo4bqpbSAoc+G7kSBsb+G6oWkgc+G6o24gcGjhuqltKVxuICAxNDUwXHQgICAgICAgICAgICBpbnQgdG9uZ1NvU1AgPSBjYXJ0SXRlbXMuc2l6ZSgpO1xuICAxNDUxXHQgICAgICAgICAgICBpZiAobGJfdG9uZ1NvU1AgIT0gbnVsbCkge1xuICAxNDUyXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1NvU1Auc2V0VGV4dChTdHJpbmcudmFsdWVPZih0b25nU29TUCkpO1xuICAxNDUzXHQgICAgICAgICAgICB9XG4gIDE0NTRcdFxuICAxNDU1XHQgICAgICAgICAgICAvLyBUw61uaCB04buVbmcgc+G7kSBsxrDhu6NuZyAodOG7lW5nIHPhu5EgbeG6t3QgaMOgbmcpXG4gIDE0NTZcdCAgICAgICAgICAgIGludCB0b25nU0wgPSAwO1xuICAxNDU3XHQgICAgICAgICAgICBmb3IgKEludGVnZXIgcXVhbnRpdHkgOiBwcm9kdWN0UXVhbnRpdGllcy52YWx1ZXMoKSkge1xuICAxNDU4XHQgICAgICAgICAgICAgICAgdG9uZ1NMICs9IHF1YW50aXR5O1xuICAxNDU5XHQgICAgICAgICAgICB9XG4gIDE0NjBcdCAgICAgICAgICAgIGlmIChsYl90b25nU0wgIT0gbnVsbCkge1xuICAxNDYxXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1NMLnNldFRleHQoU3RyaW5nLnZhbHVlT2YodG9uZ1NMKSk7XG4gIDE0NjJcdCAgICAgICAgICAgIH1cbiAgMTQ2M1x0XG4gIDE0NjRcdCAgICAgICAgICAgIC8vIFTDrW5oIHThuqFtIHTDrW5oICh04buVbmcgdGnhu4FuIGjDoG5nIGNoxrBhIGJhbyBn4buTbSB0aHXhur8pXG4gIDE0NjVcdCAgICAgICAgICAgIGRvdWJsZSB0YW1UaW5oID0gY2FsY3VsYXRlU3VidG90YWwoKTtcbiAgMTQ2Nlx0ICAgICAgICAgICAgTnVtYmVyRm9ybWF0IGN1cnJlbmN5Rm9ybWF0ID0gTnVtYmVyRm9ybWF0LmdldEN1cnJlbmN5SW5zdGFuY2UobmV3IExvY2FsZShcInZpXCIsIFwiVk5cIikpO1xuICAxNDY3XHQgICAgICAgICAgICBpZiAobGJfdGFtVGluaCAhPSBudWxsKSB7XG4gIDE0NjhcdCAgICAgICAgICAgICAgICBsYl90YW1UaW5oLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KHRhbVRpbmgpKTtcbiAgMTQ2OVx0ICAgICAgICAgICAgfVxuICAxNDcwXHRcbiAgMTQ3MVx0ICAgICAgICAgICAgLy8gVMOtbmggdOG7lW5nIHRp4buBbiAoYmFvIGfhu5NtIHRodeG6vylcbiAgMTQ3Mlx0ICAgICAgICAgICAgZG91YmxlIHRvdGFsID0gY2FsY3VsYXRlVG90YWwoKTtcbiAgMTQ3M1x0ICAgICAgICAgICAgaWYgKGxiX3RvbmdUaWVuICE9IG51bGwpIHtcbiAgMTQ3NFx0ICAgICAgICAgICAgICAgIGxiX3RvbmdUaWVuLnNldFRleHQoY3VycmVuY3lGb3JtYXQuZm9ybWF0KHRvdGFsKSk7XG4gIDE0NzVcdCAgICAgICAgICAgIH1cbiAgMTQ3Nlx0XG4gIDE0NzdcdCAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcgdGhhbmggdG/DoW5cbiAgMTQ3OFx0ICAgICAgICAgICAgZG91YmxlIHRvbmdUaWVuID0gdG90YWw7XG4gIDE0NzlcdFxuICAxNDgwXHQgICAgICAgICAgICAvLyBUcuG7qyBnaeG6o20gZ2nDoSBu4bq/dSBjw7NcbiAgMTQ4MVx0ICAgICAgICAgICAgaWYgKGxiX2dpYW1HaWEgIT0gbnVsbCAmJiAhbGJfZ2lhbUdpYS5nZXRUZXh0KCkuZXF1YWxzKFwiMCBWTsSQXCIpKSB7XG4gIDE0ODJcdCAgICAgICAgICAgICAgICB0cnkge1xuICAxNDgzXHQgICAgICAgICAgICAgICAgICAgIFN0cmluZyBnaWFtR2lhU3RyID0gbGJfZ2lhbUdpYS5nZXRUZXh0KCkucmVwbGFjZUFsbChcIlteXFxcXGRdXCIsIFwiXCIpO1xuICAxNDg0XHQgICAgICAgICAgICAgICAgICAgIGRvdWJsZSBnaWFtR2lhID0gRG91YmxlLnBhcnNlRG91YmxlKGdpYW1HaWFTdHIpO1xuICAxNDg1XHQgICAgICAgICAgICAgICAgICAgIHRvbmdUaWVuIC09IGdpYW1HaWE7XG4gIDE0ODZcdCAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxNDg3XHQgICAgICAgICAgICAgICAgICAgIC8vIEtow7RuZyBsw6BtIGfDrCBu4bq/dSBraMO0bmcgdGjhu4MgY2h1eeG7g24gxJHhu5VpXG4gIDE0ODhcdCAgICAgICAgICAgICAgICB9XG4gIDE0ODlcdCAgICAgICAgICAgIH1cbiAgMTQ5MFx0XG4gIDE0OTFcdCAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcgdGhhbmggdG/DoW5cbiAgMTQ5Mlx0ICAgICAgICAgICAgaWYgKGxiX3RvbmdUaGFuaFRvYW4gIT0gbnVsbCkge1xuICAxNDkzXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1RoYW5oVG9hbi5zZXRUZXh0KGN1cnJlbmN5Rm9ybWF0LmZvcm1hdCh0b25nVGllbikpO1xuICAxNDk0XHQgICAgICAgICAgICB9XG4gIDE0OTVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTQ5Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTQ5N1x0ICAgICAgICAgICAgLy8gWOG7rSBsw70gbOG7l2kgdsOgIMSR4bq3dCBnacOhIHRy4buLIG3hurdjIMSR4buLbmhcbiAgMTQ5OFx0ICAgICAgICAgICAgaWYgKGxiX3RvbmdTb1NQICE9IG51bGwpIHtcbiAgMTQ5OVx0ICAgICAgICAgICAgICAgIGxiX3RvbmdTb1NQLnNldFRleHQoXCIwXCIpO1xuICAxNTAwXHQgICAgICAgICAgICB9XG4gIDE1MDFcdCAgICAgICAgICAgIGlmIChsYl90b25nU0wgIT0gbnVsbCkge1xuICAxNTAyXHQgICAgICAgICAgICAgICAgbGJfdG9uZ1NMLnNldFRleHQoXCIwXCIpO1xuICAxNTAzXHQgICAgICAgICAgICB9XG4gIDE1MDRcdCAgICAgICAgICAgIGlmIChsYl90YW1UaW5oICE9IG51bGwpIHtcbiAgMTUwNVx0ICAgICAgICAgICAgICAgIGxiX3RhbVRpbmguc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgMTUwNlx0ICAgICAgICAgICAgfVxuICAxNTA3XHQgICAgICAgICAgICBpZiAobGJfdG9uZ1RpZW4gIT0gbnVsbCkge1xuICAxNTA4XHQgICAgICAgICAgICAgICAgbGJfdG9uZ1RpZW4uc2V0VGV4dChcIjAgVk7EkFwiKTtcbiAgMTUwOVx0ICAgICAgICAgICAgfVxuICAxNTEwXHQgICAgICAgICAgICBpZiAobGJfdG9uZ1RoYW5oVG9hbiAhPSBudWxsKSB7XG4gIDE1MTFcdCAgICAgICAgICAgICAgICBsYl90b25nVGhhbmhUb2FuLnNldFRleHQoXCIwIFZOxJBcIik7XG4gIDE1MTJcdCAgICAgICAgICAgIH1cbiAgMTUxM1x0ICAgICAgICB9XG4gIDE1MTRcdCAgICB9XG4gIDE1MTVcdFxuICAxNTE2XHQgICAgLyoqXG4gIDE1MTdcdCAgICAgKiBY4butIGzDvSBz4buxIGtp4buHbiBraGkgbmjhuqVuIG7DunQgdGhhbmggdG/DoW5cbiAgMTUxOFx0ICAgICAqL1xuICAxNTE5XHQgICAgQEZYTUxcbiAgMTUyMFx0ICAgIHZvaWQgdGhhbmhUb2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTUyMVx0ICAgICAgICBpZiAoY2FydEl0ZW1zLmlzRW1wdHkoKSkge1xuICAxNTIyXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJHaeG7jyBow6BuZyB0cuG7kW5nIVwiKTtcbiAgMTUyM1x0ICAgICAgICAgICAgcmV0dXJuO1xuICAxNTI0XHQgICAgICAgIH1cbiAgMTUyNVx0XG4gIDE1MjZcdCAgICAgICAgLy8gS2nhu4NtIHRyYSB4ZW0ga2jDoWNoIGjDoG5nIMSRw6MgdHLhuqMgxJHhu6cgdGnhu4FuIGNoxrBhXG4gIDE1MjdcdCAgICAgICAgaWYgKHR4dF90aWVuS2hhY2hUcmEuZ2V0VGV4dCgpLnRyaW0oKS5pc0VtcHR5KCkpIHtcbiAgMTUyOFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCBz4buRIHRp4buBbiBraMOhY2ggdHLhuqMhXCIpO1xuICAxNTI5XHQgICAgICAgICAgICB0eHRfdGllbktoYWNoVHJhLnJlcXVlc3RGb2N1cygpO1xuICAxNTMwXHQgICAgICAgICAgICByZXR1cm47XG4gIDE1MzFcdCAgICAgICAgfVxuICAxNTMyXHRcbiAgMTUzM1x0ICAgICAgICAvLyBLaeG7g20gdHJhIHhlbSB0aeG7gW4gdGjhu6thIGPDsyDDom0ga2jDtG5nXG4gIDE1MzRcdCAgICAgICAgaWYgKGxiX3RpZW5UaHVhLmdldFRleHQoKS5zdGFydHNXaXRoKFwiLVwiKSkge1xuICAxNTM1XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJT4buRIHRp4buBbiBraMOhY2ggdHLhuqMgY2jGsGEgxJHhu6chXCIpO1xuICAxNTM2XHQgICAgICAgICAgICB0eHRfdGllbktoYWNoVHJhLnJlcXVlc3RGb2N1cygpO1xuICAxNTM3XHQgICAgICAgICAgICByZXR1cm47XG4gIDE1MzhcdCAgICAgICAgfVxuICAxNTM5XHRcbiAgMTU0MFx0ICAgICAgICAvLyBYw6FjIG5o4bqtbiB0aGFuaCB0b8OhblxuICAxNTQxXHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0VHlwZS5DT05GSVJNQVRJT04pO1xuICAxNTQyXHQgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiWMOhYyBuaOG6rW4gdGhhbmggdG/DoW5cIik7XG4gIDE1NDNcdCAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgMTU0NFx0XG4gIDE1NDVcdCAgICAgICAgLy8gVOG6oW8gbuG7mWkgZHVuZyB4w6FjIG5o4bqtbiBjaGkgdGnhur90IGjGoW5cbiAgMTU0Nlx0ICAgICAgICBTdHJpbmdCdWlsZGVyIGNvbnRlbnQgPSBuZXcgU3RyaW5nQnVpbGRlcihcIlRow7RuZyB0aW4gdGhhbmggdG/DoW46XFxuXCIpO1xuICAxNTQ3XHQgICAgICAgIGNvbnRlbnQuYXBwZW5kKFwiVOG7lW5nIHPhuqNuIHBo4bqpbTogXCIpLmFwcGVuZChjYXJ0SXRlbXMuc2l6ZSgpKS5hcHBlbmQoXCJcXG5cIik7XG4gIDE1NDhcdFxuICAxNTQ5XHQgICAgICAgIC8vIEzhuqV5IHThu5VuZyB0aeG7gW4gdOG7qyBsYl90b25nVGhhbmhUb2FuXG4gIDE1NTBcdCAgICAgICAgU3RyaW5nIHRvbmdUaWVuID0gXCIwIFZOxJBcIjtcbiAgMTU1MVx0ICAgICAgICBpZiAobGJfdG9uZ1RoYW5oVG9hbiAhPSBudWxsKSB7XG4gIDE1NTJcdCAgICAgICAgICAgIHRvbmdUaWVuID0gbGJfdG9uZ1RoYW5oVG9hbi5nZXRUZXh0KCk7XG4gIDE1NTNcdCAgICAgICAgfSBlbHNlIGlmIChsYl90b25nVGllbiAhPSBudWxsKSB7XG4gIDE1NTRcdCAgICAgICAgICAgIHRvbmdUaWVuID0gbGJfdG9uZ1RpZW4uZ2V0VGV4dCgpO1xuICAxNTU1XHQgICAgICAgIH1cbiAgMTU1Nlx0ICAgICAgICBjb250ZW50LmFwcGVuZChcIlThu5VuZyB0aGFuaCB0b8OhbjogXCIpLmFwcGVuZCh0b25nVGllbikuYXBwZW5kKFwiXFxuXCIpO1xuICAxNTU3XHRcbiAgMTU1OFx0ICAgICAgICAvLyBM4bqleSBwaMawxqFuZyB0aOG7qWMgdGhhbmggdG/DoW5cbiAgMTU1OVx0ICAgICAgICBTdHJpbmcgcGh1b25nVGh1YyA9IFwiVGnhu4FuIG3hurd0XCI7XG4gIDE1NjBcdCAgICAgICAgaWYgKHJiX2NodXllbktob2FuICE9IG51bGwgJiYgcmJfY2h1eWVuS2hvYW4uaXNTZWxlY3RlZCgpKSB7XG4gIDE1NjFcdCAgICAgICAgICAgIHBodW9uZ1RodWMgPSBcIkNodXnhu4NuIGtob+G6o25cIjtcbiAgMTU2Mlx0ICAgICAgICB9IGVsc2UgaWYgKHJiX3RoZSAhPSBudWxsICYmIHJiX3RoZS5pc1NlbGVjdGVkKCkpIHtcbiAgMTU2M1x0ICAgICAgICAgICAgcGh1b25nVGh1YyA9IFwiVGjhurtcIjtcbiAgMTU2NFx0ICAgICAgICB9XG4gIDE1NjVcdCAgICAgICAgY29udGVudC5hcHBlbmQoXCJQaMawxqFuZyB0aOG7qWMgdGhhbmggdG/DoW46IFwiKS5hcHBlbmQocGh1b25nVGh1YykuYXBwZW5kKFwiXFxuXCIpO1xuICAxNTY2XHRcbiAgMTU2N1x0ICAgICAgICAvLyBM4bqleSBnaGkgY2jDuiBu4bq/dSBjw7NcbiAgMTU2OFx0ICAgICAgICBpZiAodGFfZ2hpQ2h1ICE9IG51bGwgJiYgIXRhX2doaUNodS5nZXRUZXh0KCkudHJpbSgpLmlzRW1wdHkoKSkge1xuICAxNTY5XHQgICAgICAgICAgICBjb250ZW50LmFwcGVuZChcIkdoaSBjaMO6OiBcIikuYXBwZW5kKHRhX2doaUNodS5nZXRUZXh0KCkudHJpbSgpKS5hcHBlbmQoXCJcXG48cmVzcG9uc2UgY2xpcHBlZD48Tk9URT5UbyBzYXZlIG9uIGNvbnRleHQgb25seSBwYXJ0IG9mIHRoaXMgZmlsZSBoYXMgYmVlbiBzaG93biB0byB5b3UuPC9OT1RFPlxuVG90YWwgbGluZXMgaW4gZmlsZTogMTY5NlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjA3MTA5MzMtZGQ3ZS00MmI1LWI2YWItZTZmZDhkNGMyZDgzO3Rvb2x1X3ZydHhfMDFUSmJzYVBRVGtBdGNKQVJSeXhHSlB1Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDQzOFx0ICAgICAgICB0b29sc1NsaWRlcih0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuICAgNDM5XHQgICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgNDQwXHQgICAgfVxuICAgNDQxXHRcbiAgIDQ0Mlx0ICAgIEBGWE1MXG4gICA0NDNcdCAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NDRcdCAgICAgICAgdHJ5IHtcbiAgIDQ0NVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdVxuICAgNDQ2XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1RyYUN1dV9ndWkuZnhtbFwiKTtcbiAgIDQ0N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDQ4XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNDQ5XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdHJhIGPhu6l1OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgIDQ1MFx0XG4gICA0NTFcdCAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgNDUyXHQgICAgICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgIDQ1M1x0ICAgICAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG4gICA0NTRcdFxuICAgNDU1XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgZ2lhbyBkaeG7h24gdMOsbSBraeG6v21cbiAgIDQ1Nlx0ICAgICAgICAgICAgc2hvd1NlYXJjaEludGVyZmFjZSgpO1xuICAgNDU3XHQgICAgICAgIH1cbiAgIDQ1OFx0ICAgIH1cbiAgIDQ1OVx0XG4gICA0NjBcdCAgICBARlhNTFxuICAgNDYxXHQgICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ2Mlx0ICAgICAgICB0cnkge1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI3MGY2ZDZhZi1mYjM2LTQ1ZDEtYTY1ZS05ODljZjg0YWQ5OWE7dG9vbHVfdnJ0eF8wMThyOENMU21CREUxQ3h4c2NQRlhYeFIiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YTpcbiAgMTM0OVx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAxMzUwXHRcbiAgMTM1MVx0ICAgICAgICAgICAgICAgIC8vIEzhuqV5IHN0YWdlIGhp4buHbiB04bqhaVxuICAxMzUyXHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGJ0bl9kYW5nWHVhdC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAxMzUzXHRcbiAgMTM1NFx0ICAgICAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgMTM1NVx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgMTM1Nlx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwixJDEg25nIG5o4bqtcFwiKTtcbiAgMTM1N1x0XG4gIDEzNThcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcCBoaeG7h24gdOG6oWlcbiAgMTM1OVx0ICAgICAgICAgICAgICAgIEFwcC50YWlLaG9hbiA9IG51bGw7XG4gIDEzNjBcdCAgICAgICAgICAgICAgICBBcHAudXNlciA9IG51bGw7XG4gIDEzNjFcdCAgICAgICAgICAgICAgICBBcHAubWEgPSBudWxsO1xuICAxMzYyXHRcbiAgMTM2M1x0ICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBzdGFnZVxuICAxMzY0XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAxMzY1XHRcbiAgMTM2Nlx0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsSQw6MgxJHEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIik7XG4gIDEzNjdcdCAgICAgICAgICAgIH1cbiAgMTM2OFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxMzY5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAxMzcwXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIMSRxINuZyB4deG6pXQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzcxXHQgICAgICAgIH1cbiAgMTM3Mlx0ICAgIH1cbiAgMTM3M1x0XG4gIDEzNzRcdCAgICAvKipcbiAgMTM3NVx0ICAgICAqIMOBcCBk4bulbmcgbcOjIGdp4bqjbSBnacOhIChn4buNaSB04burIEZYTUwpXG4gIDEzNzZcdCAgICAgKi9cbiAgMTM3N1x0ICAgIEBGWE1MXG4gIDEzNzhcdCAgICBwcml2YXRlIHZvaWQgYXBEdW5nTWFHaWFtR2lhKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTM3OVx0ICAgICAgICBhcER1bmdNYUdpYW1HaWEoKTtcbiAgMTM4MFx0ICAgIH1cbiAgMTM4MVx0XG4gIDEzODJcdCAgICAvKipcbiAgMTM4M1x0ICAgICAqIMOBcCBk4bulbmcgbcOjIGdp4bqjbSBnacOhXG4gIDEzODRcdCAgICAgKi9cbiAgMTM4NVx0ICAgIHByaXZhdGUgdm9pZCBhcER1bmdNYUdpYW1HaWEoKSB7XG4gIDEzODZcdCAgICAgICAgdHJ5IHtcblRvdGFsIGxpbmVzIGluIGZpbGU6IDE2ODJcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImE5NWViZmZiLTFjMGQtNGFjMS04YWZjLTZiODRmMDhmN2E2MTt0b29sdV92cnR4XzAxSzFpczFkUXpQekg4d25MYlJ3eWNZMSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOlxuICAxMzQ5XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gIDEzNTBcdFxuICAxMzUxXHQgICAgICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gIDEzNTJcdCAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgYnRuX2RhbmdYdWF0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gIDEzNTNcdFxuICAxMzU0XHQgICAgICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBzY2VuZSBt4bubaVxuICAxMzU1XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAxMzU2XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAxMzU3XHRcbiAgMTM1OFx0ICAgICAgICAgICAgICAgIC8vIFjDs2EgdGjDtG5nIHRpbiDEkcSDbmcgbmjhuq1wIGhp4buHbiB04bqhaVxuICAxMzU5XHQgICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gbnVsbDtcbiAgMTM2MFx0ICAgICAgICAgICAgICAgIEFwcC51c2VyID0gbnVsbDtcbiAgMTM2MVx0ICAgICAgICAgICAgICAgIEFwcC5tYSA9IG51bGw7XG4gIDEzNjJcdFxuICAxMzYzXHQgICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHN0YWdlXG4gIDEzNjRcdCAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gIDEzNjVcdFxuICAxMzY2XHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwixJDDoyDEkcSDbmcgeHXhuqV0IHRow6BuaCBjw7RuZ1wiKTtcbiAgMTM2N1x0ICAgICAgICAgICAgfVxuICAxMzY4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDEzNjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzNzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgxJHEg25nIHh14bqldDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDEzNzFcdCAgICAgICAgfVxuICAxMzcyXHQgICAgfVxuVG90YWwgbGluZXMgaW4gZmlsZTogMTY4MlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNDE4NTgxNjQtZDBkZi00YWMwLWE2ODQtZTM0MTRhMjM4MGJiO3Rvb2x1X3ZydHhfMDFTRlJtN1BrNFRXd3lFS2h6aGhLUkRiIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4gIDEzNDBcdCAgICAgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiWMOhYyBuaOG6rW4gxJHEg25nIHh14bqldFwiKTtcbiAgMTM0MVx0ICAgICAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgMTM0Mlx0ICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gxJHEg25nIHh14bqldD9cIik7XG4gIDEzNDNcdFxuICAxMzQ0XHQgICAgICAgICAgICAvLyBO4bq/dSBuZ8aw4budaSBkw7luZyBuaOG6pW4gT0tcbiAgMTM0NVx0ICAgICAgICAgICAgaWYgKGFsZXJ0LnNob3dBbmRXYWl0KCkuZ2V0KCkgPT0gamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uVHlwZS5PSykge1xuICAxMzQ2XHQgICAgICAgICAgICAgICAgLy8gQ2h1eeG7g24gduG7gSBtw6BuIGjDrG5oIMSRxINuZyBuaOG6rXBcbiAgMTM0N1x0ICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL0xvZ2luX2d1aS5meG1sXCIpKTtcbiAgMTM0OFx0ICAgICAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgMTM0OVx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAxMzUwXHRcbiAgMTM1MVx0ICAgICAgICAgICAgICAgIC8vIEzhuqV5IHN0YWdlIGhp4buHbiB04bqhaVxuICAxMzUyXHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGJ0bl9kYW5nWHVhdC5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAxMzUzXHRcbiAgMTM1NFx0ICAgICAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgMTM1NVx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgMTM1Nlx0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFRpdGxlKFwixJDEg25nIG5o4bqtcFwiKTtcbiAgMTM1N1x0XG4gIDEzNThcdCAgICAgICAgICAgICAgICAvLyBYw7NhIHRow7RuZyB0aW4gxJHEg25nIG5o4bqtcCBoaeG7h24gdOG6oWlcbiAgMTM1OVx0ICAgICAgICAgICAgICAgIEFwcC50YWlLaG9hbiA9IG51bGw7XG4gIDEzNjBcdCAgICAgICAgICAgICAgICBBcHAudXNlciA9IG51bGw7XG4gIDEzNjFcdCAgICAgICAgICAgICAgICBBcHAubWEgPSBudWxsO1xuICAxMzYyXHRcbiAgMTM2M1x0ICAgICAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBzdGFnZVxuICAxMzY0XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAxMzY1XHRcbiAgMTM2Nlx0ICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsSQw6MgxJHEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIik7XG4gIDEzNjdcdCAgICAgICAgICAgIH1cbiAgMTM2OFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxMzY5XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAxMzcwXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIMSRxINuZyB4deG6pXQ6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzcxXHQgICAgICAgIH1cbiAgMTM3Mlx0ICAgIH1cblRvdGFsIGxpbmVzIGluIGZpbGU6IDE2ODJcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjk3YTUzYTAwLWM0NDAtNDJiYy1hNmM1LWUzZjFlY2M3ZWJiYzt0b29sdV92cnR4XzAxQ2VBeHFzaUJNRkt1YmI0YmhmdFlUMiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhOlxuICAxMzMwXHQgICAgfVxuICAxMzMxXHRcbiAgMTMzMlx0ICAgIC8qKlxuICAxMzMzXHQgICAgICogWOG7rSBsw70gc+G7sSBraeG7h24ga2hpIG5o4bqlbiBuw7p0IMSRxINuZyB4deG6pXRcbiAgMTMzNFx0ICAgICAqL1xuICAxMzM1XHQgICAgQEZYTUxcbiAgMTMzNlx0ICAgIHByaXZhdGUgdm9pZCBoYW5kbGVEYW5nWHVhdENsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgMTMzN1x0ICAgICAgICB0cnkge1xuICAxMzM4XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgaOG7mXAgdGhv4bqhaSB4w6FjIG5o4bqtblxuICAxMzM5XHQgICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydFR5cGUuQ09ORklSTUFUSU9OKTtcbiAgMTM0MFx0ICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXCJYw6FjIG5o4bqtbiDEkcSDbmcgeHXhuqV0XCIpO1xuICAxMzQxXHQgICAgICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAxMzQyXHQgICAgICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiDEkcSDbmcgeHXhuqV0P1wiKTtcbiAgMTM0M1x0XG4gIDEzNDRcdCAgICAgICAgICAgIC8vIE7hur91IG5nxrDhu51pIGTDuW5nIG5o4bqlbiBPS1xuICAxMzQ1XHQgICAgICAgICAgICBpZiAoYWxlcnQuc2hvd0FuZFdhaXQoKS5nZXQoKSA9PSBqYXZhZnguc2NlbmUuY29udHJvbC5CdXR0b25UeXBlLk9LKSB7XG4gIDEzNDZcdCAgICAgICAgICAgICAgICAvLyBDaHV54buDbiB24buBIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAxMzQ3XHQgICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvTG9naW5fZ3VpLmZ4bWxcIikpO1xuICAxMzQ4XHQgICAgICAgICAgICAgICAgUGFyZW50IHJvb3QgPSBsb2FkZXIubG9hZCgpO1xuICAxMzQ5XHQgICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gIDEzNTBcdFxuICAxMzUxXHQgICAgICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gIDEzNTJcdCAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgYnRuX2RhbmdYdWF0LmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gIDEzNTNcdFxuICAxMzU0XHQgICAgICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBzY2VuZSBt4bubaVxuICAxMzU1XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAxMzU2XHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCLEkMSDbmcgbmjhuq1wXCIpO1xuICAxMzU3XHRcbiAgMTM1OFx0ICAgICAgICAgICAgICAgIC8vIFjDs2EgdGjDtG5nIHRpbiDEkcSDbmcgbmjhuq1wIGhp4buHbiB04bqhaVxuICAxMzU5XHQgICAgICAgICAgICAgICAgQXBwLnRhaUtob2FuID0gbnVsbDtcbiAgMTM2MFx0ICAgICAgICAgICAgICAgIEFwcC51c2VyID0gbnVsbDtcbiAgMTM2MVx0ICAgICAgICAgICAgICAgIEFwcC5tYSA9IG51bGw7XG4gIDEzNjJcdFxuICAxMzYzXHQgICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIHN0YWdlXG4gIDEzNjRcdCAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4gIDEzNjVcdFxuICAxMzY2XHQgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwixJDDoyDEkcSDbmcgeHXhuqV0IHRow6BuaCBjw7RuZ1wiKTtcbiAgMTM2N1x0ICAgICAgICAgICAgfVxuICAxMzY4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gIDEzNjlcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzNzBcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgxJHEg25nIHh14bqldDogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gIDEzNzFcdCAgICAgICAgfVxuICAxMzcyXHQgICAgfVxuVG90YWwgbGluZXMgaW4gZmlsZTogMTY4MlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNWM2YjhjYTUtNDc5OS00OWE2LWE4ZjUtOTFiOTNmMGUyZGIwO3Rvb2x1X3ZydHhfMDFTRXY5dGFKMzdpUDhDeXNxTTlKOVE3Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgMTMzMVx0XG4gIDEzMzJcdCAgICAvKipcbiAgMTMzM1x0ICAgICAqIFjhu60gbMO9IHPhu7Ega2nhu4duIGtoaSBuaOG6pW4gbsO6dCDEkcSDbmcgeHXhuqV0XG4gIDEzMzRcdCAgICAgKi9cbiAgMTMzNVx0ICAgIEBGWE1MXG4gIDEzMzZcdCAgICBwcml2YXRlIHZvaWQgaGFuZGxlRGFuZ1h1YXRDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gIDEzMzdcdCAgICAgICAgdHJ5IHtcbiAgMTMzOFx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGjhu5lwIHRob+G6oWkgeMOhYyBuaOG6rW5cbiAgMTMzOVx0ICAgICAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnRUeXBlLkNPTkZJUk1BVElPTik7XG4gIDEzNDBcdCAgICAgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiWMOhYyBuaOG6rW4gxJHEg25nIHh14bqldFwiKTtcbiAgMTM0MVx0ICAgICAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgMTM0Mlx0ICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gxJHEg25nIHh14bqldD9cIik7XG4gIDEzNDNcdFxuICAxMzQ0XHQgICAgICAgICAgICAvLyBO4bq/dSBuZ8aw4budaSBkw7luZyBuaOG6pW4gT0tcbiAgMTM0NVx0ICAgICAgICAgICAgaWYgKGFsZXJ0LnNob3dBbmRXYWl0KCkuZ2V0KCkgPT0gamF2YWZ4LnNjZW5lLmNvbnRyb2wuQnV0dG9uVHlwZS5PSykge1xuICAxMzQ2XHQgICAgICAgICAgICAgICAgLy8gWMOzYSB0aMO0bmcgdGluIMSRxINuZyBuaOG6rXAgaGnhu4duIHThuqFpXG4gIDEzNDdcdCAgICAgICAgICAgICAgICBBcHAudGFpS2hvYW4gPSBudWxsO1xuICAxMzQ4XHQgICAgICAgICAgICAgICAgQXBwLnVzZXIgPSBudWxsO1xuICAxMzQ5XHQgICAgICAgICAgICAgICAgQXBwLm1hID0gbnVsbDtcbiAgMTM1MFx0XG4gIDEzNTFcdCAgICAgICAgICAgICAgICAvLyBDaHV54buDbiB24buBIG3DoG4gaMOsbmggxJHEg25nIG5o4bqtcFxuICAxMzUyXHQgICAgICAgICAgICAgICAgdHJ5IHtcbiAgMTM1M1x0ICAgICAgICAgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL0xvZ2luX2d1aS5meG1sXCIpO1xuICAxMzU0XHQgICAgICAgICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIsSQw6MgxJHEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIik7XG4gIDEzNTVcdCAgICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAxMzU2XHQgICAgICAgICAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gIDEzNTdcdCAgICAgICAgICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIMSRxINuZyBuaOG6rXA6IFwiICsgZS5nZXRNZXNzYWdlKCkpO1xuICAxMzU4XHQgICAgICAgICAgICAgICAgfVxuICAxMzU5XHQgICAgICAgICAgICB9XG4gIDEzNjBcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgMTM2MVx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgMTM2Mlx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyDEkcSDbmcgeHXhuqV0OiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgMTM2M1x0ICAgICAgICB9XG4gIDEzNjRcdCAgICB9XG4gIDEzNjVcdFxuICAxMzY2XHQgICAgLyoqXG4gIDEzNjdcdCAgICAgKiDDgXAgZOG7pW5nIG3DoyBnaeG6o20gZ2nDoSAoZ+G7jWkgdOG7qyBGWE1MKVxuICAxMzY4XHQgICAgICovXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImFlOTIyOGQ1LWU1ZDktNDRiYy1iNjJlLTc5MDc4ZjMzNWUyYzt0b29sdV92cnR4XzAxUnNzSDNVWVlkZUpWU2YzOGtQNzdHUCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YTpcbiAgICAgMVx0cGFja2FnZSBpdWguZml0LmNvbnRyb2xsZXI7XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgaXVoLmZpdC5BcHA7XG4gICAgIDRcdGltcG9ydCBpdWguZml0LmRhb3MuTmhhblZpZW5fZGFvO1xuICAgICA1XHRpbXBvcnQgaXVoLmZpdC5lbnRpdGllcy5OaGFuVmllbjtcbiAgICAgNlx0aW1wb3J0IGphdmFmeC5hbmltYXRpb24uRmFkZVRyYW5zaXRpb247XG4gICAgIDdcdGltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkludGVycG9sYXRvcjtcbiAgICAgOFx0aW1wb3J0IGphdmFmeC5iZWFucy5wcm9wZXJ0eS5TaW1wbGVTdHJpbmdQcm9wZXJ0eTtcbiAgICAgOVx0aW1wb3J0IGphdmFmeC5jb2xsZWN0aW9ucy5GWENvbGxlY3Rpb25zO1xuICAgIDEwXHRpbXBvcnQgamF2YWZ4LmNvbGxlY3Rpb25zLk9ic2VydmFibGVMaXN0O1xuICAgIDExXHRpbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbiAgICAxMlx0aW1wb3J0IGphdmFmeC5meG1sLkZYTUxMb2FkZXI7XG4gICAgMTNcdGltcG9ydCBqYXZhZnguZnhtbC5Jbml0aWFsaXphYmxlO1xuICAgIDE0XHRpbXBvcnQgamF2YWZ4LnNjZW5lLlNjZW5lO1xuICAgIDE1XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbiAgICAxNlx0aW1wb3J0IGphdmFmeC5zY2VuZS5jb250cm9sLmNlbGwuUHJvcGVydHlWYWx1ZUZhY3Rvcnk7XG4gICAgMTdcdGltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuICAgIDE4XHRpbXBvcnQgamF2YWZ4LnNjZW5lLmlucHV0Lk1vdXNlRXZlbnQ7XG4gICAgMTlcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG4gICAgMjBcdGltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlZCb3g7XG4gICAgMjFcdGltcG9ydCBqYXZhZnguc3RhZ2UuU3RhZ2U7XG4gICAgMjJcdGltcG9ydCBqYXZhZngudXRpbC5EdXJhdGlvbjtcbiAgICAyM1x0XG4gICAgMjRcdGltcG9ydCBqYXZhLmlvLklPRXhjZXB0aW9uO1xuICAgIDI1XHRpbXBvcnQgamF2YS5uZXQuVVJMO1xuICAgIDI2XHRpbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTtcbiAgICAyN1x0aW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7XG4gICAgMjhcdGltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDtcbiAgICAyOVx0aW1wb3J0IGphdmEudXRpbC5MaXN0O1xuICAgIDMwXHRpbXBvcnQgamF2YS51dGlsLk1hcDtcbiAgICAzMVx0aW1wb3J0IGphdmEudXRpbC5SZXNvdXJjZUJ1bmRsZTtcbiAgICAzMlx0XG4gICAgMzNcdHB1YmxpYyBjbGFzcyBUcmFDdXVOaGFuVmllbl9jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG4gICAgMzRcdFxuICAgIDM1XHQgICAgQEZYTUxcbiAgICAzNlx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViTWVudUxpc3Q7XG4gICAgMzdcdFxuICAgIDM4XHQgICAgQEZYTUxcbiAgICAzOVx0ICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViVkJveDtcbiAgICA0MFx0XG4gICAgNDFcdCAgICBARlhNTFxuICAgIDQyXHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX1RyYUN1dTtcbiAgICA0M1x0XG4gICAgNDRcdCAgICBARlhNTFxuICAgIDQ1XHQgICAgcHJpdmF0ZSBCdXR0b24gYnRuX3FsTmhhblZpZW47XG4gICAgNDZcdFxuICAgIDQ3XHQgICAgQEZYTUxcbiAgICA0OFx0ICAgIHByaXZhdGUgQ29tYm9Cb3g8U3RyaW5nPiBjY2JfR2lhb0RpZW47XG4gICAgNDlcdFxuICAgIDUwXHQgICAgQEZYTUxcbiAgICA1MVx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfY2NjZDtcbiAgICA1Mlx0XG4gICAgNTNcdCAgICBARlhNTFxuICAgIDU0XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxOaGFuVmllbiwgU3RyaW5nPiBjbF9jaHVjVnU7XG4gICAgNTVcdFxuICAgIDU2XHQgICAgQEZYTUxcbiAgICA1N1x0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfZGlhQ2hpO1xuICAgIDU4XHRcbiAgICA1OVx0ICAgIEBGWE1MXG4gICAgNjBcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPE5oYW5WaWVuLCBTdHJpbmc+IGNsX2VtYWlsO1xuICAgIDYxXHRcbiAgICA2Mlx0ICAgIEBGWE1MXG4gICAgNjNcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPE5oYW5WaWVuLCBTdHJpbmc+IGNsX21hTlY7XG4gICAgNjRcdFxuICAgIDY1XHQgICAgQEZYTUxcbiAgICA2Nlx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfbmdheVNpbmg7XG4gICAgNjdcdFxuICAgIDY4XHQgICAgQEZYTUxcbiAgICA2OVx0ICAgIHByaXZhdGUgVGFibGVDb2x1bW48TmhhblZpZW4sIFN0cmluZz4gY2xfc2R0O1xuICAgIDcwXHRcbiAgICA3MVx0ICAgIEBGWE1MXG4gICAgNzJcdCAgICBwcml2YXRlIFRhYmxlQ29sdW1uPE5oYW5WaWVuLCBTdHJpbmc+IGNsX3N0dDtcbiAgICA3M1x0XG4gICAgNzRcdCAgICBARlhNTFxuICAgIDc1XHQgICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxOaGFuVmllbiwgU3RyaW5nPiBjbF90ZW5OVjtcbiAgICA3Nlx0XG4gICAgNzdcdCAgICBARlhNTFxuICAgIDc4XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX0hvYURvbjtcbiAgICA3OVx0XG4gICAgODBcdCAgICBARlhNTFxuICAgIDgxXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2dpb0hhbmc7XG4gICAgODJcdFxuICAgIDgzXHQgICAgQEZYTUxcbiAgICA4NFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19ob2FEb247XG4gICAgODVcdFxuICAgIDg2XHQgICAgQEZYTUxcbiAgICA4N1x0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19uaGFuVmllbjtcbiAgICA4OFx0XG4gICAgODlcdCAgICBARlhNTFxuICAgIDkwXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3BoaWV1TmhhcDtcbiAgICA5MVx0XG4gICAgOTJcdCAgICBARlhNTFxuICAgIDkzXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3F1YW5MeTtcbiAgICA5NFx0XG4gICAgOTVcdCAgICBARlhNTFxuICAgIDk2XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3NhblBoYW07XG4gICAgOTdcdFxuICAgIDk4XHQgICAgQEZYTUxcbiAgICA5OVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjtcbiAgIDEwMFx0XG4gICAxMDFcdCAgICBARlhNTFxuICAgMTAyXHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RhaUtob2FuMTtcbiAgIDEwM1x0XG4gICAxMDRcdCAgICBARlhNTFxuICAgMTA1XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2U7XG4gICAxMDZcdFxuICAgMTA3XHQgICAgQEZYTUxcbiAgIDEwOFx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlRG9hbmhUaHU7XG4gICAxMDlcdFxuICAgMTEwXHQgICAgQEZYTUxcbiAgIDExMVx0ICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlU2FuUGhhbTtcbiAgIDExMlx0XG4gICAxMTNcdCAgICBARlhNTFxuICAgMTE0XHQgICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RpbUtpZW07XG4gICAxMTVcdFxuICAgMTE2XHQgICAgQEZYTUxcbiAgIDExN1x0ICAgIHByaXZhdGUgTGFiZWwgbGJfSG9hRG9uO1xuICAgMTE4XHRcbiAgIDExOVx0ICAgIEBGWE1MXG4gICAxMjBcdCAgICBwcml2YXRlIExhYmVsIGxiX2NjY2Q7XG4gICAxMjFcdFxuICAgMTIyXHQgICAgQEZYTUxcbiAgIDEyM1x0ICAgIHByaXZhdGUgTGFiZWwgbGJfY2h1Y1Z1O1xuICAgMTI0XHRcbiAgIDEyNVx0ICAgIEBGWE1MXG4gICAxMjZcdCAgICBwcml2YXRlIExhYmVsIGxiX2RpYUNoaTtcbiAgIDEyN1x0XG4gICAxMjhcdCAgICBARlhNTFxuICAgMTI5XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9lbWFpbDtcbiAgIDEzMFx0XG4gICAxMzFcdCAgICBARlhNTFxuICAgMTMyXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9naW9IYW5nO1xuICAgMTMzXHRcbiAgIDEzNFx0ICAgIEBGWE1MXG4gICAxMzVcdCAgICBwcml2YXRlIExhYmVsIGxiX2hvYURvbjtcbiAgIDEzNlx0XG4gICAxMzdcdCAgICBARlhNTFxuICAgMTM4XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9tYU5WO1xuICAgMTM5XHRcbiAgIDE0MFx0ICAgIEBGWE1MXG4gICAxNDFcdCAgICBwcml2YXRlIExhYmVsIGxiX25nYXlTaW5oO1xuICAgMTQyXHRcbiAgIDE0M1x0ICAgIEBGWE1MXG4gICAxNDRcdCAgICBwcml2YXRlIExhYmVsIGxiX25oYW5WaWVuO1xuICAgMTQ1XHRcbiAgIDE0Nlx0ICAgIEBGWE1MXG4gICAxNDdcdCAgICBwcml2YXRlIExhYmVsIGxiX3BoaWV1TmhhcDtcbiAgIDE0OFx0XG4gICAxNDlcdCAgICBARlhNTFxuICAgMTUwXHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9xdWFuTHk7XG4gICAxNTFcdFxuICAgMTUyXHQgICAgQEZYTUxcbiAgIDE1M1x0ICAgIHByaXZhdGUgTGFiZWwgbGJfc2FuUGhhbTtcbiAgIDE1NFx0XG4gICAxNTVcdCAgICBARlhNTFxuICAgMTU2XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl9zZHQ7XG4gICAxNTdcdFxuICAgMTU4XHQgICAgQEZYTUxcbiAgIDE1OVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGFpS2hvYW47XG4gICAxNjBcdFxuICAgMTYxXHQgICAgQEZYTUxcbiAgIDE2Mlx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGVuTlY7XG4gICAxNjNcdFxuICAgMTY0XHQgICAgQEZYTUxcbiAgIDE2NVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZTtcbiAgIDE2Nlx0XG4gICAxNjdcdCAgICBARlhNTFxuICAgMTY4XHQgICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlRG9hbmhUaHU7XG4gICAxNjlcdFxuICAgMTcwXHQgICAgQEZYTUxcbiAgIDE3MVx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZVNhblBoYW07XG4gICAxNzJcdFxuICAgMTczXHQgICAgQEZYTUxcbiAgIDE3NFx0ICAgIHByaXZhdGUgTGFiZWwgbGJfdGltS2llbTtcbiAgIDE3NVx0XG4gICAxNzZcdCAgICBARlhNTFxuICAgMTc3XHQgICAgcHJpdmF0ZSBQYW5lIHBfSG9hRG9uO1xuICAgMTc4XHRcbiAgIDE3OVx0ICAgIEBGWE1MXG4gICAxODBcdCAgICBwcml2YXRlIFBhbmUgcF9naW9IYW5nO1xuICAgMTgxXHRcbiAgIDE4Mlx0ICAgIEBGWE1MXG4gICAxODNcdCAgICBwcml2YXRlIFBhbmUgcF9ob2FEb247XG4gICAxODRcdFxuICAgMTg1XHQgICAgQEZYTUxcbiAgIDE4Nlx0ICAgIHByaXZhdGUgUGFuZSBwX25oYW5WaWVuO1xuICAgMTg3XHRcbiAgIDE4OFx0ICAgIEBGWE1MXG4gICAxODlcdCAgICBwcml2YXRlIFBhbmUgcF9waGlldU5oYXA7XG4gICAxOTBcdFxuICAgMTkxXHQgICAgQEZYTUxcbiAgIDE5Mlx0ICAgIHByaXZhdGUgUGFuZSBwX3F1YW5MeTtcbiAgIDE5M1x0XG4gICAxOTRcdCAgICBARlhNTFxuICAgMTk1XHQgICAgcHJpdmF0ZSBQYW5lIHBfc2FuUGhhbTtcbiAgIDE5Nlx0XG4gICAxOTdcdCAgICBARlhNTFxuICAgMTk4XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGFpS2hvYW47XG4gICAxOTlcdFxuICAgMjAwXHQgICAgQEZYTUxcbiAgIDIwMVx0ICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2U7XG4gICAyMDJcdFxuICAgMjAzXHQgICAgQEZYTUxcbiAgIDIwNFx0ICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VEb2FuaFRodTtcbiAgIDIwNVx0XG4gICAyMDZcdCAgICBARlhNTFxuICAgMjA3XHQgICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZVNhblBoYW07XG4gICAyMDhcdFxuICAgMjA5XHQgICAgQEZYTUxcbiAgIDIxMFx0ICAgIHByaXZhdGUgUGFuZSBwX3RpbUtpZW07XG4gICAyMTFcdFxuICAgMjEyXHQgICAgQEZYTUxcbiAgIDIxM1x0ICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJNZW51TGlzdDtcbiAgIDIxNFx0XG4gICAyMTVcdCAgICBARlhNTFxuICAgMjE2XHQgICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1YlZCb3g7XG4gICAyMTdcdFxuICAgMjE4XHQgICAgQEZYTUxcbiAgIDIxOVx0ICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViTWVudUxpc3Q7XG4gICAyMjBcdFxuICAgMjIxXHQgICAgQEZYTUxcbiAgIDIyMlx0ICAgIHByaXZhdGUgVkJveCB0aG9uZ0tlU3ViVkJveDtcbiAgIDIyM1x0XG4gICAyMjRcdCAgICBARlhNTFxuICAgMjI1XHQgICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJNZW51TGlzdDtcbiAgIDIyNlx0XG4gICAyMjdcdCAgICBARlhNTFxuICAgMjI4XHQgICAgcHJpdmF0ZSBWQm94IHRpbUtpZW1TdWJWQm94O1xuICAgMjI5XHRcbiAgIDIzMFx0ICAgIEBGWE1MXG4gICAyMzFcdCAgICBwcml2YXRlIFRleHRGaWVsZCB0eHRfbWFOVjtcbiAgIDIzMlx0XG4gICAyMzNcdCAgICBARlhNTFxuICAgMjM0XHQgICAgcHJpdmF0ZSBUYWJsZVZpZXc8TmhhblZpZW4+IHRhYmxlTmhhblZpZW47XG4gICAyMzVcdFxuICAgMjM2XHQgICAgQEZYTUxcbiAgIDIzN1x0ICAgIHByaXZhdGUgVkJveCB2Qm94O1xuICAgMjM4XHRcbiAgIDIzOVx0ICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcbiAgIDI0MFx0ICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAyNDFcdCAgICAgICAgYWRkTWVudXNUb01hcEltcGwoKTtcbiAgIDI0Mlx0ICAgIH1cbiAgIDI0M1x0XG4gICAyNDRcdCAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAyNDVcdCAgICAgICAgbWFwLnB1dChiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgIDI0Nlx0ICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgIDI0N1x0ICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgMjQ4XHQgICAgICAgIG1hcC5wdXQodGhvbmdLZVN1YlZCb3gsdGhvbmdLZVN1Yk1lbnVMaXN0KTtcbiAgIDI0OVx0XG4gICAyNTBcdCAgICAgICAgLyoqXG4gICAyNTFcdCAgICAgICAgICogUmVtb3ZlIHRoZSBjb21wb25lbnRzIGZyb20gVkJveCBvbiBsb2FkIG9mIHN0YWdlXG4gICAyNTJcdCAgICAgICAgICovXG4gICAyNTNcdCAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAyNTRcdCAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgMjU1XHQgICAgICAgIH1cbiAgIDI1Nlx0ICAgIH1cbiAgIDI1N1x0ICAgIC8qKlxuICAgMjU4XHQgICAgICogTWVudSBzbGlkZXJcbiAgIDI1OVx0ICAgICAqIEBwYXJhbSBtZW51XG4gICAyNjBcdCAgICAgKiBAcGFyYW0gc3ViTWVudVxuICAgMjYxXHQgICAgICovXG4gICAyNjJcdCAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsVkJveCBzdWJNZW51KXtcbiAgIDI2M1x0ICAgICAgICB0b29sc1NsaWRlckltcGwobWVudSxzdWJNZW51KTtcbiAgIDI2NFx0ICAgIH1cbiAgIDI2NVx0XG4gICAyNjZcdCAgICBwcml2YXRlIHZvaWQgdG9vbHNTbGlkZXJJbXBsKFZCb3ggbWVudSxWQm94IHN1Yk1lbnUpIHtcbiAgIDI2N1x0ICAgICAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpe1xuICAgMjY4XHQgICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgIDI2OVx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgIDI3MFx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgMjcxXHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAyNzJcdCAgICAgICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoc3ViTWVudSk7XG4gICAyNzNcdCAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgMjc0XHQgICAgICAgIH1lbHNle1xuICAgMjc1XHQgICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgIDI3Nlx0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgIDI3N1x0ICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgMjc4XHQgICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAyNzlcdCAgICAgICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAyODBcdCAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgMjgxXHQgICAgICAgIH1cbiAgIDI4Mlx0ICAgIH1cbiAgIDI4M1x0XG4gICAyODRcdCAgICBwdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSl7XG4gICAyODVcdCAgICAgICAgcmVtb3ZlT3RoZXJNZW51c0ltcGwobWVudSk7XG4gICAyODZcdCAgICB9XG4gICAyODdcdCAgICBwcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAyODhcdCAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAyODlcdCAgICAgICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAyOTBcdCAgICAgICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgIDI5MVx0ICAgICAgICB9XG4gICAyOTJcdCAgICB9XG4gICAyOTNcdCAgICBARlhNTFxuICAgMjk0XHQgICAgdm9pZCBoYW5kbGVHaW9IYW5nQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgMjk1XHQgICAgICAgIC8vIEhp4buDbiB0aOG7iyBtZW51IGLDoW4gaMOgbmdcbiAgIDI5Nlx0ICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgIDI5N1x0ICAgICAgICByZW1vdmVPdGhlck1lbnVzKGJhbkhhbmdTdWJWQm94KTtcbiAgIDI5OFx0ICAgIH1cbiAgIDI5OVx0XG4gICAzMDBcdCAgICBARlhNTFxuICAgMzAxXHQgICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAzMDJcdCAgICAgICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCxxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAzMDNcdCAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhxdWFuTHlTdWJWQm94KTtcbiAgIDMwNFx0ICAgIH1cbiAgIDMwNVx0XG4gICAzMDZcdCAgICBARlhNTFxuICAgMzA3XHQgICAgdm9pZCBoYW5kbGVUaG9uZ0tlQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgMzA4XHQgICAgICAgIHRvb2xzU2xpZGVyKHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAzMDlcdCAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aG9uZ0tlU3ViVkJveCk7XG4gICAzMTBcdCAgICB9XG4gICAzMTFcdFxuICAgMzEyXHQgICAgQEZYTUxcbiAgIDMxM1x0ICAgIHZvaWQgaGFuZGxlVGltS2llbUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDMxNFx0ICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSB0w6xtIGtp4bq/bVxuICAgMzE1XHQgICAgICAgIHRvb2xzU2xpZGVyKHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgMzE2XHQgICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuICAgMzE3XHQgICAgfVxuICAgMzE4XHRcbiAgIDMxOVx0ICAgIHByaXZhdGUgRGF0ZVRpbWVGb3JtYXR0ZXIgZGF0ZUZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybihcImRkL01NL3l5eXlcIik7XG4gICAzMjBcdFxuICAgMzIxXHQgICAgQE92ZXJyaWRlXG4gICAzMjJcdCAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCB1cmwsIFJlc291cmNlQnVuZGxlIHJlc291cmNlQnVuZGxlKSB7XG4gICAzMjNcdCAgICAgICAgYWRkTWVudXNUb01hcCgpO1xuICAgMzI0XHQgICAgICAgIHNldHVwVGFibGVDb2x1bW5zKCk7XG4gICAzMjVcdCAgICAgICAgbG9hZFRhYmxlRGF0YSgpO1xuICAgMzI2XHQgICAgICAgIHNldHVwVGFibGVDbGlja0V2ZW50KCk7XG4gICAzMjdcdCAgICAgICAgaW5pdGlhbGl6ZUNvbWJvQm94KCk7XG4gICAzMjhcdCAgICB9XG4gICAzMjlcdFxuICAgMzMwXHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFibGVDb2x1bW5zKCkge1xuICAgMzMxXHQgICAgICAgIGNsX3N0dC5zZXRDZWxsRmFjdG9yeShjb2wgLT4gbmV3IFRhYmxlQ2VsbDxOaGFuVmllbiwgU3RyaW5nPigpIHtcbiAgIDMzMlx0ICAgICAgICAgICAgQE92ZXJyaWRlXG4gICAzMzNcdCAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHtcbiAgIDMzNFx0ICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpO1xuICAgMzM1XHQgICAgICAgICAgICAgICAgaWYgKGVtcHR5KSB7XG4gICAzMzZcdCAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTtcbiAgIDMzN1x0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAzMzhcdCAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChTdHJpbmcudmFsdWVPZihnZXRJbmRleCgpICsgMSkpO1xuICAgMzM5XHQgICAgICAgICAgICAgICAgfVxuICAgMzQwXHQgICAgICAgICAgICB9XG4gICAzNDFcdCAgICAgICAgfSk7XG4gICAzNDJcdFxuICAgMzQzXHQgICAgICAgIGNsX3N0dC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwic3R0XCIpKTtcbiAgIDM0NFx0ICAgICAgICBjbF9tYU5WLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYU5WXCIpKTtcbiAgIDM0NVx0ICAgICAgICBjbF90ZW5OVi5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwidGVuTlZcIikpO1xuICAgMzQ2XHQgICAgICAgIGNsX2NjY2Quc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcImNjY2RcIikpO1xuICAgMzQ3XHQgICAgICAgIGNsX3NkdC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwic2R0XCIpKTtcbiAgIDM0OFx0ICAgICAgICBjbF9lbWFpbC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwiZW1haWxcIikpO1xuICAgMzQ5XHQgICAgICAgIGNsX2RpYUNoaS5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwiZGlhQ2hpXCIpKTtcbiAgIDM1MFx0ICAgICAgICBjbF9jaHVjVnUuc2V0Q2VsbFZhbHVlRmFjdG9yeShuZXcgUHJvcGVydHlWYWx1ZUZhY3Rvcnk8PihcImNodWNWdVwiKSk7XG4gICAzNTFcdCAgICAgICAgXG4gICAzNTJcdCAgICAgICAgLy8gxJDhu4tuaCBk4bqhbmcgbmfDoHkgc2luaFxuICAgMzUzXHQgICAgICAgIGNsX25nYXlTaW5oLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4ge1xuICAgMzU0XHQgICAgICAgICAgICBMb2NhbERhdGUgZGF0ZSA9IGNlbGxEYXRhLmdldFZhbHVlKCkuZ2V0TmdheVNpbmgoKTtcbiAgIDM1NVx0ICAgICAgICAgICAgaWYgKGRhdGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAzNTZcdCAgICAgICAgICAgIHJldHVybiBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoZGF0ZS5mb3JtYXQoZGF0ZUZvcm1hdHRlcikpO1xuICAgMzU3XHQgICAgICAgIH0pO1xuICAgMzU4XHQgICAgfVxuICAgMzU5XHRcbiAgIDM2MFx0ICAgIHByaXZhdGUgdm9pZCBsb2FkVGFibGVEYXRhKCkge1xuICAgMzYxXHQgICAgICAgIHRyeSB7XG4gICAzNjJcdCAgICAgICAgICAgIE5oYW5WaWVuX2RhbyBuaGFuVmllbkRhbyA9IG5ldyBOaGFuVmllbl9kYW8oKTtcbiAgIDM2M1x0ICAgICAgICAgICAgTGlzdDxOaGFuVmllbj4gZHNudiA9IG5oYW5WaWVuRGFvLnJlYWRBbGxOaGFuVmllbigpO1xuICAgMzY0XHQgICAgICAgICAgICBPYnNlcnZhYmxlTGlzdDxOaGFuVmllbj4gZGF0YSA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChkc252KTtcbiAgIDM2NVx0ICAgICAgICAgICAgdGFibGVOaGFuVmllbi5zZXRJdGVtcyhkYXRhKTtcbiAgIDM2Nlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMzY3XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyB04bqjaSBk4buvIGxp4buHdSBuaMOibiB2acOqblwiKTtcbiAgIDM2OFx0ICAgICAgICB9XG4gICAzNjlcdCAgICB9XG4gICAzNzBcdFxuICAgMzcxXHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFibGVDbGlja0V2ZW50KCkge1xuICAgMzcyXHQgICAgICAgIHRhYmxlTmhhblZpZW4uc2V0T25Nb3VzZUNsaWNrZWQoZXZlbnQgLT4ge1xuICAgMzczXHQgICAgICAgICAgICBOaGFuVmllbiBzZWxlY3RlZE5oYW5WaWVuID0gdGFibGVOaGFuVmllbi5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgMzc0XHQgICAgICAgICAgICBpZiAoc2VsZWN0ZWROaGFuVmllbiAhPSBudWxsKSB7XG4gICAzNzVcdCAgICAgICAgICAgICAgICB1cGRhdGVMYWJlbHMoc2VsZWN0ZWROaGFuVmllbik7XG4gICAzNzZcdCAgICAgICAgICAgIH1cbiAgIDM3N1x0ICAgICAgICB9KTtcbiAgIDM3OFx0ICAgIH1cbiAgIDM3OVx0XG4gICAzODBcdCAgICBwcml2YXRlIHZvaWQgdXBkYXRlTGFiZWxzKE5oYW5WaWVuIG52KSB7XG4gICAzODFcdCAgICAgICAgbGJfbWFOVi5zZXRUZXh0KG52LmdldE1hTlYoKSk7XG4gICAzODJcdCAgICAgICAgbGJfdGVuTlYuc2V0VGV4dChudi5nZXRUZW5OVigpKTtcbiAgIDM4M1x0ICAgICAgICBsYl9jY2NkLnNldFRleHQobnYuZ2V0Q2NjZCgpKTtcbiAgIDM4NFx0ICAgICAgICBsYl9zZHQuc2V0VGV4dChudi5nZXRTZHQoKSk7XG4gICAzODVcdCAgICAgICAgbGJfZW1haWwuc2V0VGV4dChudi5nZXRFbWFpbCgpKTtcbiAgIDM4Nlx0ICAgICAgICBsYl9kaWFDaGkuc2V0VGV4dChudi5nZXREaWFDaGkoKSk7XG4gICAzODdcdCAgICAgICAgbGJfY2h1Y1Z1LnNldFRleHQobnYuZ2V0Q2h1Y1Z1KCkudG9TdHJpbmcoKSk7XG4gICAzODhcdCAgICAgICAgbGJfbmdheVNpbmguc2V0VGV4dChudi5nZXROZ2F5U2luaCgpLmZvcm1hdChkYXRlRm9ybWF0dGVyKSk7XG4gICAzODlcdCAgICB9XG4gICAzOTBcdFxuICAgMzkxXHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVDb21ib0JveCgpIHtcbiAgIDM5Mlx0ICAgICAgICBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoXG4gICAzOTNcdCAgICAgICAgICAgIFwiU+G6o24gcGjhuqltXCIsIFwiVMOgaSBraG/huqNuXCIsIFwiSG/DoSDEkcahblwiLCBcIlBoaeG6v3Ugbmjhuq1wXCIsIFwiTmjDom4gdmnDqm5cIiwgXCJLaMOhY2ggaMOgbmdcIlxuICAgMzk0XHQgICAgICAgICk7XG4gICAzOTVcdCAgICAgICAgY2NiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgMzk2XHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgMzk3XHQgICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAzOThcdCAgICB9XG4gICAzOTlcdFxuICAgNDAwXHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgNDAxXHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICA0MDJcdCAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICA0MDNcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIk5ow6JuIHZpw6puXCIpKSB7XG4gICA0MDRcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICA0MDVcdCAgICAgICAgICAgIH1cbiAgIDQwNlx0ICAgICAgICAgICAgXG4gICA0MDdcdCAgICAgICAgICAgIHRyeSB7XG4gICA0MDhcdCAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgIDQwOVx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICA0MTBcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICA0MTFcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgIDQxMlx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgIDQxM1x0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICA0MTRcdCAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgIDQxNVx0ICAgICAgICAgICAgICAgIH07XG4gICA0MTZcdCAgICAgICAgICAgICAgICBcbiAgIDQxN1x0ICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgIDQxOFx0ICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgNDE5XHQgICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgNDIwXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgNDIxXHQgICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDIyXHQgICAgICAgICAgICAgICAgXG4gICA0MjNcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0MjRcdCAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICA0MjVcdCAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJOaMOibiB2acOqblwiKTtcbiAgIDQyNlx0ICAgICAgICAgICAgfVxuICAgNDI3XHQgICAgICAgIH0pO1xuICAgNDI4XHQgICAgfVxuICAgNDI5XHRcbiAgIDQzMFx0ICAgIEBGWE1MXG4gICA0MzFcdCAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNDMyXHQgICAgICAgIFN0cmluZyBtYU5oYW5WaWVuID0gdHh0X21hTlYuZ2V0VGV4dCgpO1xuICAgNDMzXHQgICAgICAgIEFwcC5tYVRyYUN1dSA9IG1hTmhhblZpZW47XG4gICA0MzRcdCAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSBuZXcgTmhhblZpZW5fZGFvKCkucmVhZE5oYW5WaWVuKG1hTmhhblZpZW4pO1xuICAgNDM1XHQgICAgICAgIGxiX21hTlYuc2V0VGV4dChuaGFuVmllbi5nZXRNYU5WKCkpO1xuICAgNDM2XHQgICAgICAgIGxiX3Rlbk5WLnNldFRleHQobmhhblZpZW4uZ2V0VGVuTlYoKSk7XG4gICA0MzdcdCAgICAgICAgbGJfY2NjZC5zZXRUZXh0KG5oYW5WaWVuLmdldENjY2QoKSk7XG4gICA0MzhcdCAgICAgICAgbGJfc2R0LnNldFRleHQobmhhblZpZW4uZ2V0U2R0KCkpO1xuICAgNDM5XHQgICAgICAgIGxiX2VtYWlsLnNldFRleHQobmhhblZpZW4uZ2V0RW1haWwoKSk7XG4gICA0NDBcdCAgICAgICAgbGJfZGlhQ2hpLnNldFRleHQobmhhblZpZW4uZ2V0RGlhQ2hpKCkpO1xuICAgNDQxXHQgICAgICAgIGxiX2NodWNWdS5zZXRUZXh0KG5oYW5WaWVuLmdldENodWNWdSgpLnRvU3RyaW5nKCkpO1xuICAgNDQyXHQgICAgICAgIGxiX25nYXlTaW5oLnNldFRleHQobmhhblZpZW4uZ2V0TmdheVNpbmgoKS5mb3JtYXQoZGF0ZUZvcm1hdHRlcikpO1xuICAgNDQzXHQgICAgICAgIGhpZ2hsaWdodE1hdGNoaW5nUm93KG1hTmhhblZpZW4pO1xuICAgNDQ0XHQgICAgfVxuICAgNDQ1XHRcbiAgIDQ0Nlx0ICAgIHByaXZhdGUgdm9pZCBoaWdobGlnaHRNYXRjaGluZ1JvdyhTdHJpbmcgbWFOaGFuVmllbikge1xuICAgNDQ3XHQgICAgICAgIGlmIChtYU5oYW5WaWVuID09IG51bGwgfHwgbWFOaGFuVmllbi5pc0VtcHR5KCkpIHtcbiAgIDQ0OFx0ICAgICAgICAgICAgcmV0dXJuO1xuICAgNDQ5XHQgICAgICAgIH1cbiAgIDQ1MFx0XG4gICA0NTFcdCAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0YWJsZU5oYW5WaWVuLmdldEl0ZW1zKCkuc2l6ZSgpOyBpKyspIHtcbiAgIDQ1Mlx0ICAgICAgICAgICAgTmhhblZpZW4gbmhhblZpZW4gPSB0YWJsZU5oYW5WaWVuLmdldEl0ZW1zKCkuZ2V0KGkpO1xuICAgNDUzXHQgICAgICAgICAgICBpZiAobmhhblZpZW4uZ2V0TWFOVigpLmVxdWFscyhtYU5oYW5WaWVuKSkgeyAgLy8gU+G7rWEgbOG6oWkgxJFp4buBdSBraeG7h24gc28gc8OhbmhcbiAgIDQ1NFx0ICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgcm93XG4gICA0NTVcdCAgICAgICAgICAgICAgICB0YWJsZU5oYW5WaWVuLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGkpO1xuICAgNDU2XHQgICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRoZSByb3dcbiAgIDQ1N1x0ICAgICAgICAgICAgICAgIHRhYmxlTmhhblZpZW4uc2Nyb2xsVG8oaSk7XG4gICA0NThcdCAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IGZvY3VzXG4gICA0NTlcdCAgICAgICAgICAgICAgICB0YWJsZU5oYW5WaWVuLnJlcXVlc3RGb2N1cygpO1xuICAgNDYwXHQgICAgICAgICAgICAgICAgYnJlYWs7XG4gICA0NjFcdCAgICAgICAgICAgIH1cbiAgIDQ2Mlx0ICAgICAgICB9XG4gICA0NjNcdCAgICB9XG4gICA0NjRcdFxuICAgNDY1XHQgICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICA0NjZcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgIDQ2N1x0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICA0NjhcdCAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgIDQ2OVx0ICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgIDQ3MFx0ICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgNDcxXHQgICAgfVxuICAgNDcyXHRcbiAgIDQ3M1x0ICAgIEBGWE1MXG4gICA0NzRcdCAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgNDc1XHQgICAgICAgIHRyeSB7XG4gICA0NzZcdCAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5SG9hRG9uX2d1aVwiKTtcbiAgIDQ3N1x0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICA0NzhcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBow7NhIMSRxqFuXCIpO1xuICAgNDc5XHQgICAgICAgIH1cbiAgIDQ4MFx0ICAgIH1cbiAgIDQ4MVx0XG4gICA0ODJcdCAgICBARlhNTFxuICAgNDgzXHQgICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ4NFx0ICAgICAgICB0cnkge1xuICAgNDg1XHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUtoYWNoSGFuZ19ndWlcIik7XG4gICA0ODZcdCAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgNDg3XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70ga2jDoWNoIGjDoG5nXCIpO1xuICAgNDg4XHQgICAgICAgIH1cbiAgIDQ4OVx0ICAgIH1cbiAgIDQ5MFx0XG4gICA0OTFcdCAgICBARlhNTFxuICAgNDkyXHQgICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgNDkzXHQgICAgICAgIHRyeSB7XG4gICA0OTRcdCAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5TmhhblZpZW5fZ3VpXCIpO1xuICAgNDk1XHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgIDQ5Nlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IG5ow6JuIHZpw6puXCIpO1xuICAgNDk3XHQgICAgICAgIH1cbiAgIDQ5OFx0ICAgIH1cbiAgIDQ5OVx0XG4gICA1MDBcdCAgICBARlhNTFxuICAgNTAxXHQgICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUwMlx0ICAgICAgICB0cnkge1xuICAgNTAzXHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVBoaWV1TmhhcF9ndWlcIik7XG4gICA1MDRcdCAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgNTA1XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcIik7XG4gICA1MDZcdCAgICAgICAgfVxuICAgNTA3XHQgICAgfVxuICAgNTA4XHRcbiAgIDUwOVx0ICAgIEBGWE1MXG4gICA1MTBcdCAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUxMVx0ICAgICAgICB0cnkge1xuICAgNTEyXHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVNhblBoYW1fZ3VpXCIpO1xuICAgNTEzXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgIDUxNFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHPhuqNuIHBo4bqpbVwiKTtcbiAgIDUxNVx0ICAgICAgICB9XG4gICA1MTZcdCAgICB9XG4gICA1MTdcdFxuICAgNTE4XHQgICAgQEZYTUxcbiAgIDUxOVx0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUyMFx0ICAgICAgICB0cnkge1xuICAgNTIxXHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVRhaUtob2FuX2d1aVwiKTtcbiAgIDUyMlx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICA1MjNcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSB0w6BpIGtob+G6o25cIik7XG4gICA1MjRcdCAgICAgICAgfVxuICAgNTI1XHQgICAgfVxuICAgNTI2XHRcbiAgIDUyN1x0ICAgIEBGWE1MXG4gICA1MjhcdCAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjlcdCAgICAgICAgdHJ5IHtcbiAgIDUzMFx0ICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUaG9uZ0tlRG9hbmhUaHVfZ3VpXCIpO1xuICAgNTMxXHQgICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgIDUzMlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBkb2FuaCB0aHVcIik7XG4gICA1MzNcdCAgICAgICAgfVxuICAgNTM0XHQgICAgfVxuICAgNTM1XHRcbiAgIDUzNlx0ICAgIEBGWE1MXG4gICA1MzdcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUzOFx0ICAgICAgICB0cnkge1xuICAgNTM5XHQgICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VTYW5QaGFtX2d1aVwiKTtcbiAgIDU0MFx0ICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICA1NDFcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXCIpO1xuICAgNTQyXHQgICAgICAgIH1cbiAgIDU0M1x0ICAgIH1cbiAgIDU0NFx0fVxuICAgNTQ1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDU0NVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNDI1NmZlZjgtNDc3MC00MGZjLWIxNGEtMTYwY2QzZmI5NWMxO3Rvb2x1X3ZydHhfMDFOQTVDaG1CTkhHYnI2OUZEOUFtc2M5Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1TmhhblZpZW5fY29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAzOTZcdCAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAzOTdcdCAgICAgICAgc2V0dXBDb21ib0JveEhhbmRsZXIoKTtcbiAgIDM5OFx0ICAgIH1cbiAgIDM5OVx0XG4gICA0MDBcdCAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICA0MDFcdCAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgIDQwMlx0ICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgIDQwM1x0ICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgIDQwNFx0ICAgICAgICAgICAgICAgIHJldHVybjtcbiAgIDQwNVx0ICAgICAgICAgICAgfVxuICAgNDA2XHRcbiAgIDQwN1x0ICAgICAgICAgICAgdHJ5IHtcbiAgIDQwOFx0ICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgNDA5XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgIDQxMFx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgIDQxMVx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgNDEyXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgNDEzXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgIDQxNFx0ICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgNDE1XHQgICAgICAgICAgICAgICAgfTtcbiAgIDQxNlx0XG4gICA0MTdcdCAgICAgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpO1xuICAgNDE4XHRcbiAgIDQxOVx0ICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQyMFx0ICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgIDQyMVx0ICAgICAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgNDIyXHQgICAgICAgICAgICB9XG4gICA0MjNcdCAgICAgICAgfSk7XG4gICA0MjRcdCAgICB9XG4gICA0MjVcdFxuICAgNDI2XHQgICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICA0MjdcdCAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgNDI4XHQgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgNDI5XHQgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDQzMFx0ICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICA0MzFcdCAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDMyXHQgICAgfVxuICAgNDMzXHRcbiAgIDQzNFx0ICAgIEBGWE1MXG4gICA0MzVcdCAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNDM2XHQgICAgICAgIFN0cmluZyBtYU5oYW5WaWVuID0gdHh0X21hTlYuZ2V0VGV4dCgpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5MTgyMGNjMy1iYTQ3LTRiZGMtOTNhMi03YWI0YzNiODgyMGQ7dG9vbHVfdnJ0eF8wMVNCcXRDNFBkYzRGZnJiQ2JCY3VjcFMiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVOaGFuVmllbl9jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDQ3M1x0ICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgIDQ3NFx0ICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgNDc1XHQgICAgfVxuICAgNDc2XHRcbiAgIDQ3N1x0ICAgIEBGWE1MXG4gICA0NzhcdCAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgNDc5XHQgICAgICAgIHRyeSB7XG4gICA0ODBcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgNDgxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0ODJcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBow7NhIMSRxqFuXCIpO1xuICAgNDgzXHQgICAgICAgIH1cbiAgIDQ4NFx0ICAgIH1cbiAgIDQ4NVx0XG4gICA0ODZcdCAgICBARlhNTFxuICAgNDg3XHQgICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ4OFx0ICAgICAgICB0cnkge1xuICAgNDg5XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0toYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgIDQ5MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDkxXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70ga2jDoWNoIGjDoG5nXCIpO1xuICAgNDkyXHQgICAgICAgIH1cbiAgIDQ5M1x0ICAgIH1cbiAgIDQ5NFx0XG4gICA0OTVcdCAgICBARlhNTFxuICAgNDk2XHQgICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgNDk3XHQgICAgICAgIHRyeSB7XG4gICA0OThcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfTmhhblZpZW5fZ3VpLmZ4bWxcIik7XG4gICA0OTlcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUwMFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IG5ow6JuIHZpw6puXCIpO1xuICAgNTAxXHQgICAgICAgIH1cbiAgIDUwMlx0ICAgIH1cbiAgIDUwM1x0XG4gICA1MDRcdCAgICBARlhNTFxuICAgNTA1XHQgICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUwNlx0ICAgICAgICB0cnkge1xuICAgNTA3XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgIDUwOFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTA5XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcIik7XG4gICA1MTBcdCAgICAgICAgfVxuICAgNTExXHQgICAgfVxuICAgNTEyXHRcbiAgIDUxM1x0ICAgIEBGWE1MXG4gICA1MTRcdCAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUxNVx0ICAgICAgICB0cnkge1xuICAgNTE2XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1MTdcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUxOFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHPhuqNuIHBo4bqpbVwiKTtcbiAgIDUxOVx0ICAgICAgICB9XG4gICA1MjBcdCAgICB9XG4gICA1MjFcdFxuICAgNTIyXHQgICAgQEZYTUxcbiAgIDUyM1x0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUyNFx0ICAgICAgICB0cnkge1xuICAgNTI1XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgNTI2XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MjdcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSB0w6BpIGtob+G6o25cIik7XG4gICA1MjhcdCAgICAgICAgfVxuICAgNTI5XHQgICAgfVxuICAgNTMwXHRcbiAgIDUzMVx0ICAgIEBGWE1MXG4gICA1MzJcdCAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MzNcdCAgICAgICAgdHJ5IHtcbiAgIDUzNFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICA1MzVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUzNlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBkb2FuaCB0aHVcIik7XG4gICA1MzdcdCAgICAgICAgfVxuICAgNTM4XHQgICAgfVxuICAgNTM5XHRcbiAgIDU0MFx0ICAgIEBGWE1MXG4gICA1NDFcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU0Mlx0ICAgICAgICB0cnkge1xuICAgNTQzXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgNTQ0XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1NDVcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXCIpO1xuICAgNTQ2XHQgICAgICAgIH1cbiAgIDU0N1x0ICAgIH1cbiAgIDU0OFx0fVxuICAgNTQ5XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTEzMGMzNzItMmM0ZS00ZTIxLThiOWYtMDI2ZGNhOWViYzVjO3Rvb2x1X3ZydHhfMDFNNHVKZDcyZHlHODZDa01iNmhQUUozIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbnB1YmxpYyBjbGFzcyBUcmFDdXVUYWlLaG9hbl9jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBCdXR0b24gYnRuX1RyYUN1dTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBCdXR0b24gYnRuX3FsVGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgQ29tYm9Cb3g8U3RyaW5nPiBjY2JfR2lhb0RpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48VGFpS2hvYW4sIFN0cmluZz4gY2xfbWFUSztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxUYWlLaG9hbiwgU3RyaW5nPiBjbF9taztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxUYWlLaG9hbiwgU3RyaW5nPiBjbF9zdHQ7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48VGFpS2hvYW4sIFN0cmluZz4gY2xfdGVuRE47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48VGFpS2hvYW4sIFN0cmluZz4gY2xfdGdkbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxUYWlLaG9hbiwgU3RyaW5nPiBjbF9tYU5WO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfZ2lvSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX25oYW5WaWVuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfcGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfcXVhbkx5O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfc2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RhaUtob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGFpS2hvYW4xO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGltS2llbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfZ2lvSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfbWFUSztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9taztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9uaGFuVmllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfcXVhbkx5O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3NhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGVuRE47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGdkbjtcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGltS2llbVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGV4dEZpZWxkIHR4dF9tYVRLO1xuICAgIFxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZVZpZXc8VGFpS2hvYW4+IHRhYmxlVGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB2Qm94O1xuXG4gICAgTWFwPFZCb3gsVkJveD4gbWFwID0gbmV3IEhhc2hNYXA8VkJveCxWQm94PigpO1xuICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVudSBzbGlkZXJcbiAgICAgKiBAcGFyYW0gbWVudVxuICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAgICovXG4gICAgcHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LFZCb3ggc3ViTWVudSl7XG4gICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LHN1Yk1lbnUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCB0b29sc1NsaWRlckltcGwoVkJveCBtZW51LFZCb3ggc3ViTWVudSkge1xuICAgICAgICBpZihtZW51LmdldENoaWxkcmVuKCkuY29udGFpbnMoc3ViTWVudSkpe1xuICAgICAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLnJlbW92ZShzdWJNZW51KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGZpbmFsIEZhZGVUcmFuc2l0aW9uIHRyYW5zaXRpb24gPSBuZXcgRmFkZVRyYW5zaXRpb24oRHVyYXRpb24ubWlsbGlzKDUwMCksIG1lbnUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRGcm9tVmFsdWUoMC41KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0VG9WYWx1ZSgxKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0SW50ZXJwb2xhdG9yKEludGVycG9sYXRvci5FQVNFX0lOKTtcbiAgICAgICAgICAgIG1lbnUuZ2V0Q2hpbGRyZW4oKS5hZGQoc3ViTWVudSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgdm9pZCByZW1vdmVPdGhlck1lbnVzKFZCb3ggbWVudSl7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXNJbXBsKG1lbnUpO1xuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgcmVtb3ZlT3RoZXJNZW51c0ltcGwoVkJveCBtZW51KSB7XG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgaWYoIWVudHJ5LmdldEtleSgpLmVxdWFscyhtZW51KSlcbiAgICAgICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIG1lbnUgYsOhbiBow6BuZ1xuICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhiYW5IYW5nU3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCxxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRvb2xzU2xpZGVyKHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSB0w6xtIGtp4bq/bVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgICAgIFN0cmluZyBtYVRhaUtob2FuID0gdHh0X21hVEsuZ2V0VGV4dCgpO1xuICAgICAgICBBcHAubWFUcmFDdXUgPSBtYVRhaUtob2FuO1xuICAgICAgICBUYWlLaG9hbiB0ayA9IG5ldyBUYWlLaG9hbl9kYW8oKS5yZWFkKG1hVGFpS2hvYW4pO1xuICAgICAgICBsYl9tYVRLLnNldFRleHQodGsuZ2V0TWFUYWlLaG9hbigpKTtcbiAgICAgICAgbGJfdGVuRE4uc2V0VGV4dCh0ay5nZXRUZW5EYW5nTmhhcCgpKTtcbiAgICAgICAgbGJfbWsuc2V0VGV4dCh0ay5nZXRNYXRLaGF1KCkpO1xuICAgICAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJkZC9NTS95eXl5XCIpO1xuICAgICAgICBsYl90Z2RuLnNldFRleHQodGsuZ2V0VGhvaUdpYW5EYW5nTmhhcCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcbiAgICAgICAgaGlnaGxpZ2h0TWF0Y2hpbmdSb3cobWFUYWlLaG9hbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGhpZ2hsaWdodE1hdGNoaW5nUm93KFN0cmluZyBtYVRhaUtob2FuKSB7XG4gICAgICAgIGlmIChtYVRhaUtob2FuID09IG51bGwgfHwgbWFUYWlLaG9hbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgdGFibGVUYWlLaG9hbi5nZXRJdGVtcygpLnNpemUoKTsgaSsrKSB7XG4gICAgICAgICAgICBUYWlLaG9hbiB0YWlLaG9hbiA9IHRhYmxlVGFpS2hvYW4uZ2V0SXRlbXMoKS5nZXQoaSk7XG4gICAgICAgICAgICBpZiAodGFpS2hvYW4uZ2V0TWFUYWlLaG9hbigpLmVxdWFscyhtYVRhaUtob2FuKSkgeyAgLy8gU+G7rWEgbOG6oWkgxJFp4buBdSBraeG7h24gc28gc8OhbmhcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgdGhlIHJvd1xuICAgICAgICAgICAgICAgIHRhYmxlVGFpS2hvYW4uZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoaSk7XG4gICAgICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIHRoZSByb3dcbiAgICAgICAgICAgICAgICB0YWJsZVRhaUtob2FuLnNjcm9sbFRvKGkpO1xuICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgZm9jdXNcbiAgICAgICAgICAgICAgICB0YWJsZVRhaUtob2FuLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEBPdmVycmlkZVxuICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoVVJMIGFyZzAsIFJlc291cmNlQnVuZGxlIGFyZzEpIHtcbiAgICAgICAgLy8gS2jhu59pIHThuqFvIENvbWJvQm94XG4gICAgICAgIGluaXRpYWxpemVDb21ib0JveCgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIGPhu5l0IGNobyBi4bqjbmdcbiAgICAgICAgaW5pdGlhbGl6ZVRhYmxlQ29sdW1ucygpO1xuXG4gICAgICAgIC8vIExvYWQgZOG7ryBsaeG7h3UgdsOgbyBi4bqjbmdcbiAgICAgICAgbG9hZFRhYmxlRGF0YSgpO1xuXG4gICAgICAgIC8vIFRow6ptIHPhu7Ega2nhu4duIGNsaWNrIGNobyBi4bqjbmdcbiAgICAgICAgc2V0dXBUYWJsZUNsaWNrRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZUNvbWJvQm94KCkge1xuICAgICAgICBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoXG4gICAgICAgICAgICAgICAgXCJT4bqjbiBwaOG6qW1cIiwgXCJUw6BpIGtob+G6o25cIiwgXCJIb8OhIMSRxqFuXCIsIFwiUGhp4bq/dSBuaOG6rXBcIiwgXCJOaMOibiB2acOqblwiLCBcIktow6FjaCBow6BuZ1wiXG4gICAgICAgICk7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRJdGVtcyhsaXN0KTtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiTmjDom4gdmnDqm5cIik7XG4gICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlTDoGkga2hv4bqjblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiVMOgaSBraG/huqNuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgc2hvd0Vycm9yKFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZVRhYmxlQ29sdW1ucygpIHtcbiAgICAgICAgLy8gQ+G7mXQgU1RUXG4gICAgICAgIGNsX3N0dC5zZXRDZWxsRmFjdG9yeShjb2wgLT4gbmV3IFRhYmxlQ2VsbDxUYWlLaG9hbiwgU3RyaW5nPigpIHtcbiAgICAgICAgICAgIEBPdmVycmlkZVxuICAgICAgICAgICAgcHJvdGVjdGVkIHZvaWQgdXBkYXRlSXRlbShTdHJpbmcgaXRlbSwgYm9vbGVhbiBlbXB0eSkge1xuICAgICAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUl0ZW0oaXRlbSwgZW1wdHkpO1xuICAgICAgICAgICAgICAgIGlmIChlbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KG51bGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRleHQoU3RyaW5nLnZhbHVlT2YoZ2V0SW5kZXgoKSArIDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEPDoWMgY+G7mXQga2jDoWNcbiAgICAgICAgY2xfbWFUSy5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwibWFUYWlLaG9hblwiKSk7XG4gICAgICAgIGNsX3RlbkROLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJ0ZW5EYW5nTmhhcFwiKSk7XG4gICAgICAgIGNsX21rLnNldENlbGxWYWx1ZUZhY3RvcnkobmV3IFByb3BlcnR5VmFsdWVGYWN0b3J5PD4oXCJtYXRLaGF1XCIpKTtcbiAgICAgICAgLy8gxJDhu4tuaCBk4bqhbmcgbmfDoHkgdGjDoW5nXG4gICAgICAgIERhdGVUaW1lRm9ybWF0dGVyIGRhdGVGb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJkZC9NTS95eXl5IEhIOm1tXCIpO1xuXG4gICAgICAgIC8vIEPhu5l0IE5nw6B5IHPhuqNuIHh14bqldFxuICAgICAgICBjbF90Z2RuLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT4ge1xuICAgICAgICAgICAgTG9jYWxEYXRlVGltZSBkYXRlID0gY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXRUaG9pR2lhbkRhbmdOaGFwKCk7XG4gICAgICAgICAgICBpZiAoZGF0ZSA9PSBudWxsKSByZXR1cm4gbmV3IFNpbXBsZVN0cmluZ1Byb3BlcnR5KFwiXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTdHJpbmdQcm9wZXJ0eShkYXRlLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJkZC9NTS95eXl5IEhIOm1tXCIpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjbF9tYU5WLnNldENlbGxWYWx1ZUZhY3RvcnkoY2VsbERhdGEgLT5cbiAgICAgICAgICAgICAgICBuZXcgU2ltcGxlU3RyaW5nUHJvcGVydHkoY2VsbERhdGEuZ2V0VmFsdWUoKS5nZXROaGFuVmllbigpLmdldE1hTlYoKSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBsb2FkVGFibGVEYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgVGFpS2hvYW5fZGFvIHRhaUtob2FuRGFvID0gbmV3IFRhaUtob2FuX2RhbygpO1xuICAgICAgICAgICAgTGlzdDxUYWlLaG9hbj4gZHNzcCA9IHRhaUtob2FuRGFvLnJlYWRBbGwoKTtcbiAgICAgICAgICAgIE9ic2VydmFibGVMaXN0PFRhaUtob2FuPiBkYXRhID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KGRzc3ApO1xuICAgICAgICAgICAgdGFibGVUYWlLaG9hbi5zZXRJdGVtcyhkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IpO1xuICAgICAgICAgICAgYWxlcnQuc2V0VGl0bGUoXCJM4buXaVwiKTtcbiAgICAgICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQoXCJM4buXaSBraGkgdOG6o2kgZOG7ryBsaeG7h3VcIik7XG4gICAgICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChcIsSQw6MgeOG6o3kgcmEgbOG7l2kga2hpIHThuqNpIGThu68gbGnhu4d1LiBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1LlwiKTtcbiAgICAgICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBUYWJsZUNsaWNrRXZlbnQoKSB7XG4gICAgICAgIHRhYmxlVGFpS2hvYW4uc2V0T25Nb3VzZUNsaWNrZWQoZXZlbnQgLT4ge1xuICAgICAgICAgICAgVGFpS2hvYW4gc2VsZWN0ZWRUYWlLaG9hbiA9IHRhYmxlVGFpS2hvYW4uZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFRhaUtob2FuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVMYWJlbHMoc2VsZWN0ZWRUYWlLaG9hbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCB1cGRhdGVMYWJlbHMoVGFpS2hvYW4gdGspIHtcbiAgICAgICAgbGJfbWFUSy5zZXRUZXh0KHRrLmdldE1hVGFpS2hvYW4oKSk7XG4gICAgICAgIGxiX3RlbkROLnNldFRleHQodGsuZ2V0VGVuRGFuZ05oYXAoKSk7XG4gICAgICAgIGxiX21rLnNldFRleHQodGsuZ2V0TWF0S2hhdSgpKTtcbiAgICAgICAgRGF0ZVRpbWVGb3JtYXR0ZXIgZm9ybWF0dGVyID0gRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKFwiSEg6bW0gZGQvTU0veXl5eVwiKTtcbiAgICAgICAgbGJfdGdkbi5zZXRUZXh0KHRrLmdldFRob2lHaWFuRGFuZ05oYXAoKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICAgICAgIGxiX21hTlYuc2V0VGV4dChTdHJpbmcudmFsdWVPZih0ay5nZXROaGFuVmllbigpLmdldE1hTlYoKSkpO1xuXG4gICAgfVxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5SG9hRG9uX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGjDs2EgxJHGoW5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUtoYWNoSGFuZ19ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5TmhhblZpZW5fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gbmjDom4gdmnDqm5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVBoaWV1TmhhcF9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVNhblBoYW1fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gc+G6o24gcGjhuqltXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVRhaUtob2FuX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUaG9uZ0tlRG9hbmhUaHVfZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIGRvYW5oIHRodVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VTYW5QaGFtX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1S2hhY2hIYW5nX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZUNvbWJvQm94KCkge1xuICAgICAgICBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoXG4gICAgICAgICAgICAgICAgXCJT4bqjbiBwaOG6qW1cIiwgXCJUw6BpIGtob+G6o25cIiwgXCJIb8OhIMSRxqFuXCIsIFwiUGhp4bq/dSBuaOG6rXBcIiwgXCJOaMOibiB2acOqblwiLCBcIktow6FjaCBow6BuZ1wiXG4gICAgICAgICk7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRJdGVtcyhsaXN0KTtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldFZhbHVlKFwiS2jDoWNoIGjDoG5nXCIpO1xuICAgICAgICBzZXR1cENvbWJvQm94SGFuZGxlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJLaMOhY2ggaMOgbmdcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVIb2FEb25fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplQ29tYm9Cb3goKSB7XG4gICAgICAgIE9ic2VydmFibGVMaXN0PFN0cmluZz4gbGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChcbiAgICAgICAgICAgICAgICBcIlPhuqNuIHBo4bqpbVwiLCBcIlTDoGkga2hv4bqjblwiLCBcIkhvw6EgxJHGoW5cIiwgXCJQaGnhur91IG5o4bqtcFwiLCBcIk5ow6JuIHZpw6puXCIsIFwiS2jDoWNoIGjDoG5nXCJcbiAgICAgICAgKTtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJIb8OhIMSRxqFuXCIpO1xuICAgICAgICBzZXR1cENvbWJvQm94SGFuZGxlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJIb8OhIMSRxqFuXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplQ29tYm9Cb3goKSB7XG4gICAgICAgIE9ic2VydmFibGVMaXN0PFN0cmluZz4gbGlzdCA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdChcbiAgICAgICAgICAgICAgICBcIlPhuqNuIHBo4bqpbVwiLCBcIlTDoGkga2hv4bqjblwiLCBcIkhvw6EgxJHGoW5cIiwgXCJQaGnhur91IG5o4bqtcFwiLCBcIk5ow6JuIHZpw6puXCIsIFwiS2jDoWNoIGjDoG5nXCJcbiAgICAgICAgKTtcbiAgICAgICAgY2JiX0dpYW9EaWVuLnNldEl0ZW1zKGxpc3QpO1xuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjYmJfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjYmJfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlPhuqNuIHBo4bqpbVwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNiYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVBoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlBoaeG6v3Ugbmjhuq1wXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjhjMGJmYTYyLWZkNTMtNDM1YS05MDZhLTc3YTU2MTE4MzBmYzt0b29sdV92cnR4XzAxVlZXdmRMelhZOUoycmtUakdSdm9QTSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMzUzXHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgMzU0XHQgICAgICAgIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCk7XG4gICAzNTVcdCAgICB9XG4gICAzNTZcdFxuICAgMzU3XHQgICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgMzU4XHQgICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAzNTlcdCAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAzNjBcdCAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIlTDoGkga2hv4bqjblwiKSkge1xuICAgMzYxXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgMzYyXHQgICAgICAgICAgICB9XG4gICAzNjNcdFxuICAgMzY0XHQgICAgICAgICAgICB0cnkge1xuICAgMzY1XHQgICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAzNjZcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgMzY3XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAzNjhcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAzNjlcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgIDM3MFx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAzNzFcdCAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgIDM3Mlx0ICAgICAgICAgICAgICAgIH07XG4gICAzNzNcdFxuICAgMzc0XHQgICAgICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKTtcbiAgIDM3NVx0XG4gICAzNzZcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAzNzdcdCAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAzNzhcdCAgICAgICAgICAgICAgICBjY2JfR2lhb0RpZW4uc2V0VmFsdWUoXCJUw6BpIGtob+G6o25cIik7XG4gICAzNzlcdCAgICAgICAgICAgIH1cbiAgIDM4MFx0ICAgICAgICB9KTtcbiAgIDM4MVx0ICAgIH1cbiAgIDM4Mlx0XG4gICAzODNcdCAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgIDM4NFx0ICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAzODVcdCAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAzODZcdCAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgMzg3XHQgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgIDM4OFx0ICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAzODlcdCAgICB9XG4gICAzOTBcdFxuICAgMzkxXHQgICAgcHJpdmF0ZSB2b2lkIHNob3dFcnJvcihTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAzOTJcdCAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgIDM5M1x0ICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImI0Yjc3OWMzLWI0MWYtNDM0ZS05YTM5LTU5NDA4MTk3YzIwZjt0b29sdV92cnR4XzAxVEtKdHdiR0V3TmRDZmtVa3RLeHV3aSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgNDYwXHQgICAgICAgIGxiX3RnZG4uc2V0VGV4dCh0ay5nZXRUaG9pR2lhbkRhbmdOaGFwKCkuZm9ybWF0KGZvcm1hdHRlcikpO1xuICAgNDYxXHQgICAgICAgIGxiX21hTlYuc2V0VGV4dChTdHJpbmcudmFsdWVPZih0ay5nZXROaGFuVmllbigpLmdldE1hTlYoKSkpO1xuICAgNDYyXHRcbiAgIDQ2M1x0ICAgIH1cbiAgIDQ2NFx0ICAgIEBGWE1MXG4gICA0NjVcdCAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgNDY2XHQgICAgICAgIHRyeSB7XG4gICA0NjdcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgNDY4XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0NjlcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBow7NhIMSRxqFuXCIpO1xuICAgNDcwXHQgICAgICAgIH1cbiAgIDQ3MVx0ICAgIH1cbiAgIDQ3Mlx0XG4gICA0NzNcdCAgICBARlhNTFxuICAgNDc0XHQgICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ3NVx0ICAgICAgICB0cnkge1xuICAgNDc2XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0toYWNoSGFuZ19ndWkuZnhtbFwiKTtcbiAgIDQ3N1x0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDc4XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70ga2jDoWNoIGjDoG5nXCIpO1xuICAgNDc5XHQgICAgICAgIH1cbiAgIDQ4MFx0ICAgIH1cbiAgIDQ4MVx0XG4gICA0ODJcdCAgICBARlhNTFxuICAgNDgzXHQgICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgNDg0XHQgICAgICAgIHRyeSB7XG4gICA0ODVcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfTmhhblZpZW5fZ3VpLmZ4bWxcIik7XG4gICA0ODZcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ4N1x0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IG5ow6JuIHZpw6puXCIpO1xuICAgNDg4XHQgICAgICAgIH1cbiAgIDQ4OVx0ICAgIH1cbiAgIDQ5MFx0XG4gICA0OTFcdCAgICBARlhNTFxuICAgNDkyXHQgICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDQ5M1x0ICAgICAgICB0cnkge1xuICAgNDk0XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgIDQ5NVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDk2XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcIik7XG4gICA0OTdcdCAgICAgICAgfVxuICAgNDk4XHQgICAgfVxuICAgNDk5XHRcbiAgIDUwMFx0ICAgIEBGWE1MXG4gICA1MDFcdCAgICB2b2lkIHRvUUxTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUwMlx0ICAgICAgICB0cnkge1xuICAgNTAzXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1MDRcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUwNVx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHPhuqNuIHBo4bqpbVwiKTtcbiAgIDUwNlx0ICAgICAgICB9XG4gICA1MDdcdCAgICB9XG4gICA1MDhcdFxuICAgNTA5XHQgICAgQEZYTUxcbiAgIDUxMFx0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUxMVx0ICAgICAgICB0cnkge1xuICAgNTEyXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgNTEzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MTRcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSB0w6BpIGtob+G6o25cIik7XG4gICA1MTVcdCAgICAgICAgfVxuICAgNTE2XHQgICAgfVxuICAgNTE3XHRcbiAgIDUxOFx0ICAgIEBGWE1MXG4gICA1MTlcdCAgICB2b2lkIHRvVEtEb2FuaFRodShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MjBcdCAgICAgICAgdHJ5IHtcbiAgIDUyMVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICA1MjJcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUyM1x0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBkb2FuaCB0aHVcIik7XG4gICA1MjRcdCAgICAgICAgfVxuICAgNTI1XHQgICAgfVxuICAgNTI2XHRcbiAgIDUyN1x0ICAgIEBGWE1MXG4gICA1MjhcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUyOVx0ICAgICAgICB0cnkge1xuICAgNTMwXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgNTMxXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MzJcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXCIpO1xuICAgNTMzXHQgICAgICAgIH1cbiAgIDUzNFx0ICAgIH1cbiAgIDUzNVx0XG4gICA1MzZcdH1cbiAgIDUzN1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQyNjc1ZTU4LTE1NjYtNGI3Mi05ZDkyLTMzOTBlNjg1MzQ4MTt0b29sdV92cnR4XzAxSldnaTJLdGdrVUpjRWVyVkxEdzdUNCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6XG4gICA0MDBcdCAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0MDFcdCAgICAgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRyYSBj4bupdSBcIiArIHNlbGVjdGVkVmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICA0MDJcdCAgICAgICAgICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICA0MDNcdCAgICAgICAgICAgIH1cbiAgIDQwNFx0ICAgICAgICB9KTtcbiAgIDQwNVx0ICAgIH1cbiAgIDQwNlx0XG4gICA0MDdcdCAgICBwcml2YXRlIHZvaWQgc2hvd0Vycm9yKFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgIDQwOFx0ICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IpO1xuICAgNDA5XHQgICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgIDQxMFx0ICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgNDExXHQgICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgNDEyXHQgICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICA0MTNcdCAgICB9XG4gICA0MTRcdFxuICAgNDE1XHQgICAgcHJpdmF0ZSB2b2lkIGluaXRpYWxpemVUYWJsZUNvbHVtbnMoKSB7XG4gICA0MTZcdCAgICAgICAgLy8gQ+G7mXQgU1RUXG4gICA0MTdcdCAgICAgICAgY2xfdHh0LnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgVGFibGVDZWxsPFNhblBoYW0sIFN0cmluZz4oKSB7XG4gICA0MThcdCAgICAgICAgICAgIEBPdmVycmlkZVxuICAgNDE5XHQgICAgICAgICAgICBwcm90ZWN0ZWQgdm9pZCB1cGRhdGVJdGVtKFN0cmluZyBpdGVtLCBib29sZWFuIGVtcHR5KSB7XG4gICA0MjBcdCAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTtcbiAgIDQyMVx0ICAgICAgICAgICAgICAgIGlmIChlbXB0eSkge1xuICAgNDIyXHQgICAgICAgICAgICAgICAgICAgIHNldFRleHQobnVsbCk7XG4gICA0MjNcdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgNDI0XHQgICAgICAgICAgICAgICAgICAgIHNldFRleHQoU3RyaW5nLnZhbHVlT2YoZ2V0SW5kZXgoKSArIDEpKTtcbiAgIDQyNVx0ICAgICAgICAgICAgICAgIH1cbiAgIDQyNlx0ICAgICAgICAgICAgfVxuICAgNDI3XHQgICAgICAgIH0pO1xuICAgNDI4XHRcbiAgIDQyOVx0ICAgICAgICAvLyBDw6FjIGPhu5l0IGtow6FjXG4gICA0MzBcdCAgICAgICAgY2xfbWFTUC5zZXRDZWxsVmFsdWVGYWN0b3J5KG5ldyBQcm9wZXJ0eVZhbHVlRmFjdG9yeTw+KFwibWFTUFwiKSk7XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1ODBcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjdmYzQwYTRkLTg3OWItNGRmOC1hMDRhLTEzNWZmZDhiOWY2Zjt0b29sdV92cnR4XzAxRU1Ra2FCUHVTOXc4MVNYdmlQd1RrSyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmE6XG4gICAzNzBcdCAgICAgICAgICAgICAgICBcIlPhuqNuIHBo4bqpbVwiLCBcIlTDoGkga2hv4bqjblwiLCBcIkhvw6EgxJHGoW5cIiwgXCJQaGnhur91IG5o4bqtcFwiLCBcIk5ow6JuIHZpw6puXCIsIFwiS2jDoWNoIGjDoG5nXCJcbiAgIDM3MVx0ICAgICAgICApO1xuICAgMzcyXHQgICAgICAgIGNiYl9HaWFvRGllbi5zZXRJdGVtcyhsaXN0KTtcbiAgIDM3M1x0ICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAzNzRcdCAgICAgICAgc2V0dXBDb21ib0JveEhhbmRsZXIoKTtcbiAgIDM3NVx0ICAgIH1cbiAgIDM3Nlx0XG4gICAzNzdcdCAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAzNzhcdCAgICAgICAgY2JiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgIDM3OVx0ICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjYmJfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgIDM4MFx0ICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiU+G6o24gcGjhuqltXCIpKSB7XG4gICAzODFcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAzODJcdCAgICAgICAgICAgIH1cbiAgIDM4M1x0ICAgICAgICAgICAgXG4gICAzODRcdCAgICAgICAgICAgIHRyeSB7XG4gICAzODVcdCAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgIDM4Nlx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgIDM4N1x0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgMzg4XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgMzg5XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAzOTBcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgMzkxXHQgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAzOTJcdCAgICAgICAgICAgICAgICB9O1xuICAgMzkzXHQgICAgICAgICAgICAgICAgXG4gICAzOTRcdCAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAzOTVcdCAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgIDM5Nlx0ICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjYmJfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDM5N1x0ICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgIDM5OFx0ICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbiAgIDM5OVx0ICAgICAgICAgICAgICAgIFxuICAgNDAwXHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDAxXHQgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgNDAyXHQgICAgICAgICAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFwiU+G6o24gcGjhuqltXCIpO1xuICAgNDAzXHQgICAgICAgICAgICB9XG4gICA0MDRcdCAgICAgICAgfSk7XG4gICA0MDVcdCAgICB9XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1ODBcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjEwZGJmMDFjLWQ3YjgtNDcxMS1iNjFkLWRiZjdlNjk4YWNkYTt0b29sdV92cnR4XzAxNGIya3JnQThtRk5wRXVIZm5naHcyVCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dV9jb250cm9sbGVyLmphdmEuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDM3M1x0ICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAzNzRcdCAgICAgICAgc2V0dXBDb21ib0JveEhhbmRsZXIoKTtcbiAgIDM3NVx0ICAgIH1cbiAgIDM3Nlx0XG4gICAzNzdcdCAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAzNzhcdCAgICAgICAgY2JiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgIDM3OVx0ICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjYmJfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgIDM4MFx0ICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiU+G6o24gcGjhuqltXCIpKSB7XG4gICAzODFcdCAgICAgICAgICAgICAgICByZXR1cm47XG4gICAzODJcdCAgICAgICAgICAgIH1cbiAgIDM4M1x0XG4gICAzODRcdCAgICAgICAgICAgIHRyeSB7XG4gICAzODVcdCAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgIDM4Nlx0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgIDM4N1x0ICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgMzg4XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgMzg5XHQgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAzOTBcdCAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgMzkxXHQgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAzOTJcdCAgICAgICAgICAgICAgICB9O1xuICAgMzkzXHRcbiAgIDM5NFx0ICAgICAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIik7XG4gICAzOTVcdFxuICAgMzk2XHQgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgMzk3XHQgICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgMzk4XHQgICAgICAgICAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFwiU+G6o24gcGjhuqltXCIpO1xuICAgMzk5XHQgICAgICAgICAgICB9XG4gICA0MDBcdCAgICAgICAgfSk7XG4gICA0MDFcdCAgICB9XG4gICA0MDJcdFxuICAgNDAzXHQgICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICA0MDRcdCAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgNDA1XHQgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgNDA2XHQgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjYmJfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDQwN1x0ICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICA0MDhcdCAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDA5XHQgICAgfVxuICAgNDEwXHRcbiAgIDQxMVx0ICAgIHByaXZhdGUgdm9pZCBzaG93RXJyb3IoU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgNDEyXHQgICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUik7XG4gICA0MTNcdCAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlZDRlMGI0OS0zZTI4LTRjNzctYmZiZS0zZTI3YzE5ZjUxNDY7dG9vbHVfdnJ0eF8wMTlvRTVpY0NpTGNMNnkzVXdUTnVCNXEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1SG9hRG9uX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiSG/DoSDEkcahblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJLaMOhY2ggaMOgbmdcIiAtPiBcIlRyYUN1dUtoYWNoSGFuZ19ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCAtPiB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKFwiVW5leHBlY3RlZCB2YWx1ZTogXCIgKyBzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEZYTUxMb2FkZXIgbG9hZGVyID0gbmV3IEZYTUxMb2FkZXIoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpKTtcbiAgICAgICAgICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShsb2FkZXIubG9hZCgpKTtcbiAgICAgICAgICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2NiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNob3coKTtcbi4uLlxuXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUhvYURvbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBow7NhIMSRxqFuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlLaGFjaEhhbmdfZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70ga2jDoWNoIGjDoG5nXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeU5oYW5WaWVuX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IG5ow6JuIHZpw6puXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlQaGlldU5oYXBfZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gcGhp4bq/dSBuaOG6rXBcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlTYW5QaGFtX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHPhuqNuIHBo4bqpbVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlUYWlLaG9hbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSB0w6BpIGtob+G6o25cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiVGhvbmdLZURvYW5oVGh1X2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBkb2FuaCB0aHVcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUaG9uZ0tlU2FuUGhhbV9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxufVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVQaGlldU5oYXBfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2NiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2NiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJQaGnhur91IG5o4bqtcFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIikpO1xuICAgICAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKGxvYWRlci5sb2FkKCkpO1xuICAgICAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBjY2JfR2lhb0RpZW4uZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuLi4uXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlIb2FEb25fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gaMOzYSDEkcahblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMS2hhY2hIYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5S2hhY2hIYW5nX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGtow6FjaCBow6BuZ1wiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMTmhhblZpZW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJRdWFuTHlOaGFuVmllbl9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBuaMOibiB2acOqblwiKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuUGF0aDogc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvVHJhQ3V1X2NvbnRyb2xsZXIuamF2YVxucGFja2FnZSBpdWguZml0LmNvbnRyb2xsZXI7XG4uLi5cblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUYWJsZUNvbHVtbjxTYW5QaGFtLCBTdHJpbmc+IGNsX3RnY247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVDb2x1bW48U2FuUGhhbSwgU3RyaW5nPiBjbF90eHQ7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19naW9IYW5nO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfaG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfbmhhblZpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19waGlldU5oYXA7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19zYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGFpS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjE7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEltYWdlVmlldyBpbWdfdGhvbmdLZVNhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9naWFCYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfZ2lhTmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9oc2Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfbG9haUhhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfbWFTUDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl9uY2M7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfbnN4O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3NsdDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90ZW5TUDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90Z2NuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfZ2lvSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfaG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9uaGFuVmllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfcGhpZXVOaGFwO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9xdWFuTHk7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3NhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3RhaUtob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3Rob25nS2VTYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBxdWFuTHlTdWJWQm94O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggdGhvbmdLZVN1YlZCb3g7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCB0aW1LaWVtU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBUZXh0RmllbGQgdHh0X21hU1A7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVGFibGVWaWV3PFNhblBoYW0+IHRhYmxlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHZCb3g7XG5cbiAgICBNYXA8VkJveCxWQm94PiBtYXAgPSBuZXcgSGFzaE1hcDxWQm94LFZCb3g+KCk7XG4gICAgcHVibGljIHZvaWQgYWRkTWVudXNUb01hcCgpIHtcbiAgICAgICAgYWRkTWVudXNUb01hcEltcGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZvaWQgYWRkTWVudXNUb01hcEltcGwoKSB7XG4gICAgICAgIG1hcC5wdXQoYmFuSGFuZ1N1YlZCb3gsIGJhbkhhbmdTdWJNZW51TGlzdCk7XG4gICAgICAgIG1hcC5wdXQocXVhbkx5U3ViVkJveCwgcXVhbkx5U3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRpbUtpZW1TdWJWQm94LCB0aW1LaWVtU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgY29tcG9uZW50cyBmcm9tIFZCb3ggb24gbG9hZCBvZiBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBlbnRyeS5nZXRLZXkoKS5nZXRDaGlsZHJlbigpLnJlbW92ZShlbnRyeS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZW51IHNsaWRlclxuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICogQHBhcmFtIHN1Yk1lbnVcbiAgICAgKi9cbiAgICBwdWJsaWMgdm9pZCB0b29sc1NsaWRlcihWQm94IG1lbnUsVkJveCBzdWJNZW51KXtcbiAgICAgICAgdG9vbHNTbGlkZXJJbXBsKG1lbnUsc3ViTWVudSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHRvb2xzU2xpZGVySW1wbChWQm94IG1lbnUsVkJveCBzdWJNZW51KSB7XG4gICAgICAgIGlmKG1lbnUuZ2V0Q2hpbGRyZW4oKS5jb250YWlucyhzdWJNZW51KSl7XG4gICAgICAgICAgICBmaW5hbCBGYWRlVHJhbnNpdGlvbiB0cmFuc2l0aW9uID0gbmV3IEZhZGVUcmFuc2l0aW9uKER1cmF0aW9uLm1pbGxpcyg1MDApLCBtZW51KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2V0RnJvbVZhbHVlKDAuNSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldFRvVmFsdWUoMSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldEludGVycG9sYXRvcihJbnRlcnBvbGF0b3IuRUFTRV9JTik7XG4gICAgICAgICAgICBtZW51LmdldENoaWxkcmVuKCkucmVtb3ZlKHN1Yk1lbnUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5wbGF5KCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZmluYWwgRmFkZVRyYW5zaXRpb24gdHJhbnNpdGlvbiA9IG5ldyBGYWRlVHJhbnNpdGlvbihEdXJhdGlvbi5taWxsaXMoNTAwKSwgbWVudSk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNldEZyb21WYWx1ZSgwLjUpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRUb1ZhbHVlKDEpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5zZXRJbnRlcnBvbGF0b3IoSW50ZXJwb2xhdG9yLkVBU0VfSU4pO1xuICAgICAgICAgICAgbWVudS5nZXRDaGlsZHJlbigpLmFkZChzdWJNZW51KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24ucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvdGhlciBtZW51c1xuICAgICAqIEBwYXJhbSBtZW51XG4gICAgICovXG4gICAgcHVibGljIHZvaWQgcmVtb3ZlT3RoZXJNZW51cyhWQm94IG1lbnUpe1xuICAgICAgICByZW1vdmVPdGhlck1lbnVzSW1wbChtZW51KTtcbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHJlbW92ZU90aGVyTWVudXNJbXBsKFZCb3ggbWVudSkge1xuICAgICAgICBmb3IgKE1hcC5FbnRyeTxWQm94LFZCb3g+IGVudHJ5IDogbWFwLmVudHJ5U2V0KCkpIHtcbiAgICAgICAgICAgIGlmKCFlbnRyeS5nZXRLZXkoKS5lcXVhbHMobWVudSkpXG4gICAgICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlR2lvSGFuZ0NsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIG1lbnUgYsOhbiBow6BuZ1xuICAgICAgICB0b29sc1NsaWRlcihiYW5IYW5nU3ViVkJveCwgYmFuSGFuZ1N1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyhiYW5IYW5nU3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCxxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRvb2xzU2xpZGVyKHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSB0w6xtIGtp4bq/bVxuICAgICAgICB0b29sc1NsaWRlcih0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgcmVtb3ZlT3RoZXJNZW51cyh0aW1LaWVtU3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRpbUtpZW0oTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgICAgIFN0cmluZyBtYVNhblBoYW0gPSB0eHRfbWFTUC5nZXRUZXh0KCk7XG4gICAgICAgIEFwcC5tYVRyYUN1dSA9IG1hU2FuUGhhbTtcbiAgICAgICAgU2FuUGhhbSBzcCA9IG5ldyBTYW5QaGFtX2RhbygpLnJlYWQobWFTYW5QaGFtKTtcbiAgICAgICAgbGJfbWFTUC5zZXRUZXh0KHNwLmdldE1hU1AoKSk7XG4gICAgICAgIGxiX3RlblNQLnNldFRleHQoc3AuZ2V0VGVuU1AoKSk7XG4gICAgICAgIGxiX25jYy5zZXRUZXh0KHNwLmdldE5oYUNDKCkpO1xuICAgICAgICBsYl9zbHQuc2V0VGV4dChTdHJpbmcudmFsdWVPZihzcC5nZXRTb0x1b25nVG9uKCkpKTtcbiAgICAgICAgbGJfZ2lhTmhhcC5zZXRUZXh0KFN0cmluZy52YWx1ZU9mKHNwLmdldEdpYU5oYXAoKSkpO1xuICAgICAgICBsYl9naWFCYW4uc2V0VGV4dChTdHJpbmcudmFsdWVPZihzcC5nZXRHaWFCYW4oKSkpO1xuICAgICAgICBEYXRlVGltZUZvcm1hdHRlciBmb3JtYXR0ZXIgPSBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oXCJkZC9NTS95eXl5XCIpO1xuICAgICAgICBsYl9uc3guc2V0VGV4dChzcC5nZXROZ2F5U1goKS5mb3JtYXQoZm9ybWF0dGVyKSk7XG4gICAgICAgIGxiX2hzZC5zZXRUZXh0KHNwLmdldEhhblNEKCkuZm9ybWF0KGZvcm1hdHRlcikpO1xuICAgICAgICBsYl90Z2NuLnNldFRleHQoc3AuZ2V0VGhvaUdpYW5DYXBOaGF0KCkuZm9ybWF0KGZvcm1hdHRlcikpO1xuICAgICAgICBsYl9sb2FpSGFuZy5zZXRUZXh0KHNwLmdldExvYWlIYW5nKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGhpZ2hsaWdodE1hdGNoaW5nUm93KG1hU2FuUGhhbSk7XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZUNvbWJvQm94KCkge1xuICAgICAgICBPYnNlcnZhYmxlTGlzdDxTdHJpbmc+IGxpc3QgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoXG4gICAgICAgICAgICAgICAgXCJT4bqjbiBwaOG6qW1cIiwgXCJUw6BpIGtob+G6o25cIiwgXCJIb8OhIMSRxqFuXCIsIFwiUGhp4bq/dSBuaOG6rXBcIiwgXCJOaMOibiB2acOqblwiLCBcIktow6FjaCBow6BuZ1wiXG4gICAgICAgICk7XG4gICAgICAgIGNiYl9HaWFvRGllbi5zZXRJdGVtcyhsaXN0KTtcbiAgICAgICAgY2JiX0dpYW9EaWVuLnNldFZhbHVlKFwiU+G6o24gcGjhuqltXCIpO1xuICAgICAgICBzZXR1cENvbWJvQm94SGFuZGxlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzZXR1cENvbWJvQm94SGFuZGxlcigpIHtcbiAgICAgICAgY2JiX0dpYW9EaWVuLnNldE9uQWN0aW9uKGV2ZW50IC0+IHtcbiAgICAgICAgICAgIFN0cmluZyBzZWxlY3RlZFZhbHVlID0gY2JiX0dpYW9EaWVuLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5lcXVhbHMoXCJT4bqjbiBwaOG6qW1cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUw6BpIGtob+G6o25cIiAtPiBcIlRyYUN1dVRhaUtob2FuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSG/DoSDEkcahblwiIC0+IFwiVHJhQ3V1SG9hRG9uX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGhp4bq/dSBuaOG6rXBcIiAtPiBcIlRyYUN1dVBoaWV1TmhhcF9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5ow6JuIHZpw6puXCIgLT4gXCJUcmFDdXVOaGFuVmllbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIktow6FjaCBow6BuZ1wiIC0+IFwiVHJhQ3V1S2hhY2hIYW5nX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IC0+IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJVbmV4cGVjdGVkIHZhbHVlOiBcIiArIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1wiICsgZnhtbEZpbGUgKyBcIi5meG1sXCIpO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gVHJhIGPhu6l1IFwiICsgc2VsZWN0ZWRWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBjYmJfR2lhb0RpZW4uc2V0VmFsdWUoXCJT4bqjbiBwaOG6qW1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgY2JiX0dpYW9EaWVuLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBzaG93RXJyb3IoU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplVGFibGVDb2x1bW5zKCkge1xuICAgICAgICAvLyBD4buZdCBTVFRcbiAgICAgICAgY2xfdHh0LnNldENlbGxGYWN0b3J5KGNvbCAtPiBuZXcgVGFibGVDZWxsPFNhblBoYW0sIFN0cmluZz4oKSB7XG4gICAgICAgICAgICBAT3ZlcnJpZGVcbiAgICAgICAgICAgIHByb3RlY3RlZCB2b2lkIHVwZGF0ZUl0ZW0oU3RyaW5nIGl0ZW0sIGJvb2xlYW4gZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBzdXBlci51cGRhdGVJdGVtKGl0ZW0sIGVtcHR5KTtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChudWxsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KFN0cmluZy52YWx1ZU9mKGdldEluZGV4KCkgKyAxKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRUYWJsZURhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYW5QaGFtX2RhbyBzYW5QaGFtRGFvID0gbmV3IFNhblBoYW1fZGFvKCk7XG4gICAgICAgICAgICBMaXN0PFNhblBoYW0+IGRzc3AgPSBzYW5QaGFtRGFvLnJlYWRBbGwoKTtcbiAgICAgICAgICAgIE9ic2VydmFibGVMaXN0PFNhblBoYW0+IGRhdGEgPSBGWENvbGxlY3Rpb25zLm9ic2VydmFibGVBcnJheUxpc3QoZHNzcCk7XG4gICAgICAgICAgICB0YWJsZVNhblBoYW0uc2V0SXRlbXMoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SKTtcbiAgICAgICAgICAgIGFsZXJ0LnNldFRpdGxlKFwiTOG7l2lcIik7XG4gICAgICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KFwiTOG7l2kga2hpIHThuqNpIGThu68gbGnhu4d1XCIpO1xuICAgICAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoXCLEkMOjIHjhuqN5IHJhIGzhu5dpIGtoaSB04bqjaSBk4buvIGxp4buHdS4gVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdS5cIik7XG4gICAgICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwVGFibGVDbGlja0V2ZW50KCkge1xuICAgICAgICB0YWJsZVNhblBoYW0uc2V0T25Nb3VzZUNsaWNrZWQoZXZlbnQgLT4ge1xuICAgICAgICAgICAgU2FuUGhhbSBzZWxlY3RlZFNhblBoYW0gPSB0YWJsZVNhblBoYW0uZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNhblBoYW0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVscyhzZWxlY3RlZFNhblBoYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5SG9hRG9uX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGjDs2EgxJHGoW5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeUtoYWNoSGFuZ19ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEFwcC5zZXRSb290KFwiUXVhbkx5TmhhblZpZW5fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gbmjDom4gdmnDqm5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFBoaWV1TmhhcChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVBoaWV1TmhhcF9ndWlcIik7XG4gICAgICAgIH0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVNhblBoYW1fZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gc+G6o24gcGjhuqltXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxUYWlLaG9hbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlF1YW5MeVRhaUtob2FuX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQXBwLnNldFJvb3QoXCJUaG9uZ0tlRG9hbmhUaHVfZ3VpXCIpO1xuICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIGRvYW5oIHRodVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBBcHAuc2V0Um9vdChcIlRob25nS2VTYW5QaGFtX2d1aVwiKTtcbiAgICAgICAgfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbn0uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dUtoYWNoSGFuZ19jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgcHJpdmF0ZSB2b2lkIHNldHVwQ29tYm9Cb3hIYW5kbGVyKCkge1xuICAgICAgICBjY2JfR2lhb0RpZW4uc2V0T25BY3Rpb24oZXZlbnQgLT4ge1xuICAgICAgICAgICAgU3RyaW5nIHNlbGVjdGVkVmFsdWUgPSBjY2JfR2lhb0RpZW4uZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlLmVxdWFscyhcIktow6FjaCBow6BuZ1wiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBTdHJpbmcgZnhtbEZpbGUgPSBzd2l0Y2ggKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlPhuqNuIHBo4bqpbVwiIC0+IFwiVHJhQ3V1X2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVMOgaSBraG/huqNuXCIgLT4gXCJUcmFDdXVUYWlLaG9hbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhvw6EgxJHGoW5cIiAtPiBcIlRyYUN1dUhvYURvbl9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBoaeG6v3Ugbmjhuq1wXCIgLT4gXCJUcmFDdXVQaGlldU5oYXBfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOaMOibiB2acOqblwiIC0+IFwiVHJhQ3V1TmhhblZpZW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9cIiArIGZ4bWxGaWxlICsgXCIuZnhtbFwiKSk7XG4gICAgICAgICAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUobG9hZGVyLmxvYWQoKSk7XG4gICAgICAgICAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIGNjYl9HaWFvRGllbi5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICAgICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgICAgICAgICBzdGFnZS5zaG93KCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dU5oYW5WaWVuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiTmjDom4gdmnDqm5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgU3RyaW5nIGZ4bWxGaWxlID0gc3dpdGNoIChzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJT4bqjbiBwaOG6qW1cIiAtPiBcIlRyYUN1dV9ndWlcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlTDoGkga2hv4bqjblwiIC0+IFwiVHJhQ3V1VGFpS2hvYW5fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIk5ow6JuIHZpw6puXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1RyYUN1dVRhaUtob2FuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgc2V0dXBDb21ib0JveEhhbmRsZXIoKSB7XG4gICAgICAgIGNjYl9HaWFvRGllbi5zZXRPbkFjdGlvbihldmVudCAtPiB7XG4gICAgICAgICAgICBTdHJpbmcgc2VsZWN0ZWRWYWx1ZSA9IGNjYl9HaWFvRGllbi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUuZXF1YWxzKFwiVMOgaSBraG/huqNuXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFN0cmluZyBmeG1sRmlsZSA9IHN3aXRjaCAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU+G6o24gcGjhuqltXCIgLT4gXCJUcmFDdXVfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIb8OhIMSRxqFuXCIgLT4gXCJUcmFDdXVIb2FEb25fZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQaGnhur91IG5o4bqtcFwiIC0+IFwiVHJhQ3V1UGhpZXVOaGFwX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTmjDom4gdmnDqm5cIiAtPiBcIlRyYUN1dU5oYW5WaWVuX2d1aVwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiS2jDoWNoIGjDoG5nXCIgLT4gXCJUcmFDdXVLaGFjaEhhbmdfZ3VpXCI7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgLT4gdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgdmFsdWU6IFwiICsgc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvXCIgKyBmeG1sRmlsZSArIFwiLmZ4bWxcIik7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUcmEgY+G7qXUgXCIgKyBzZWxlY3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGNjYl9HaWFvRGllbi5zZXRWYWx1ZShcIlTDoGkga2hv4bqjblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJhYjk5NjNmNy0wM2I4LTQ0NDUtYjY4Ni00MzJlYzU4N2UwZjI7dG9vbHVfdnJ0eF8wMUVlNzNtU0hVQ2dWaGRnWTRDR1JnNmciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9UcmFDdXVfY29udHJvbGxlci5qYXZhLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICA1MDhcdCAgICAgICAgbGJfdGdjbi5zZXRUZXh0KHNwLmdldFRob2lHaWFuQ2FwTmhhdCgpLmZvcm1hdChmb3JtYXR0ZXIpKTtcbiAgIDUwOVx0ICAgICAgICBsYl9sb2FpSGFuZy5zZXRUZXh0KHNwLmdldExvYWlIYW5nKCkudG9TdHJpbmcoKSk7XG4gICA1MTBcdCAgICB9XG4gICA1MTFcdFxuICAgNTEyXHQgICAgQEZYTUxcbiAgIDUxM1x0ICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MTRcdCAgICAgICAgdHJ5IHtcbiAgIDUxNVx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcIik7XG4gICA1MTZcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUxN1x0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IGjDs2EgxJHGoW5cIik7XG4gICA1MThcdCAgICAgICAgfVxuICAgNTE5XHQgICAgfVxuICAgNTIwXHRcbiAgIDUyMVx0ICAgIEBGWE1MXG4gICA1MjJcdCAgICB2b2lkIHRvUUxLaGFjaEhhbmcoTW91c2VFdmVudCBldmVudCkge1xuICAgNTIzXHQgICAgICAgIHRyeSB7XG4gICA1MjRcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgNTI1XHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MjZcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcIik7XG4gICA1MjdcdCAgICAgICAgfVxuICAgNTI4XHQgICAgfVxuICAgNTI5XHRcbiAgIDUzMFx0ICAgIEBGWE1MXG4gICA1MzFcdCAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA1MzJcdCAgICAgICAgdHJ5IHtcbiAgIDUzM1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgIDUzNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTM1XHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gbmjDom4gdmnDqm5cIik7XG4gICA1MzZcdCAgICAgICAgfVxuICAgNTM3XHQgICAgfVxuICAgNTM4XHRcbiAgIDUzOVx0ICAgIEBGWE1MXG4gICA1NDBcdCAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgNTQxXHQgICAgICAgIHRyeSB7XG4gICA1NDJcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgNTQzXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1NDRcdCAgICAgICAgICAgIHNob3dFcnJvcihcIkzhu5dpIGNodXnhu4NuIGdpYW8gZGnhu4duXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gUXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcFwiKTtcbiAgIDU0NVx0ICAgICAgICB9XG4gICA1NDZcdCAgICB9XG4gICA1NDdcdFxuICAgNTQ4XHQgICAgQEZYTUxcbiAgIDU0OVx0ICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNTUwXHQgICAgICAgIHRyeSB7XG4gICA1NTFcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgIDU1Mlx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTUzXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFF14bqjbiBsw70gc+G6o24gcGjhuqltXCIpO1xuICAgNTU0XHQgICAgICAgIH1cbiAgIDU1NVx0ICAgIH1cbiAgIDU1Nlx0XG4gICA1NTdcdCAgICBARlhNTFxuICAgNTU4XHQgICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgNTU5XHQgICAgICAgIHRyeSB7XG4gICA1NjBcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfVGFpS2hvYW5fZ3VpLmZ4bWxcIik7XG4gICA1NjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU2Mlx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBRdeG6o24gbMO9IHTDoGkga2hv4bqjblwiKTtcbiAgIDU2M1x0ICAgICAgICB9XG4gICA1NjRcdCAgICB9XG4gICA1NjVcdFxuICAgNTY2XHQgICAgQEZYTUxcbiAgIDU2N1x0ICAgIHZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU2OFx0ICAgICAgICB0cnkge1xuICAgNTY5XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VEb2FuaFRodV9ndWkuZnhtbFwiKTtcbiAgIDU3MFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTcxXHQgICAgICAgICAgICBzaG93RXJyb3IoXCJM4buXaSBjaHV54buDbiBnaWFvIGRp4buHblwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIFRo4buRbmcga8OqIGRvYW5oIHRodVwiKTtcbiAgIDU3Mlx0ICAgICAgICB9XG4gICA1NzNcdCAgICB9XG4gICA1NzRcdFxuICAgNTc1XHQgICAgQEZYTUxcbiAgIDU3Nlx0ICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNTc3XHQgICAgICAgIHRyeSB7XG4gICA1NzhcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1NzlcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU4MFx0ICAgICAgICAgICAgc2hvd0Vycm9yKFwiTOG7l2kgY2h1eeG7g24gZ2lhbyBkaeG7h25cIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBUaOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cIik7XG4gICA1ODFcdCAgICAgICAgfVxuICAgNTgyXHQgICAgfVxuICAgNTgzXHRcbiAgIDU4NFx0fVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJlZWYwNWFkMS04MWUzLTQ3MzAtODMxYS01Yzk3OTY2MzlkYjg7dG9vbHVfdnJ0eF8wMTVuRXg1Q2JmbmVacHAzSFk4WXI5VDMiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9CYW5IYW5nX2NvbnRyb2xsZXIuamF2YTpcbiAgIDQ0Mlx0ICAgIEBGWE1MXG4gICA0NDNcdCAgICB2b2lkIGhhbmRsZVRpbUtpZW1DbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NDRcdCAgICAgICAgdHJ5IHtcbiAgIDQ0NVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIFRyYUN1dV9ndWkuZnhtbFxuICAgNDQ2XHQgICAgICAgICAgICBGWE1MTG9hZGVyIGxvYWRlciA9IG5ldyBGWE1MTG9hZGVyKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIikpO1xuICAgNDQ3XHQgICAgICAgICAgICBQYXJlbnQgcm9vdCA9IGxvYWRlci5sb2FkKCk7XG4gICA0NDhcdCAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgNDQ5XHRcbiAgIDQ1MFx0ICAgICAgICAgICAgLy8gTOG6pXkgc3RhZ2UgaGnhu4duIHThuqFpXG4gICA0NTFcdCAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgIDQ1Mlx0XG4gICA0NTNcdCAgICAgICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc2NlbmUgbeG7m2lcbiAgIDQ1NFx0ICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgNDU1XHQgICAgICAgICAgICBzdGFnZS5zZXRUaXRsZShcIlRyYSBj4bupdSBz4bqjbiBwaOG6qW1cIik7XG4gICA0NTZcdFxuICAgNDU3XHQgICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgIDQ1OFx0ICAgICAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgNDU5XHRcbiAgIDQ2MFx0ICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdSB0aMOgbmggY8O0bmdcIik7XG4gICA0NjFcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDQ2Mlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDQ2M1x0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICA0NjRcdFxuICAgNDY1XHQgICAgICAgICAgICAvLyBO4bq/dSBraMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0cmEgY+G7qXUsIGhp4buDbiB0aOG7iyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSB0csOqbiBnaWFvIGRp4buHbiBoaeG7h24gdOG6oWlcbiAgIDQ2Nlx0ICAgICAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICA0NjdcdCAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXModGltS2llbVN1YlZCb3gpO1xuICAgNDY4XHRcbiAgIDQ2OVx0ICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICA0NzBcdCAgICAgICAgICAgIHNob3dTZWFyY2hJbnRlcmZhY2UoKTtcbiAgIDQ3MVx0ICAgICAgICB9XG4gICA0NzJcdCAgICB9XG4gICA0NzNcdFxuICAgNDc0XHQgICAgQEZYTUxcbiAgIDQ3NVx0ICAgIHZvaWQgdG9RTEhvYURvbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0NzZcdCAgICAgICAgdHJ5IHtcbiAgIDQ3N1x0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgNDc4XHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX0hvYURvbl9ndWkuZnhtbFwiKTtcbiAgIDQ3OVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNDgwXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNDgxXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBow7NhIMSRxqFuIVwiKTtcbiAgIDQ4Mlx0ICAgICAgICB9XG4gICA0ODNcdCAgICB9XG4gICA0ODRcdFxuICAgNDg1XHQgICAgQEZYTUxcbiAgIDQ4Nlx0ICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0ODdcdCAgICAgICAgdHJ5IHtcbiAgIDQ4OFx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70ga2jDoWNoIGjDoG5nXG4gICA0ODlcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgNDkwXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA0OTFcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA0OTJcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICA0OTNcdCAgICAgICAgfVxuICAgNDk0XHQgICAgfVxuICAgNDk1XHRcbiAgIDQ5Nlx0ICAgIEBGWE1MXG4gICA0OTdcdCAgICB2b2lkIHRvUUxOaGFuVmllbihNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICA0OThcdCAgICAgICAgdHJ5IHtcbiAgIDQ5OVx0ICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gbmjDom4gdmnDqm5cbiAgIDUwMFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9OaGFuVmllbl9ndWkuZnhtbFwiKTtcbiAgIDUwMVx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTAyXHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTAzXHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBuaMOibiB2acOqbiFcIik7XG4gICA1MDRcdCAgICAgICAgfVxuICAgNTA1XHQgICAgfVxuICAgNTA2XHRcbiAgIDUwN1x0ICAgIEBGWE1MXG4gICA1MDhcdCAgICB2b2lkIHRvUUxQaGlldU5oYXAoTW91c2VFdmVudCBldmVudCkge1xuICAgNTA5XHQgICAgICAgIHRyeSB7XG4gICA1MTBcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICA1MTFcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfUGhpZXVOaGFwX2d1aS5meG1sXCIpO1xuICAgNTEyXHQgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICA1MTNcdCAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICA1MTRcdCAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wIVwiKTtcbiAgIDUxNVx0ICAgICAgICB9XG4gICA1MTZcdCAgICB9XG4gICA1MTdcdFxuICAgNTE4XHQgICAgQEZYTUxcbiAgIDUxOVx0ICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgNTIwXHQgICAgICAgIHRyeSB7XG4gICA1MjFcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHPhuqNuIHBo4bqpbVxuICAgNTIyXHQgICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1MjNcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDUyNFx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDUyNVx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgIDUyNlx0ICAgICAgICB9XG4gICA1MjdcdCAgICB9XG4gICA1MjhcdFxuICAgNTI5XHQgICAgQEZYTUxcbiAgIDUzMFx0ICAgIHZvaWQgdG9RTFRhaUtob2FuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDUzMVx0ICAgICAgICB0cnkge1xuICAgNTMyXHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o25cbiAgIDUzM1x0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9UYWlLaG9hbl9ndWkuZnhtbFwiKTtcbiAgIDUzNFx0ICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgNTM1XHQgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgNTM2XHQgICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSB0w6BpIGtob+G6o24hXCIpO1xuICAgNTM3XHQgICAgICAgIH1cbiAgIDUzOFx0ICAgIH1cbiAgIDUzOVx0XG4gICA1NDBcdCAgICBARlhNTFxuICAgNTQxXHQgICAgdm9pZCB0b1RLRG9hbmhUaHUoTW91c2VFdmVudCBldmVudCkge1xuICAgNTQyXHQgICAgICAgIHRyeSB7XG4gICA1NDNcdCAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgIDU0NFx0ICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlRG9hbmhUaHVfZ3VpLmZ4bWxcIik7XG4gICA1NDVcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU0Nlx0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDU0N1x0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIGRvYW5oIHRodSFcIik7XG4gICA1NDhcdCAgICAgICAgfVxuICAgNTQ5XHQgICAgfVxuICAgNTUwXHRcbiAgIDU1MVx0ICAgIEBGWE1MXG4gICA1NTJcdCAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgIDU1M1x0ICAgICAgICB0cnkge1xuICAgNTU0XHQgICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICA1NTVcdCAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICA1NTZcdCAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgIDU1N1x0ICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgIDU1OFx0ICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICA1NTlcdCAgICAgICAgfVxuICAgNTYwXHQgICAgfVxuVG90YWwgbGluZXMgaW4gZmlsZTogMTY5NlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOGExZDAyM2UtZGU4Yi00NTEzLWJmMTYtMTFiOWYwMGFiODRmO3Rvb2x1X3ZydHhfMDFVc3FTb0RMYlpVM3dvaHRlNmhVVzdhIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc3JjL21haW4vamF2YS9pdWgvZml0L2NvbnRyb2xsZXIvQmFuSGFuZ19jb250cm9sbGVyLmphdmE6XG4gIDE2ODBcdCAgICAgICAgICAgIH0gZWxzZSB7XG4gIDE2ODFcdCAgICAgICAgICAgICAgICAvLyBUaeG7gW4gdGjhu6thIMOibSAtIG3DoHUgxJHhu49cbiAgMTY4Mlx0ICAgICAgICAgICAgICAgIGxiX3RpZW5UaHVhLnNldFRleHQodGllblRodWFGb3JtYXR0ZWQpO1xuICAxNjgzXHQgICAgICAgICAgICAgICAgbGJfdGllblRodWEuc2V0U3R5bGUoXCItZngtZm9udC13ZWlnaHQ6IGJvbGQ7IC1meC10ZXh0LWZpbGw6ICNGRjAwMDA7XCIpO1xuICAxNjg0XHRcbiAgMTY4NVx0ICAgICAgICAgICAgICAgIC8vIE7hur91IHRp4buBbiBraMOhY2ggdHLhuqMga2jDtG5nIMSR4bunLCBraMO0bmcgY2hvIHBow6lwIHRoYW5oIHRvw6FuXG4gIDE2ODZcdCAgICAgICAgICAgICAgICBidG5fdGhhbmhUb2FuLnNldERpc2FibGUodHJ1ZSk7XG4gIDE2ODdcdCAgICAgICAgICAgIH1cbiAgMTY4OFx0ICAgICAgICB9IGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gZSkge1xuICAxNjg5XHQgICAgICAgICAgICAvLyBY4butIGzDvSBs4buXaSBjaHV54buDbiDEkeG7lWkgc+G7kVxuICAxNjkwXHQgICAgICAgICAgICBsYl90aWVuVGh1YS5zZXRUZXh0KFwiMCBWTsSQXCIpO1xuVG90YWwgbGluZXMgaW4gZmlsZTogMTY5NlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNTdiMTE4YzktNzJmNC00ZjZiLWJhMjMtMjY1NzJiNTYwNWFjO3Rvb2x1X3ZydHhfMDFGUGNaaTFqSDRnS3FCYjRYQk00QU1rIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL0JhbkhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuaW1wb3J0IGl1aC5maXQuQXBwO1xuaW1wb3J0IGl1aC5maXQuZGFvcy5DYUxhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLkNoaVRpZXRIb2FEb25fU2FuUGhhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLkhvYURvbl9kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLktoYWNoSGFuZ19kYW87XG5pbXBvcnQgaXVoLmZpdC5kYW9zLk5oYW5WaWVuX2RhbztcbmltcG9ydCBpdWguZml0LmRhb3MuU2FuUGhhbV9kYW87XG5pbXBvcnQgaXVoLmZpdC5lbnRpdGllcy4qO1xuaW1wb3J0IGl1aC5maXQuZW51bXMuUGh1b25nVGh1Y1RoYW5oVG9hbjtcbmltcG9ydCBqYXZhZnguYW5pbWF0aW9uLkZhZGVUcmFuc2l0aW9uO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uSW50ZXJwb2xhdG9yO1xuaW1wb3J0IGphdmFmeC5hbmltYXRpb24uS2V5RnJhbWU7XG5pbXBvcnQgamF2YWZ4LmFuaW1hdGlvbi5UaW1lbGluZTtcbmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuRlhDb2xsZWN0aW9ucztcbmltcG9ydCBqYXZhZnguY29sbGVjdGlvbnMuT2JzZXJ2YWJsZUxpc3Q7XG5pbXBvcnQgamF2YWZ4LmV2ZW50LkFjdGlvbkV2ZW50O1xuaW1wb3J0IGphdmFmeC5ldmVudC5FdmVudEhhbmRsZXI7XG5pbXBvcnQgamF2YWZ4LmZ4bWwuRlhNTDtcbmltcG9ydCBqYXZhZnguZnhtbC5GWE1MTG9hZGVyO1xuaW1wb3J0IGphdmFmeC5meG1sLkluaXRpYWxpemFibGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLlBhcmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUuU2NlbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuKjtcbmltcG9ydCBqYXZhZnguc2NlbmUuY29udHJvbC5BbGVydC5BbGVydFR5cGU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmNvbnRyb2wuY2VsbC5Qcm9wZXJ0eVZhbHVlRmFjdG9yeTtcbmltcG9ydCBqYXZhZnguc2NlbmUuaW1hZ2UuSW1hZ2VWaWV3O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5Nb3VzZUV2ZW50O1xuaW1wb3J0IGphdmFmeC5zY2VuZS5pbnB1dC5LZXlFdmVudDtcbmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LkFuY2hvclBhbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5HcmlkUGFuZTtcbmltcG9ydCBqYXZhZnguc2NlbmUubGF5b3V0LlBhbmU7XG5pbXBvcnQgamF2YWZ4LnNjZW5lLmxheW91dC5WQm94O1xuaW1wb3J0IGphdmFmeC5zdGFnZS5TdGFnZTtcbmltcG9ydCBqYXZhZngudXRpbC5EdXJhdGlvbjtcblxuXG5wdWJsaWMgY2xhc3MgQmFuSGFuZ19jb250cm9sbGVyIGltcGxlbWVudHMgSW5pdGlhbGl6YWJsZSB7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViTWVudUxpc3Q7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgVkJveCBiYW5IYW5nU3ViVkJveDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBCdXR0b24gYnRuX3RoZW1TUDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX0hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX2dpb0hhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19ob2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ19uaGFuVmllbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3BoaWV1TmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3F1YW5MeTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3NhblBoYW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190YWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3Rob25nS2U7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlRG9hbmhUaHU7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgSW1hZ2VWaWV3IGltZ190aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBJbWFnZVZpZXcgaW1nX3RpbUtpZW07XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfSG9hRG9uO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX2dpb0hhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgTGFiZWwgbGJfaG9hRG9uO1xuLi4uXG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfY2h1eWVuS2hvYW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUmFkaW9CdXR0b24gcmJfdGhlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFRvZ2dsZUdyb3VwIHBodW9uZ1RodWNUVDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rob25nS2VEb2FuaFRodTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBMYWJlbCBsYl90aW1LaWVtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9Ib2FEb247XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX2dpb0hhbmc7XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX2hvYURvbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfbmhhblZpZW47XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgUGFuZSBwX3BoaWV1TmhhcDtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfcXVhbkx5O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF9zYW5QaGFtO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90YWlLaG9hbjtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGhvbmdLZURvYW5oVGh1O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFBhbmUgcF90aG9uZ0tlU2FuUGhhbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBQYW5lIHBfdGltS2llbTtcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBWQm94IHF1YW5MeVN1Yk1lbnVMaXN0O1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIFZCb3ggcXVhbkx5U3ViVkJveDtcbi4uLlxuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIExhYmVsIGxiX3Rlbk5WO1xuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBDb21ib0JveDw/PiBjYl9uZ2FuSGFuZztcblxuICAgIEBGWE1MXG4gICAgcHJpdmF0ZSBHcmlkUGFuZSBncmlkX2NodXllbktob2FuO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEdyaWRQYW5lIGdyaWRfdGhlO1xuXG4gICAgQEZYTUxcbiAgICBwcml2YXRlIEdyaWRQYW5lIGdyaWRfdGllbk1hdDtcblxuICAgIE1hcDxWQm94LFZCb3g+IG1hcCA9IG5ldyBIYXNoTWFwPFZCb3gsVkJveD4oKTtcblxuICAgIC8vIERBTyDEkeG7gyB0cnV5IHh14bqldCBk4buvIGxp4buHdVxuICAgIHByaXZhdGUgU2FuUGhhbV9kYW8gc2FuUGhhbURhbztcbiAgICBwcml2YXRlIEhvYURvbl9kYW8gaG9hRG9uRGFvO1xuICAgIHByaXZhdGUgS2hhY2hIYW5nX2RhbyBraGFjaEhhbmdEYW87XG4gICAgcHJpdmF0ZSBDaGlUaWV0SG9hRG9uX1NhblBoYW1fZGFvIGNoaVRpZXRIb2FEb25EYW87XG4gICAgcHJpdmF0ZSBDYUxhbV9kYW8gY2FMYW1EYW87XG4gICAgcHJpdmF0ZSBOaGFuVmllbl9kYW8gbmhhblZpZW5EYW87XG5cbiAgICAvLyBEYW5oIHPDoWNoIGPDoWMgc+G6o24gcGjhuqltIHRyb25nIGdp4buPIGjDoG5nXG4gICAgcHJpdmF0ZSBPYnNlcnZhYmxlTGlzdDxTYW5QaGFtPiBjYXJ0SXRlbXM7XG5cbiAgICAvLyBT4buRIGzGsOG7o25nIHPhuqNuIHBo4bqpbSB0cm9uZyBnaeG7jyBow6BuZ1xuICAgIHByaXZhdGUgTWFwPFN0cmluZywgSW50ZWdlcj4gcHJvZHVjdFF1YW50aXRpZXMgPSBuZXcgSGFzaE1hcDw+KCk7XG5cbiAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKFVSTCBsb2NhdGlvbiwgUmVzb3VyY2VCdW5kbGUgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIEto4bufaSB04bqhbyBjw6FjIERBT1xuICAgICAgICBzYW5QaGFtRGFvID0gbmV3IFNhblBoYW1fZGFvKCk7XG4gICAgICAgIGhvYURvbkRhbyA9IG5ldyBIb2FEb25fZGFvKCk7XG4gICAgICAgIGtoYWNoSGFuZ0RhbyA9IG5ldyBLaGFjaEhhbmdfZGFvKCk7XG4gICAgICAgIGNoaVRpZXRIb2FEb25EYW8gPSBuZXcgQ2hpVGlldEhvYURvbl9TYW5QaGFtX2RhbygpO1xuICAgICAgICBjYUxhbURhbyA9IG5ldyBDYUxhbV9kYW8oKTtcbiAgICAgICAgbmhhblZpZW5EYW8gPSBuZXcgTmhhblZpZW5fZGFvKCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIGPDoWMgbWVudVxuICAgICAgICBhZGRNZW51c1RvTWFwKCk7XG5cbiAgICAgICAgLy8gSGnhu4NuIHRo4buLIG5nw6B5IHbDoCB0aOG7nWkgZ2lhbiBoaeG7h24gdOG6oWlcbiAgICAgICAgZGlzcGxheUN1cnJlbnREYXRlVGltZSgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyBi4bqjbmcgZ2nhu48gaMOgbmdcbiAgICAgICAgaW5pdGlhbGl6ZVRhYmxlKCk7XG5cbiAgICAgICAgLy8gS2jhu59pIHThuqFvIHRow7RuZyB0aW4gaMOzYSDEkcahblxuICAgICAgICBpbml0aWFsaXplSW52b2ljZUluZm8oKTtcblxuICAgICAgICAvLyBLaOG7n2kgdOG6oW8gdOG7lW5nIHRp4buBblxuICAgICAgICB1cGRhdGVUb3RhbEFtb3VudCgpO1xuXG4gICAgICAgIC8vIEto4bufaSB04bqhbyB0aMO0bmcgdGluIG5ow6JuIHZpw6puXG4gICAgICAgIGluaXRpYWxpemVOaGFuVmllbigpO1xuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oQXBwLnVzZXIpO1xuXG4gICAgICAgIC8vIFRoaeG6v3QgbOG6rXAgc+G7sSBraeG7h24gY2hvIGPDoWMgdGjDoG5oIHBo4bqnbiB0cm9uZyBQYW5lIHRow7RuZyB0aW4gxJHGoW4gaMOgbmdcbiAgICAgICAgc2V0dXBJbnZvaWNlRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIE1lbnVzIHRvIG1hcFxuICAgICAqL1xuICAgIHB1YmxpYyB2b2lkIGFkZE1lbnVzVG9NYXAoKSB7XG4gICAgICAgIGFkZE1lbnVzVG9NYXBJbXBsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2b2lkIGFkZE1lbnVzVG9NYXBJbXBsKCkge1xuICAgICAgICBtYXAucHV0KGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICBtYXAucHV0KHF1YW5MeVN1YlZCb3gsIHF1YW5MeVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aW1LaWVtU3ViVkJveCwgdGltS2llbVN1Yk1lbnVMaXN0KTtcbiAgICAgICAgbWFwLnB1dCh0aG9uZ0tlU3ViVkJveCx0aG9uZ0tlU3ViTWVudUxpc3QpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIGNvbXBvbmVudHMgZnJvbSBWQm94IG9uIGxvYWQgb2Ygc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZvciAoTWFwLkVudHJ5PFZCb3gsVkJveD4gZW50cnkgOiBtYXAuZW50cnlTZXQoKSkge1xuICAgICAgICAgICAgZW50cnkuZ2V0S2V5KCkuZ2V0Q2hpbGRyZW4oKS5yZW1vdmUoZW50cnkuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVudSBzbGlkZXJcbiAgICAgKiBAcGFyYW0gbWVudVxuICAgICAqIEBwYXJhbSBzdWJNZW51XG4gICAgICovXG4gICAgcHVibGljIHZvaWQgdG9vbHNTbGlkZXIoVkJveCBtZW51LFZCb3ggc3ViTWVudSl7XG4gICAgICAgIHRvb2xzU2xpZGVySW1wbChtZW51LHN1Yk1lbnUpO1xuICAgIH1cbi4uLlxuICAgIHByaXZhdGUgdm9pZCByZW1vdmVPdGhlck1lbnVzSW1wbChWQm94IG1lbnUpIHtcbiAgICAgICAgZm9yIChNYXAuRW50cnk8VkJveCxWQm94PiBlbnRyeSA6IG1hcC5lbnRyeVNldCgpKSB7XG4gICAgICAgICAgICBpZighZW50cnkuZ2V0S2V5KCkuZXF1YWxzKG1lbnUpKVxuICAgICAgICAgICAgICAgIGVudHJ5LmdldEtleSgpLmdldENoaWxkcmVuKCkucmVtb3ZlKGVudHJ5LmdldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZUdpb0hhbmdDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbWVudSBiw6FuIGjDoG5nXG4gICAgICAgICAgICBpZiAoYmFuSGFuZ1N1YlZCb3ggIT0gbnVsbCAmJiBiYW5IYW5nU3ViTWVudUxpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRvb2xzU2xpZGVyKGJhbkhhbmdTdWJWQm94LCBiYW5IYW5nU3ViTWVudUxpc3QpO1xuICAgICAgICAgICAgICAgIHJlbW92ZU90aGVyTWVudXMoYmFuSGFuZ1N1YlZCb3gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgZ2lhbyBkaeG7h24gYsOhbiBow6BuZyBjaMOtbmhcbiAgICAgICAgICAgIHNob3dNYWluU2FsZXNJbnRlcmZhY2UoKTtcblxuICAgICAgICAgICAgLy8gTMOgbSBt4bubaSBnaeG7jyBow6BuZ1xuICAgICAgICAgICAgdXBkYXRlVG90YWxBbW91bnQoKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbihcIkzhu5dpIHRyb25nIGhhbmRsZUdpb0hhbmdDbGljazogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVF1YW5MeUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdG9vbHNTbGlkZXIocXVhbkx5U3ViVkJveCxxdWFuTHlTdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXMocXVhbkx5U3ViVkJveCk7XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIGhhbmRsZVRob25nS2VDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRvb2xzU2xpZGVyKHRob25nS2VTdWJWQm94LHRob25nS2VTdWJNZW51TGlzdCk7XG4gICAgICAgIHJlbW92ZU90aGVyTWVudXModGhvbmdLZVN1YlZCb3gpO1xuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIFRyYUN1dV9ndWkuZnhtbFxuICAgICAgICAgICAgRlhNTExvYWRlciBsb2FkZXIgPSBuZXcgRlhNTExvYWRlcihnZXRDbGFzcygpLmdldFJlc291cmNlKFwiL2Z4bWwvVHJhQ3V1X2d1aS5meG1sXCIpKTtcbiAgICAgICAgICAgIFBhcmVudCByb290ID0gbG9hZGVyLmxvYWQoKTtcbiAgICAgICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuXG4gICAgICAgICAgICAvLyBM4bqleSBzdGFnZSBoaeG7h24gdOG6oWlcbiAgICAgICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcblxuICAgICAgICAgICAgLy8gVGhp4bq/dCBs4bqtcCBzY2VuZSBt4bubaVxuICAgICAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICAgICAgc3RhZ2Uuc2V0VGl0bGUoXCJUcmEgY+G7qXUgc+G6o24gcGjhuqltXCIpO1xuXG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgc3RhZ2VcbiAgICAgICAgICAgIHN0YWdlLnNob3coKTtcblxuICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRyYSBj4bupdSB0aMOgbmggY8O0bmdcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG5cbiAgICAgICAgICAgIC8vIE7hur91IGtow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSwgaGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tIHRyw6puIGdpYW8gZGnhu4duIGhp4buHbiB04bqhaVxuICAgICAgICAgICAgdG9vbHNTbGlkZXIodGltS2llbVN1YlZCb3gsIHRpbUtpZW1TdWJNZW51TGlzdCk7XG4gICAgICAgICAgICByZW1vdmVPdGhlck1lbnVzKHRpbUtpZW1TdWJWQm94KTtcblxuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGdpYW8gZGnhu4duIHTDrG0ga2nhur9tXG4gICAgICAgICAgICBzaG93U2VhcmNoSW50ZXJmYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQEZYTUxcbiAgICB2b2lkIHRoZW1TYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgLy8gTOG6pXkgbcOjIHPhuqNuIHBo4bqpbSB2w6Agc+G7kSBsxrDhu6NuZyB04burIGPDoWMgdHLGsOG7nW5nIG5o4bqtcCBsaeG7h3VcbiAgICAgICAgU3RyaW5nIG1hU1AgPSB0eHRfbmhhcE1hLmdldFRleHQoKS50cmltKCk7XG4gICAgICAgIFN0cmluZyBzb0x1b25nU3RyID0gdHh0X25oYXBTTC5nZXRUZXh0KCkudHJpbSgpO1xuXG4gICAgICAgIC8vIEtp4buDbSB0cmEgZOG7ryBsaeG7h3Ugbmjhuq1wIHbDoG9cbiAgICAgICAgaWYgKG1hU1AuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLldBUk5JTkcsIFwiVGjDtG5nIGLDoW9cIiwgXCJWdWkgbMOybmcgbmjhuq1wIG3DoyBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICAgICAgdHh0X25oYXBNYS5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb0x1b25nU3RyLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5XQVJOSU5HLCBcIlRow7RuZyBiw6FvXCIsIFwiVnVpIGzDsm5nIG5o4bqtcCBz4buRIGzGsOG7o25nIVwiKTtcbiAgICAgICAgICAgIHR4dF9uaGFwU0wucmVxdWVzdEZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW50IHNvTHVvbmcgPSBJbnRlZ2VyLnBhcnNlSW50KHNvTHVvbmdTdHIpO1xuICAgICAgICAgICAgaWYgKHNvTHVvbmcgPD0gMCkge1xuICAgICAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuV0FSTklORywgXCJUaMO0bmcgYsOhb1wiLCBcIlPhu5EgbMaw4bujbmcgcGjhuqNpIGzhu5tuIGjGoW4gMCFcIik7XG4gICAgICAgICAgICAgICAgdHh0X25oYXBTTC5yZXF1ZXN0Rm9jdXMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFTDrG0ga2nhur9tIHPhuqNuIHBo4bqpbSB0aGVvIG3DoyB2w6AgdGjDqm0gdsOgbyBnaeG7jyBow6BuZ1xuICAgICAgICAgICAgYWRkUHJvZHVjdFRvQ2FydChtYVNQLCBzb0x1b25nKTtcblxuICAgICAgICAgICAgLy8gWMOzYSBk4buvIGxp4buHdSB0cm9uZyBjw6FjIHRyxrDhu51uZyBuaOG6rXAgbGnhu4d1XG4gICAgICAgICAgICB0eHRfbmhhcE1hLmNsZWFyKCk7XG4gICAgICAgICAgICB0eHRfbmhhcFNMLmNsZWFyKCk7XG4gICAgICAgICAgICB0eHRfbmhhcE1hLnJlcXVlc3RGb2N1cygpO1xuXG4gICAgICAgIH0gY2F0Y2ggKE51bWJlckZvcm1hdEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiU+G7kSBsxrDhu6NuZyBwaOG6o2kgbMOgIHPhu5Egbmd1ecOqbiFcIik7XG4gICAgICAgICAgICB0eHRfbmhhcFNMLnJlcXVlc3RGb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvUUxIb2FEb24oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahblxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9RTF9Ib2FEb25fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gaMOzYSDEkcahbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTEtoYWNoSGFuZyhNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBraMOhY2ggaMOgbmdcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfS2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGtow6FjaCBow6BuZyFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTE5oYW5WaWVuKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX05oYW5WaWVuX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IG5ow6JuIHZpw6puIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMUGhpZXVOaGFwKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHBoaeG6v3Ugbmjhuq1wXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1BoaWV1TmhhcF9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gcXXhuqNuIGzDvSBwaGnhur91IG5o4bqtcCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9RTFNhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1NhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHF14bqjbiBsw70gc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMVGFpS2hvYW4oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHF14bqjbiBsw70gdMOgaSBraG/huqNuXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1FMX1RhaUtob2FuX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IHTDoGkga2hv4bqjbiFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US0RvYW5oVGh1KE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHVcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZURvYW5oVGh1X2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBkb2FuaCB0aHUhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgICAgICAgICAgLy8gS2jhu59pIHThuqFvIGRhbmggc8OhY2ggZ2nhu48gaMOgbmcgdHLhu5FuZ1xuICAgICAgICAgICAgY2FydEl0ZW1zID0gRlhDb2xsZWN0aW9ucy5vYnNlcnZhYmxlQXJyYXlMaXN0KCk7XG4gICAgICAgICAgICBpZiAodGFibGVWaWV3ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0YWJsZVZpZXcuc2V0SXRlbXMoY2FydEl0ZW1zKTtcblxuICAgICAgICAgICAgICAgIC8vIFRow6ptIHPhu7Ega2nhu4duIG5o4bqlcCDEkcO6cCB2w6BvIGLhuqNuZ1xuICAgICAgICAgICAgICAgIHRhYmxlVmlldy5zZXRPbk1vdXNlQ2xpY2tlZCh0aGlzOjpoYW5kbGVTZWFyY2hSZXN1bHREb3VibGVDbGljayk7XG5cbiAgICAgICAgICAgICAgICAvLyBUaMOqbSBjb250ZXh0IG1lbnUgY2hvIGLhuqNuZ1xuICAgICAgICAgICAgICAgIHNldHVwVGFibGVDb250ZXh0TWVudSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJUYWJsZVZpZXcgaXMgbnVsbC4gQ2hlY2sgeW91ciBGWE1MIGZpbGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcIkVycm9yIGluaXRpYWxpemluZyB0YWJsZTogXCIgKyBlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG4uLi5cblxuICAgIC8qKlxuICAgICAqIEto4bufaSB04bqhbyBk4buvIGxp4buHdSB0w6xtIGtp4bq/bVxuICAgICAqL1xuICAgIHByaXZhdGUgdm9pZCBpbml0aWFsaXplU2VhcmNoRGF0YSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFThuqFvIGRhbmggc8OhY2ggc+G6o24gcGjhuqltIGNobyB0w6xtIGtp4bq/bVxuICAgICAgICAgICAgT2JzZXJ2YWJsZUxpc3Q8U2FuUGhhbT4gc2VhcmNoUmVzdWx0cyA9IEZYQ29sbGVjdGlvbnMub2JzZXJ2YWJsZUFycmF5TGlzdCgpO1xuXG4gICAgICAgICAgICAvLyBM4bqleSB04bqldCBj4bqjIHPhuqNuIHBo4bqpbSB04burIGRhdGFiYXNlXG4gICAgICAgICAgICBMaXN0PFNhblBoYW0+IGFsbFByb2R1Y3RzID0gc2FuUGhhbURhby5yZWFkQWxsKCk7XG4gICAgICAgICAgICBzZWFyY2hSZXN1bHRzLmFkZEFsbChhbGxQcm9kdWN0cyk7XG5cbiAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBr4bq/dCBxdeG6oyB0w6xtIGtp4bq/bSB0cm9uZyBi4bqjbmdcbiAgICAgICAgICAgIC8vIFPhu60gZOG7pW5nIGLhuqNuZyBoaeG7h24gdOG6oWkgxJHhu4MgaGnhu4NuIHRo4buLIGvhur90IHF14bqjIHTDrG0ga2nhur9tXG4gICAgICAgICAgICB0YWJsZVZpZXcuc2V0SXRlbXMoc2VhcmNoUmVzdWx0cyk7XG5cblxuICAgICAgICAgICAgLy8gVGjDqm0gc+G7sSBraeG7h24gY2hvIHRyxrDhu51uZyB0w6xtIGtp4bq/bVxuICAgICAgICAgICAgc2V0dXBTZWFyY2hGaWVsZCgpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4Mga2jhu59pIHThuqFvIGThu68gbGnhu4d1IHTDrG0ga2nhur9tOiBcIiArIGUuZ2V0TWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbi4uLlxuXG4gICAgLyoqXG4gICAgICogSGnhu4NuIHRo4buLIHRow7RuZyBiw6FvXG4gICAgICovXG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCBGWE1MIGZpbGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHByaXZhdGUgdm9pZCB0b2dnbGVQYXltZW50TWV0aG9kKCkge1xuICAgICAgICAvLyBTaG93L2hpZGUgYXBwcm9wcmlhdGUgcGF5bWVudCBmaWVsZHMgYmFzZWQgb24gc2VsZWN0aW9uXG4gICAgICAgIGJvb2xlYW4gaXNDYXNoU2VsZWN0ZWQgPSByYl90aWVuTWF0LmlzU2VsZWN0ZWQoKTtcbiAgICAgICAgYm9vbGVhbiBpc1RyYW5zZmVyU2VsZWN0ZWQgPSByYl9jaHV5ZW5LaG9hbi5pc1NlbGVjdGVkKCk7XG4gICAgICAgIGJvb2xlYW4gaXNDYXJkU2VsZWN0ZWQgPSByYl90aGUuaXNTZWxlY3RlZCgpO1xuXG4gICAgICAgIGdyaWRfdGllbk1hdC5zZXRWaXNpYmxlKGlzQ2FzaFNlbGVjdGVkKTtcbiAgICAgICAgZ3JpZF90aWVuTWF0LnNldE1hbmFnZWQoaXNDYXNoU2VsZWN0ZWQpO1xuXG4gICAgICAgIGdyaWRfY2h1eWVuS2hvYW4uc2V0VmlzaWJsZShpc1RyYW5zZmVyU2VsZWN0ZWQpO1xuICAgICAgICBncmlkX2NodXllbktob2FuLnNldE1hbmFnZWQoaXNUcmFuc2ZlclNlbGVjdGVkKTtcblxuICAgICAgICBncmlkX3RoZS5zZXRWaXNpYmxlKGlzQ2FyZFNlbGVjdGVkKTtcbiAgICAgICAgZ3JpZF90aGUuc2V0TWFuYWdlZChpc0NhcmRTZWxlY3RlZCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9LaGFjaEhhbmdfY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVRdWFuTHlDbGljayhNb3VzZUV2ZW50IGV2ZW50KSB7XG5cbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgaGFuZGxlVGhvbmdLZUNsaWNrKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cblxuICAgIEBGWE1MXG4gICAgdm9pZCBoYW5kbGVUaW1LaWVtQ2xpY2soTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UcmFDdXVfZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRyYSBj4bupdSFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1FMSG9hRG9uKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW5cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvUUxfSG9hRG9uX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiBxdeG6o24gbMO9IGjDs2EgxJHGoW4hXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgdG9US1NhblBoYW0oTW91c2VFdmVudCBldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2h1eeG7g24gxJHhur9uIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbVxuICAgICAgICAgICAgbG9hZEZYTUwoXCIvZnhtbC9UaG9uZ0tlU2FuUGhhbV9ndWkuZnhtbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7XG4gICAgICAgICAgICBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlLkVSUk9SLCBcIkzhu5dpXCIsIFwiS2jDtG5nIHRo4buDIG3hu58gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZSBhbGVydFR5cGUsIFN0cmluZyB0aXRsZSwgU3RyaW5nIGNvbnRlbnQpIHtcbiAgICAgICAgQWxlcnQgYWxlcnQgPSBuZXcgQWxlcnQoYWxlcnRUeXBlKTtcbiAgICAgICAgYWxlcnQuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICBhbGVydC5zZXRIZWFkZXJUZXh0KG51bGwpO1xuICAgICAgICBhbGVydC5zZXRDb250ZW50VGV4dChjb250ZW50KTtcbiAgICAgICAgYWxlcnQuc2hvd0FuZFdhaXQoKTtcbiAgICB9XG5cbiAgICBARlhNTFxuICAgIHZvaWQgbW9HaWFvRGllblRpbUtpZW1LSChNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVHJhQ3V1S2hhY2hIYW5nX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0w6xtIGtp4bq/bSBraMOhY2ggaMOgbmchXCIpO1xuICAgICAgICB9XG4gICAgfVxuLi4uXG5cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1BoaWV1TmhhcF9jb250cm9sbGVyLmphdmFcbi4uLlxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgbG9hZFRhYmxlRGF0YSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFThuqFvIERBTyBvYmplY3RcbiAgICAgICAgICAgIFBoaWV1TmhhcEhhbmdfZGFvIHBOaGFwREFPID0gbmV3IFBoaWV1TmhhcEhhbmdfZGFvKCk7XG5cbiAgICAgICAgICAgIC8vIFjDs2EgZOG7ryBsaeG7h3UgY8WpIHRyb25nIHRhYmxlXG4gICAgICAgICAgICB0YWJsZV9QTmhhcC5nZXRJdGVtcygpLmNsZWFyKCk7XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX1NhblBoYW1fY29udHJvbGxlci5qYXZhXG4uLi5cblxuICAgIEBGWE1MXG4gICAgdm9pZCB0b1RLU2FuUGhhbShNb3VzZUV2ZW50IGV2ZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaHV54buDbiDEkeG6v24gZ2lhbyBkaeG7h24gdGjhu5FuZyBrw6ogc+G6o24gcGjhuqltXG4gICAgICAgICAgICBsb2FkRlhNTChcIi9meG1sL1Rob25nS2VTYW5QaGFtX2d1aS5meG1sXCIpO1xuICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuICAgICAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTtcbiAgICAgICAgICAgIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUuRVJST1IsIFwiTOG7l2lcIiwgXCJLaMO0bmcgdGjhu4MgbeG7nyBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW0hXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBzaG93QWxlcnQoQWxlcnQuQWxlcnRUeXBlIGFsZXJ0VHlwZSwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgY29udGVudCkge1xuICAgICAgICBBbGVydCBhbGVydCA9IG5ldyBBbGVydChhbGVydFR5cGUpO1xuICAgICAgICBhbGVydC5zZXRUaXRsZSh0aXRsZSk7XG4gICAgICAgIGFsZXJ0LnNldEhlYWRlclRleHQobnVsbCk7XG4gICAgICAgIGFsZXJ0LnNldENvbnRlbnRUZXh0KGNvbnRlbnQpO1xuICAgICAgICBhbGVydC5zaG93QW5kV2FpdCgpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB2b2lkIGxvYWRGWE1MKFN0cmluZyBmeG1sUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4gICAgICAgIFBhcmVudCByb290ID0gRlhNTExvYWRlci5sb2FkKGdldENsYXNzKCkuZ2V0UmVzb3VyY2UoZnhtbFBhdGgpKTtcbiAgICAgICAgU2NlbmUgc2NlbmUgPSBuZXcgU2NlbmUocm9vdCk7XG4gICAgICAgIFN0YWdlIHN0YWdlID0gKFN0YWdlKSBwX2dpb0hhbmcuZ2V0U2NlbmUoKS5nZXRXaW5kb3coKTtcbiAgICAgICAgc3RhZ2Uuc2V0U2NlbmUoc2NlbmUpO1xuICAgICAgICBzdGFnZS5zaG93KCk7XG4gICAgfVxuLi4uXG5QYXRoOiBzcmMvbWFpbi9qYXZhL2l1aC9maXQvY29udHJvbGxlci9RTF9UYWlLb2FuX2NvbnRyb2xsZXIuamF2YVxuLi4uXG5cbiAgICBARlhNTFxuICAgIHZvaWQgeG9hTlYoTW91c2VFdmVudCBldmVudCkge1xuXG4gICAgfVxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHhvYVRyYW5nKE1vdXNlRXZlbnQgZXZlbnQpIHtcblxuICAgIH1cbiAgICBwcml2YXRlIHZvaWQgbG9hZEZYTUwoU3RyaW5nIGZ4bWxQYXRoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiAgICAgICAgUGFyZW50IHJvb3QgPSBGWE1MTG9hZGVyLmxvYWQoZ2V0Q2xhc3MoKS5nZXRSZXNvdXJjZShmeG1sUGF0aCkpO1xuICAgICAgICBTY2VuZSBzY2VuZSA9IG5ldyBTY2VuZShyb290KTtcbiAgICAgICAgU3RhZ2Ugc3RhZ2UgPSAoU3RhZ2UpIHBfZ2lvSGFuZy5nZXRTY2VuZSgpLmdldFdpbmRvdygpO1xuICAgICAgICBzdGFnZS5zZXRTY2VuZShzY2VuZSk7XG4gICAgICAgIHN0YWdlLnNob3coKTtcbiAgICB9XG4uLi5cblBhdGg6IHNyYy9tYWluL2phdmEvaXVoL2ZpdC9jb250cm9sbGVyL1FMX0hvYURvbl9jb250cm9sbGVyLmphdmFcbi4uLlxuXG4gICAgQEZYTUxcbiAgICB2b2lkIHRvVEtTYW5QaGFtKE1vdXNlRXZlbnQgZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENodXnhu4NuIMSR4bq/biBnaWFvIGRp4buHbiB0aOG7kW5nIGvDqiBz4bqjbiBwaOG6qW1cbiAgICAgICAgICAgIGxvYWRGWE1MKFwiL2Z4bWwvVGhvbmdLZVNhblBoYW1fZ3VpLmZ4bWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpO1xuICAgICAgICAgICAgc2hvd0FsZXJ0KEFsZXJ0LkFsZXJ0VHlwZS5FUlJPUiwgXCJM4buXaVwiLCBcIktow7RuZyB0aOG7gyBt4bufIGdpYW8gZGnhu4duIHRo4buRbmcga8OqIHPhuqNuIHBo4bqpbSFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSB2b2lkIHNob3dBbGVydChBbGVydC5BbGVydFR5cGUgYWxlcnRUeXBlLCBTdHJpbmcgdGl0bGUsIFN0cmluZyBjb250ZW50KSB7XG4gICAgICAgIEFsZXJ0IGFsZXJ0ID0gbmV3IEFsZXJ0KGFsZXJ0VHlwZSk7XG4gICAgICAgIGFsZXJ0LnNldFRpdGxlKHRpdGxlKTtcbiAgICAgICAgYWxlcnQuc2V0SGVhZGVyVGV4dChudWxsKTtcbiAgICAgICAgYWxlcnQuc2V0Q29udGVudFRleHQoY29udGVudCk7XG4gICAgICAgIGFsZXJ0LnNob3dBbmRXYWl0KCk7XG4gICAgfVxuICAgIHByaXZhdGUgdm9pZCBsb2FkRlhNTChTdHJpbmcgZnhtbFBhdGgpIHRocm93cyBFeGNlcHRpb24ge1xuICAgICAgICBQYXJlbnQgcm9vdCA9IEZYTUxMb2FkZXIubG9hZChnZXRDbGFzcygpLmdldFJlc291cmNlKGZ4bWxQYXRoKSk7XG4gICAgICAgIFNjZW5lIHNjZW5lID0gbmV3IFNjZW5lKHJvb3QpO1xuICAgICAgICBTdGFnZSBzdGFnZSA9IChTdGFnZSkgcF9naW9IYW5nLmdldFNjZW5lKCkuZ2V0V2luZG93KCk7XG4gICAgICAgIHN0YWdlLnNldFNjZW5lKHNjZW5lKTtcbiAgICAgICAgc3RhZ2Uuc2hvdygpO1xuICAgIH1cbi4uLlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzQWdlbnRPbmJvYXJkZWQiOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlLCJiYXNlbGluZVRpbWVzdGFtcCI6MH0sInBlcnNvbmFUeXBlIjowfX0sImFnZW50RXhlY3V0aW9uTW9kZSI6Im1hbnVhbCIsImlzQWdlbnRFZGl0c0NvbGxhcHNlZCI6dHJ1ZX0=" />
      </map>
    </option>
  </component>
</project>